<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3.1"/>
<title>Clondike: tcmi_err_procmsg class</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Clondike
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('d2/d60/group__tcmi__err__procmsg__class.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">tcmi_err_procmsg class<div class="ingroups"><a class="el" href="../../d7/dc8/group__tcmi__procmsg__class.html">tcmi_procmsg class</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>This class represents a generic error process message.  
<a href="#details">More...</a></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="../../closed.png" alt="+"/> Collaboration diagram for tcmi_err_procmsg class:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<center><table><tr><td><img src="../../d2/d60/group__tcmi__err__procmsg__class.png" border="0" alt="" usemap="#d2_2d60_2group____tcmi____err____procmsg____class"/>
<map name="d2_2d60_2group____tcmi____err____procmsg____class" id="d2_2d60_2group____tcmi____err____procmsg____class">
<area shape="rect" id="node2" href="../../d7/dc8/group__tcmi__procmsg__class.html" title="This class represents a generic process message." alt="" coords="5,5,144,32"/></map>
</td></tr></table></center>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:d9/d26/structtcmi__err__procmsg"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d60/group__tcmi__err__procmsg__class.html#d9/d26/structtcmi__err__procmsg">tcmi_err_procmsg</a></td></tr>
<tr class="memdesc:d9/d26/structtcmi__err__procmsg"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compound structure, inherits from tcmi_msg_class.  <a href="../../d2/d60/group__tcmi__err__procmsg__class.html#d9/d26/structtcmi__err__procmsg">More...</a><br/></td></tr>
<tr class="separator:d9/d26/structtcmi__err__procmsg"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga95dc3dfd6be3b7beeab9c5e9043f86e5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d60/group__tcmi__err__procmsg__class.html#ga95dc3dfd6be3b7beeab9c5e9043f86e5">TCMI_ERR_PROCMSG</a>(m)&#160;&#160;&#160;((struct <a class="el" href="../../d2/d60/group__tcmi__err__procmsg__class.html#d9/d26/structtcmi__err__procmsg">tcmi_err_procmsg</a>*)m)</td></tr>
<tr class="memdesc:ga95dc3dfd6be3b7beeab9c5e9043f86e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Casts to the <a class="el" href="../../d2/d60/group__tcmi__err__procmsg__class.html#d9/d26/structtcmi__err__procmsg" title="Compound structure, inherits from tcmi_msg_class.">tcmi_err_procmsg</a> instance.  <a href="#ga95dc3dfd6be3b7beeab9c5e9043f86e5">More...</a><br/></td></tr>
<tr class="separator:ga95dc3dfd6be3b7beeab9c5e9043f86e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaf3cf5e863e2241b016d1f76d30ff6015"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d60/group__tcmi__err__procmsg__class.html#gaf3cf5e863e2241b016d1f76d30ff6015">tcmi_err_procmsg_recv</a> (struct <a class="el" href="../../d7/dc8/group__tcmi__procmsg__class.html#de/d91/structtcmi__procmsg">tcmi_procmsg</a> *<a class="el" href="../../db/d61/group__tcmi__penman__class.html#gae3924f624412b270d461d2543744407e">self</a>, struct <a class="el" href="../../d6/d8e/group__kkc__sock__class.html#da/d0d/structkkc__sock">kkc_sock</a> *sock)</td></tr>
<tr class="memdesc:gaf3cf5e863e2241b016d1f76d30ff6015"><td class="mdescLeft">&#160;</td><td class="mdescRight">&lt;&lt;private&gt;&gt; Receives the message via a specified connection.  <a href="#gaf3cf5e863e2241b016d1f76d30ff6015">More...</a><br/></td></tr>
<tr class="separator:gaf3cf5e863e2241b016d1f76d30ff6015"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga36629014005a9b382af3116a110c4394"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d60/group__tcmi__err__procmsg__class.html#ga36629014005a9b382af3116a110c4394">tcmi_err_procmsg_send</a> (struct <a class="el" href="../../d7/dc8/group__tcmi__procmsg__class.html#de/d91/structtcmi__procmsg">tcmi_procmsg</a> *<a class="el" href="../../db/d61/group__tcmi__penman__class.html#gae3924f624412b270d461d2543744407e">self</a>, struct <a class="el" href="../../d6/d8e/group__kkc__sock__class.html#da/d0d/structkkc__sock">kkc_sock</a> *sock)</td></tr>
<tr class="memdesc:ga36629014005a9b382af3116a110c4394"><td class="mdescLeft">&#160;</td><td class="mdescRight">&lt;&lt;private&gt;&gt; Sends out the error code via specified socket.  <a href="#ga36629014005a9b382af3116a110c4394">More...</a><br/></td></tr>
<tr class="separator:ga36629014005a9b382af3116a110c4394"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga61c9522b3dabad0d48d758fce4ea62f1"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d6/dc2/group__tcmi__msg__class.html#d0/d5b/structtcmi__msg">tcmi_msg</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d60/group__tcmi__err__procmsg__class.html#ga61c9522b3dabad0d48d758fce4ea62f1">tcmi_err_procmsg_new_rx</a> (u_int32_t msg_id)</td></tr>
<tr class="memdesc:ga61c9522b3dabad0d48d758fce4ea62f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">&lt;&lt;public&gt;&gt; Error process message, constructor for receiving.  <a href="#ga61c9522b3dabad0d48d758fce4ea62f1">More...</a><br/></td></tr>
<tr class="separator:ga61c9522b3dabad0d48d758fce4ea62f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae5322efeefc565378866b96c6cb101b3"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d6/dc2/group__tcmi__msg__class.html#d0/d5b/structtcmi__msg">tcmi_msg</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d60/group__tcmi__err__procmsg__class.html#gae5322efeefc565378866b96c6cb101b3">tcmi_err_procmsg_new_tx</a> (u_int32_t msg_id, u_int32_t trans_id, int err_code, pid_t dst_pid)</td></tr>
<tr class="memdesc:gae5322efeefc565378866b96c6cb101b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">&lt;&lt;public&gt;&gt; Error process message, constructor for transferring.  <a href="#gae5322efeefc565378866b96c6cb101b3">More...</a><br/></td></tr>
<tr class="separator:gae5322efeefc565378866b96c6cb101b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa7bb233e7e4c94fae28ef03ccdee0c9b"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d60/group__tcmi__err__procmsg__class.html#gaa7bb233e7e4c94fae28ef03ccdee0c9b">tcmi_err_procmsg_code</a> (struct <a class="el" href="../../d7/dc8/group__tcmi__procmsg__class.html#de/d91/structtcmi__procmsg">tcmi_procmsg</a> *<a class="el" href="../../db/d61/group__tcmi__penman__class.html#gae3924f624412b270d461d2543744407e">self</a>)</td></tr>
<tr class="memdesc:gaa7bb233e7e4c94fae28ef03ccdee0c9b"><td class="mdescLeft">&#160;</td><td class="mdescRight">&lt;&lt;public&gt;&gt; Error code accessor.  <a href="#gaa7bb233e7e4c94fae28ef03ccdee0c9b">More...</a><br/></td></tr>
<tr class="separator:gaa7bb233e7e4c94fae28ef03ccdee0c9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ga46da521783ba58d8466d97220668dd6f"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d7/dc8/group__tcmi__procmsg__class.html#d9/d7a/structtcmi__procmsg__ops">tcmi_procmsg_ops</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d60/group__tcmi__err__procmsg__class.html#ga46da521783ba58d8466d97220668dd6f">err_procmsg_ops</a></td></tr>
<tr class="memdesc:ga46da521783ba58d8466d97220668dd6f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Message operations that support polymorphism.  <a href="#ga46da521783ba58d8466d97220668dd6f">More...</a><br/></td></tr>
<tr class="separator:ga46da521783ba58d8466d97220668dd6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>This class represents a generic error process message. </p>
<p>It carries an error code and can be used as response to any regular process message that has registered its rx constructor as the error rx constructor with the message factory. Unlike other messages, it doesn't define a fixed message ID. Instead the transfer message constructor (<a class="el" href="../../d2/d60/group__tcmi__err__procmsg__class.html#gae5322efeefc565378866b96c6cb101b3" title="&lt;&lt;public&gt;&gt; Error message constructor for transferring.">tcmi_err_procmsg_new_tx()</a>) allows specifying a message ID that would carry the regular response message.</p>
<p>The constructor only sets error flags in the message ID. The receiving party identifies the message based on the regular response ID. The message flags indicating an error make <a class="el" href="../../de/dc6/group__tcmi__msg__factory__class.html">the message factory </a> use the error rx constructor. After delivery, the error message can be processed and the error code extracted. </p>
<hr/><h2 class="groupheader">Data Structure Documentation</h2>
<a name="d9/d26/structtcmi__err__procmsg" id="d9/d26/structtcmi__err__procmsg"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct tcmi_err_procmsg</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>Compound structure, inherits from tcmi_msg_class. </p>

<p>Definition at line <a class="el" href="../../d0/da6/tcmi__err__procmsg_8h_source.html#l00059">59</a> of file <a class="el" href="../../d0/da6/tcmi__err__procmsg_8h_source.html">tcmi_err_procmsg.h</a>.</p>
</div><div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="../../closed.png" alt="+"/> Collaboration diagram for tcmi_err_procmsg:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../db/ddf/structtcmi__err__procmsg__coll__graph.png" border="0" usemap="#tcmi__err__procmsg_coll__map" alt="Collaboration graph"/></div>
<map name="tcmi__err__procmsg_coll__map" id="tcmi__err__procmsg_coll__map">
<area shape="rect" id="node2" href="../../d7/dc8/group__tcmi__procmsg__class.html#de/d91/structtcmi__procmsg" title="Compound structure, inherits from tcmi_msg_class." alt="" coords="64,910,200,1002"/><area shape="rect" id="node3" href="../../d7/dc8/group__tcmi__procmsg__class.html#d9/d7a/structtcmi__procmsg__ops" title="Process message operations that support polymorphism." alt="" coords="5,739,136,845"/><area shape="rect" id="node4" href="../../d6/dc2/group__tcmi__msg__class.html#d0/d5b/structtcmi__msg" title="A coumpound structure that carries a generic TCMI message." alt="" coords="161,739,279,845"/><area shape="rect" id="node5" href="../../d6/dc2/group__tcmi__msg__class.html#d8/de4/structtcmi__msg__ops" title="Message operations that support polymorphism." alt="" coords="108,516,215,623"/><area shape="rect" id="node6" href="../../d4/d8c/group__tcmi__transaction__class.html#d7/d6e/structtcmi__transaction" title="Compound structure holding transaction attributes." alt="" coords="239,465,357,674"/><area shape="rect" id="node7" href="../../d0/db7/group__tcmi__slotvec__class.html#da/ded/structtcmi__slotvec" title="A slot vector compound structure." alt="" coords="191,235,301,400"/><area shape="rect" id="node8" href="../../da/d0c/group__tcmi__slot__class.html#d9/dbb/structtcmi__slot" title="A slot compound structure." alt="" coords="254,5,364,171"/></map>
</div>
<table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a class="anchor" id="aca9feb15f84a4d48b0a6280448670faf"></a>int</td>
<td class="fieldname">
err_code</td>
<td class="fielddoc">
error code that the message is carrying. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="afaf82ce51ba625df8f8e9953e6dbf164"></a>struct <a class="el" href="../../d7/dc8/group__tcmi__procmsg__class.html#de/d91/structtcmi__procmsg">tcmi_procmsg</a></td>
<td class="fieldname">
super</td>
<td class="fielddoc">
parent class instance. </td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="ga95dc3dfd6be3b7beeab9c5e9043f86e5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TCMI_ERR_PROCMSG</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">m</td><td>)</td>
          <td>&#160;&#160;&#160;((struct <a class="el" href="../../d2/d60/group__tcmi__err__procmsg__class.html#d9/d26/structtcmi__err__procmsg">tcmi_err_procmsg</a>*)m)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Casts to the <a class="el" href="../../d2/d60/group__tcmi__err__procmsg__class.html#d9/d26/structtcmi__err__procmsg" title="Compound structure, inherits from tcmi_msg_class.">tcmi_err_procmsg</a> instance. </p>

<p>Definition at line <a class="el" href="../../d0/da6/tcmi__err__procmsg_8h_source.html#l00075">75</a> of file <a class="el" href="../../d0/da6/tcmi__err__procmsg_8h_source.html">tcmi_err_procmsg.h</a>.</p>

<p>Referenced by <a class="el" href="../../d0/da6/tcmi__err__procmsg_8h_source.html#l00083">tcmi_err_procmsg_code()</a>, <a class="el" href="../../d9/dc1/tcmi__err__procmsg_8c_source.html#l00051">tcmi_err_procmsg_new_rx()</a>, <a class="el" href="../../d9/dc1/tcmi__err__procmsg_8c_source.html#l00095">tcmi_err_procmsg_new_tx()</a>, <a class="el" href="../../d9/dc1/tcmi__err__procmsg_8c_source.html#l00141">tcmi_err_procmsg_recv()</a>, and <a class="el" href="../../d9/dc1/tcmi__err__procmsg_8c_source.html#l00160">tcmi_err_procmsg_send()</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gaa7bb233e7e4c94fae28ef03ccdee0c9b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int tcmi_err_procmsg_code </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d7/dc8/group__tcmi__procmsg__class.html#de/d91/structtcmi__procmsg">tcmi_procmsg</a> *&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>&lt;&lt;public&gt;&gt; Error code accessor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*self</td><td>- pointer to this message instance </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>error code that the message is carrying </dd></dl>

<p>Definition at line <a class="el" href="../../d0/da6/tcmi__err__procmsg_8h_source.html#l00083">83</a> of file <a class="el" href="../../d0/da6/tcmi__err__procmsg_8h_source.html">tcmi_err_procmsg.h</a>.</p>

<p>References <a class="el" href="../../d0/da6/tcmi__err__procmsg_8h_source.html#l00075">TCMI_ERR_PROCMSG</a>.</p>
<div class="fragment"><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;{</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d2/d60/group__tcmi__err__procmsg__class.html#ga95dc3dfd6be3b7beeab9c5e9043f86e5" title="Casts to the tcmi_err_procmsg instance.">TCMI_ERR_PROCMSG</a>(<span class="keyword">self</span>)-&gt;err_code;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga61c9522b3dabad0d48d758fce4ea62f1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d6/dc2/group__tcmi__msg__class.html#d0/d5b/structtcmi__msg">tcmi_msg</a>* tcmi_err_procmsg_new_rx </td>
          <td>(</td>
          <td class="paramtype">u_int32_t&#160;</td>
          <td class="paramname"><em>msg_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">read</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>&lt;&lt;public&gt;&gt; Error process message, constructor for receiving. </p>
<p>&lt;&lt;public&gt;&gt; Error process message, constructor for receiving.</p>
<p>This constructor is made available for other process messages, so that they can specify it as their error constructor for <a class="el" href="../../de/dc6/group__tcmi__msg__factory__class.html">the factory class </a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg_id</td><td>- message ID that will be used for this error message instance. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a new error message or NULL. </dd></dl>

<p>Definition at line <a class="el" href="../../d9/dc1/tcmi__err__procmsg_8c_source.html#l00051">51</a> of file <a class="el" href="../../d9/dc1/tcmi__err__procmsg_8c_source.html">tcmi_err_procmsg.c</a>.</p>

<p>References <a class="el" href="../../d9/dc1/tcmi__err__procmsg_8c_source.html#l00176">err_procmsg_ops</a>, <a class="el" href="../../d6/d01/dbg_8h_source.html#l00220">mdbg</a>, <a class="el" href="../../d0/da6/tcmi__err__procmsg_8h_source.html#l00075">TCMI_ERR_PROCMSG</a>, <a class="el" href="../../d1/d6d/tcmi__msg_8h_source.html#l00159">TCMI_MSG</a>, <a class="el" href="../../dd/dd5/tcmi__messages__id_8h_source.html#l00102">TCMI_MSG_FLG_SET_ERR</a>, <a class="el" href="../../d5/d2b/tcmi__procmsg_8h_source.html#l00115">TCMI_PROCMSG</a>, and <a class="el" href="../../d5/d1c/tcmi__procmsg_8c_source.html#l00053">tcmi_procmsg_init_rx()</a>.</p>
<div class="fragment"><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;{</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d2/d60/group__tcmi__err__procmsg__class.html#d9/d26/structtcmi__err__procmsg" title="Compound structure, inherits from tcmi_msg_class.">tcmi_err_procmsg</a> *msg;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    <span class="keywordflow">if</span> (!(msg = <a class="code" href="../../d2/d60/group__tcmi__err__procmsg__class.html#ga95dc3dfd6be3b7beeab9c5e9043f86e5" title="Casts to the tcmi_err_procmsg instance.">TCMI_ERR_PROCMSG</a>(kmalloc(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d2/d60/group__tcmi__err__procmsg__class.html#d9/d26/structtcmi__err__procmsg" title="Compound structure, inherits from tcmi_msg_class.">tcmi_err_procmsg</a>), GFP_KERNEL)))) {</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;        <a class="code" href="../../d6/d01/dbg_8h.html#a881516d8ffc635f7f0e87468340c80dc">mdbg</a>(ERR3, <span class="stringliteral">&quot;Can&#39;t allocate memory for error message %x&quot;</span>, msg_id);</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;        <span class="keywordflow">goto</span> exit0;</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    }</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    <span class="comment">/* Initialized the message for receiving, message ID is</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="comment">     * extended with error flags */</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/dc8/group__tcmi__procmsg__class.html#ga899a1985b05901da29982088cdd86f2d" title="&lt;&lt;public&gt;&gt; Initializes the process message for receiving.">tcmi_procmsg_init_rx</a>(<a class="code" href="../../d7/dc8/group__tcmi__procmsg__class.html#gaba00344eba012e8234726bd601b06aaf" title="Casts to the tcmi_procmsg instance.">TCMI_PROCMSG</a>(msg), <a class="code" href="../../d8/d9d/group__tcmi__messages__id.html#gaa343f0b91b9cee9415f0fcf40f53b2ea" title="Sets an error flag.">TCMI_MSG_FLG_SET_ERR</a>(msg_id), &amp;<a class="code" href="../../d2/d60/group__tcmi__err__procmsg__class.html#ga46da521783ba58d8466d97220668dd6f" title="Message operations that support polymorphism.">err_procmsg_ops</a>)) {</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;        <a class="code" href="../../d6/d01/dbg_8h.html#a881516d8ffc635f7f0e87468340c80dc">mdbg</a>(ERR3, <span class="stringliteral">&quot;Error initializing error message %x&quot;</span>, msg_id);</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;        <span class="keywordflow">goto</span> exit1;</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    }</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d6/dc2/group__tcmi__msg__class.html#ga91f3fd64c88d27100f1e4c7125a73a0e" title="Casts to the tcmi_msg instance.">TCMI_MSG</a>(msg);</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <span class="comment">/* error handling */</span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160; exit1:</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    kfree(msg);</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160; exit0:</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;}</div>
</div><!-- fragment -->
<p><div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../d2/d60/group__tcmi__err__procmsg__class_ga61c9522b3dabad0d48d758fce4ea62f1_cgraph.png" border="0" usemap="#d2/d60/group__tcmi__err__procmsg__class_ga61c9522b3dabad0d48d758fce4ea62f1_cgraph" alt=""/></div>
<map name="d2/d60/group__tcmi__err__procmsg__class_ga61c9522b3dabad0d48d758fce4ea62f1_cgraph" id="d2/d60/group__tcmi__err__procmsg__class_ga61c9522b3dabad0d48d758fce4ea62f1_cgraph">
<area shape="rect" id="node2" href="../../d7/dc8/group__tcmi__procmsg__class.html#ga899a1985b05901da29982088cdd86f2d" title="&lt;&lt;public&gt;&gt; Initializes the process message for receiving." alt="" coords="229,5,376,32"/><area shape="rect" id="node3" href="../../d6/dc2/group__tcmi__msg__class.html#ga0f81cf27b94206abc95c5b0002f66d2c" title="&lt;&lt;public&gt;&gt; Initializes the message for receiving." alt="" coords="425,5,546,32"/><area shape="rect" id="node4" href="../../db/dc8/tcmi__msg_8c.html#a5c394462e393c496f11d949b265b8a9e" title="Shared initialization fuction of both rx and tx messages." alt="" coords="595,5,744,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gae5322efeefc565378866b96c6cb101b3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d6/dc2/group__tcmi__msg__class.html#d0/d5b/structtcmi__msg">tcmi_msg</a>* tcmi_err_procmsg_new_tx </td>
          <td>(</td>
          <td class="paramtype">u_int32_t&#160;</td>
          <td class="paramname"><em>msg_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u_int32_t&#160;</td>
          <td class="paramname"><em>trans_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>err_code</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">pid_t&#160;</td>
          <td class="paramname"><em>dst_pid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">read</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>&lt;&lt;public&gt;&gt; Error process message, constructor for transferring. </p>
<p>&lt;&lt;public&gt;&gt; Error process message, constructor for transferring.</p>
<p>An error message is considered one way only and is usually used as a error response to some other process message. The user thus has to specify the transaction ID of the message that the error message is a response too. Messages with TCMI_TRANSACTION_INVAL_ID are possible too. No search for a matching transaction will be performed at the receiving party and the message will be queued in a regular request queue.</p>
<p>As for any other process message, the destination PID has to be specified</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg_id</td><td>- ID assigned to the error message, it will be extended with error flags, so that the message factory at the receiving party uses the above implemented <a class="el" href="../../d2/d60/group__tcmi__err__procmsg__class.html#ga61c9522b3dabad0d48d758fce4ea62f1" title="&lt;&lt;public&gt;&gt; Error process message rx constructor.">tcmi_err_procmsg_new_rx()</a> constructor. </td></tr>
    <tr><td class="paramname">trans_id</td><td>- transaction ID </td></tr>
    <tr><td class="paramname">err_code</td><td>- error code that will be stored in the message </td></tr>
    <tr><td class="paramname">dst_pid</td><td>- destination process PID </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a new error ready for the transfer or NULL. </dd></dl>

<p>Definition at line <a class="el" href="../../d9/dc1/tcmi__err__procmsg_8c_source.html#l00095">95</a> of file <a class="el" href="../../d9/dc1/tcmi__err__procmsg_8c_source.html">tcmi_err_procmsg.c</a>.</p>

<p>References <a class="el" href="../../d0/da6/tcmi__err__procmsg_8h_source.html#l00063">tcmi_err_procmsg::err_code</a>, <a class="el" href="../../d9/dc1/tcmi__err__procmsg_8c_source.html#l00176">err_procmsg_ops</a>, <a class="el" href="../../d6/d01/dbg_8h_source.html#l00220">mdbg</a>, <a class="el" href="../../d0/da6/tcmi__err__procmsg_8h_source.html#l00075">TCMI_ERR_PROCMSG</a>, <a class="el" href="../../d1/d6d/tcmi__msg_8h_source.html#l00159">TCMI_MSG</a>, <a class="el" href="../../dd/dd5/tcmi__messages__id_8h_source.html#l00102">TCMI_MSG_FLG_SET_ERR</a>, <a class="el" href="../../d5/d2b/tcmi__procmsg_8h_source.html#l00115">TCMI_PROCMSG</a>, and <a class="el" href="../../d5/d1c/tcmi__procmsg_8c_source.html#l00082">tcmi_procmsg_init_tx()</a>.</p>

<p>Referenced by <a class="el" href="../../da/d61/tcmi__guesttask_8c_source.html#l00307">tcmi_guesttask_process_p_emigrate_msg()</a>, and <a class="el" href="../../d9/ded/tcmi__penmigman_8c_source.html#l00271">tcmi_penmigman_process_msg()</a>.</p>
<div class="fragment"><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;{</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d2/d60/group__tcmi__err__procmsg__class.html#d9/d26/structtcmi__err__procmsg" title="Compound structure, inherits from tcmi_msg_class.">tcmi_err_procmsg</a> *msg;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    <span class="keywordflow">if</span> (!(msg = <a class="code" href="../../d2/d60/group__tcmi__err__procmsg__class.html#ga95dc3dfd6be3b7beeab9c5e9043f86e5" title="Casts to the tcmi_err_procmsg instance.">TCMI_ERR_PROCMSG</a>(kmalloc(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d2/d60/group__tcmi__err__procmsg__class.html#d9/d26/structtcmi__err__procmsg" title="Compound structure, inherits from tcmi_msg_class.">tcmi_err_procmsg</a>), GFP_KERNEL)))) {</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;        <a class="code" href="../../d6/d01/dbg_8h.html#a881516d8ffc635f7f0e87468340c80dc">mdbg</a>(ERR3, <span class="stringliteral">&quot;Can&#39;t allocate memory for error message %x&quot;</span>, msg_id);</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;        <span class="keywordflow">goto</span> exit0;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    }</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    <span class="comment">/* Initialize the message for transfer, message ID is</span></div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<span class="comment">     * extended with error flags, no transaction created or</span></div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;<span class="comment">     * response ID setup. Only the transaction ID, that will get</span></div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;<span class="comment">     * send along with the message, is set. */</span></div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/dc8/group__tcmi__procmsg__class.html#gaa22b26ec117d20a804758f501e9d3e59" title="&lt;&lt;public&gt;&gt; Initializes the message for transferring.">tcmi_procmsg_init_tx</a>(<a class="code" href="../../d7/dc8/group__tcmi__procmsg__class.html#gaba00344eba012e8234726bd601b06aaf" title="Casts to the tcmi_procmsg instance.">TCMI_PROCMSG</a>(msg), <a class="code" href="../../d8/d9d/group__tcmi__messages__id.html#gaa343f0b91b9cee9415f0fcf40f53b2ea" title="Sets an error flag.">TCMI_MSG_FLG_SET_ERR</a>(msg_id), &amp;<a class="code" href="../../d2/d60/group__tcmi__err__procmsg__class.html#ga46da521783ba58d8466d97220668dd6f" title="Message operations that support polymorphism.">err_procmsg_ops</a>, </div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;                 dst_pid, 0,</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;                 NULL, 0, 0, trans_id)) {</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        <a class="code" href="../../d6/d01/dbg_8h.html#a881516d8ffc635f7f0e87468340c80dc">mdbg</a>(ERR3, <span class="stringliteral">&quot;Error initializing error message %x&quot;</span>, msg_id);</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;        <span class="keywordflow">goto</span> exit1;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    }</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    msg-&gt;<a class="code" href="../../d2/d60/group__tcmi__err__procmsg__class.html#aca9feb15f84a4d48b0a6280448670faf" title="error code that the message is carrying.">err_code</a> = <a class="code" href="../../d2/d60/group__tcmi__err__procmsg__class.html#aca9feb15f84a4d48b0a6280448670faf" title="error code that the message is carrying.">err_code</a>;</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d6/dc2/group__tcmi__msg__class.html#ga91f3fd64c88d27100f1e4c7125a73a0e" title="Casts to the tcmi_msg instance.">TCMI_MSG</a>(msg);</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    <span class="comment">/* error handling */</span></div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160; exit1:</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    kfree(msg);</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160; exit0:</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    </div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;}</div>
</div><!-- fragment -->
<p><div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../d2/d60/group__tcmi__err__procmsg__class_gae5322efeefc565378866b96c6cb101b3_cgraph.png" border="0" usemap="#d2/d60/group__tcmi__err__procmsg__class_gae5322efeefc565378866b96c6cb101b3_cgraph" alt=""/></div>
<map name="d2/d60/group__tcmi__err__procmsg__class_gae5322efeefc565378866b96c6cb101b3_cgraph" id="d2/d60/group__tcmi__err__procmsg__class_gae5322efeefc565378866b96c6cb101b3_cgraph">
<area shape="rect" id="node2" href="../../d7/dc8/group__tcmi__procmsg__class.html#gaa22b26ec117d20a804758f501e9d3e59" title="&lt;&lt;public&gt;&gt; Initializes the message for transferring." alt="" coords="229,183,376,209"/><area shape="rect" id="node3" href="../../d6/dc2/group__tcmi__msg__class.html#gace79df438ec4f7c8f7cee3bfe42f6d93" title="&lt;&lt;public&gt;&gt; Initializes the message for transferring." alt="" coords="425,183,546,209"/><area shape="rect" id="node4" href="../../db/dc8/tcmi__msg_8c.html#a5c394462e393c496f11d949b265b8a9e" title="Shared initialization fuction of both rx and tx messages." alt="" coords="595,132,744,159"/><area shape="rect" id="node5" href="../../d4/d8c/group__tcmi__transaction__class.html#gada9d9436def8919a10997233cd6b5ea1" title="&lt;&lt;public&gt;&gt; Creates a new transaction." alt="" coords="595,183,743,209"/><area shape="rect" id="node11" href="../../d4/d8c/group__tcmi__transaction__class.html#gaac666feaaab1fe5c341237a3e0283501" title="&lt;&lt;public&gt;&gt; Transaction ID accessor." alt="" coords="1205,259,1339,285"/><area shape="rect" id="node6" href="../../d4/d8c/group__tcmi__transaction__class.html#gad66082869d71dbe73b9a0b60cb2f437c" title="&lt;&lt;private&gt;&gt; Generates a transaction ID." alt="" coords="792,157,955,184"/><area shape="rect" id="node7" href="../../d0/db7/group__tcmi__slotvec__class.html#ga463d8dd03bd30b24c3ebfed5a0239d8a" title="&lt;&lt;public&gt;&gt; Hashmask accessor." alt="" coords="793,208,954,235"/><area shape="rect" id="node8" href="../../d4/d8c/group__tcmi__transaction__class.html#ga244e6188e1c4f9e1faba20d0892f5441" title="&lt;&lt;private&gt;&gt; Callback for the kernel timer that handles transaction timeouts." alt="" coords="796,107,951,133"/><area shape="rect" id="node20" href="../../d0/db7/group__tcmi__slotvec__class.html#ga4f973395848150fbebecf3cc292c80ba" title="&lt;&lt;public&gt;&gt; The index where the insertion takes place has to be a valid slot." alt="" coords="1003,56,1154,83"/><area shape="rect" id="node9" href="../../d4/d8c/group__tcmi__transaction__class.html#ga2748d267a8fddd1ced86e73ba8efd079" title="&lt;&lt;public&gt;&gt; Releases the instance." alt="" coords="1007,157,1150,184"/><area shape="rect" id="node10" href="../../d0/db7/group__tcmi__slotvec__class.html#ga5b4586b2e897ec306862a0b6901f39e7" title="&lt;&lt;public&gt;&gt; Locks the instance data." alt="" coords="1209,157,1335,184"/><area shape="rect" id="node12" href="../../da/d0c/group__tcmi__slot__class.html#ga1d6232adcf00094597a66d9f5740d5f8" title="&lt;&lt;public&gt;&gt; Removes a given node from a slot." alt="" coords="1211,107,1333,133"/><area shape="rect" id="node19" href="../../d0/db7/group__tcmi__slotvec__class.html#ga4df343d549736d3dc994ad0f43529a57" title="&lt;&lt;public&gt;&gt; Unlocks the instance data." alt="" coords="1203,208,1341,235"/><area shape="rect" id="node13" href="../../da/d0c/group__tcmi__slot__class.html#ga29d8101c5815a6519567c548da4a3c7e" title="&lt;&lt;public&gt;&gt; Removes a given node from a slot." alt="" coords="1390,157,1527,184"/><area shape="rect" id="node17" href="../../da/d0c/group__tcmi__slot__class.html#ga109d6d783ebf06046f364f970f84da1f" title="&lt;&lt;public&gt;&gt; Locks the slot data." alt="" coords="1405,107,1512,133"/><area shape="rect" id="node18" href="../../da/d0c/group__tcmi__slot__class.html#ga5447231fec5f42040c40307eb2e6a13c" title="&lt;&lt;public&gt;&gt; Unlocks the instance data" alt="" coords="1399,56,1519,83"/><area shape="rect" id="node14" href="../../da/d0c/group__tcmi__slot__class.html#ga6dd63ff2854a9939a5aa094f6543a5d1" title="&lt;&lt;public&gt;&gt; Checks if the slot is empty." alt="" coords="1598,157,1717,184"/><area shape="rect" id="node15" href="../../da/d0c/group__tcmi__slot__class.html#ga2550a3e6624b54e323c73cb1d06e6cd0" title="&lt;&lt;public&gt;&gt; Moves a slot among unused_slots." alt="" coords="1577,81,1738,108"/><area shape="rect" id="node16" href="../../da/d0c/group__tcmi__slot__class.html#ga8d6885be2677819158e0d956f0cca5b2" title="&lt;&lt;private&gt;&gt; Moves a slot into the specified list." alt="" coords="1787,44,1899,71"/><area shape="rect" id="node21" href="../../d0/db7/group__tcmi__slotvec__class.html#ga876670f605631a5deb930412dae02b28" title="&lt;&lt;public&gt;&gt; Accesses a slot at a given index." alt="" coords="1216,5,1328,32"/><area shape="rect" id="node22" href="../../da/d0c/group__tcmi__slot__class.html#gaefe294678d9d6922b3af1e452a318fa1" title="&lt;&lt;public&gt;&gt; Inserts a new node into the slot." alt="" coords="1215,56,1329,83"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gaf3cf5e863e2241b016d1f76d30ff6015"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int tcmi_err_procmsg_recv </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d7/dc8/group__tcmi__procmsg__class.html#de/d91/structtcmi__procmsg">tcmi_procmsg</a> *&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d6/d8e/group__kkc__sock__class.html#da/d0d/structkkc__sock">kkc_sock</a> *&#160;</td>
          <td class="paramname"><em>sock</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>&lt;&lt;private&gt;&gt; Receives the message via a specified connection. </p>
<p>Receiving the error process message requires reading the error code from the specified socket</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*self</td><td>- this message instance </td></tr>
    <tr><td class="paramname">*sock</td><td>- KKC socket used for receiving message data </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 when successfully received. </dd></dl>

<p>Definition at line <a class="el" href="../../d9/dc1/tcmi__err__procmsg_8c_source.html#l00141">141</a> of file <a class="el" href="../../d9/dc1/tcmi__err__procmsg_8c_source.html">tcmi_err_procmsg.c</a>.</p>

<p>References <a class="el" href="../../d0/da6/tcmi__err__procmsg_8h_source.html#l00063">tcmi_err_procmsg::err_code</a>, <a class="el" href="../../df/dfa/kkc__sock_8h_source.html#l00064">KKC_SOCK_BLOCK</a>, <a class="el" href="../../d7/d5c/kkc__sock_8c_source.html#l00162">kkc_sock_recv()</a>, <a class="el" href="../../d6/d01/dbg_8h_source.html#l00220">mdbg</a>, and <a class="el" href="../../d0/da6/tcmi__err__procmsg_8h_source.html#l00075">TCMI_ERR_PROCMSG</a>.</p>
<div class="fragment"><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;{</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    <span class="keywordtype">int</span> err;</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d2/d60/group__tcmi__err__procmsg__class.html#d9/d26/structtcmi__err__procmsg" title="Compound structure, inherits from tcmi_msg_class.">tcmi_err_procmsg</a> *self_err = <a class="code" href="../../d2/d60/group__tcmi__err__procmsg__class.html#ga95dc3dfd6be3b7beeab9c5e9043f86e5" title="Casts to the tcmi_err_procmsg instance.">TCMI_ERR_PROCMSG</a>(<span class="keyword">self</span>);</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    err = <a class="code" href="../../d6/d8e/group__kkc__sock__class.html#gadafc7c835c7d6d94be66f61a050108b7" title="&lt;&lt;public&gt;&gt; Receives requested number of bytes of data.">kkc_sock_recv</a>(sock, &amp;self_err-&gt;<a class="code" href="../../d2/d60/group__tcmi__err__procmsg__class.html#aca9feb15f84a4d48b0a6280448670faf" title="error code that the message is carrying.">err_code</a>, </div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;                <span class="keyword">sizeof</span>(self_err-&gt;<a class="code" href="../../d2/d60/group__tcmi__err__procmsg__class.html#aca9feb15f84a4d48b0a6280448670faf" title="error code that the message is carrying.">err_code</a>), <a class="code" href="../../d6/d8e/group__kkc__sock__class.html#gga285317c87701990317a59884b3db40daa0766d1e1bec0bb50862530f5a53c9c70">KKC_SOCK_BLOCK</a>);</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    <a class="code" href="../../d6/d01/dbg_8h.html#a881516d8ffc635f7f0e87468340c80dc">mdbg</a>(INFO3, <span class="stringliteral">&quot;Received error code: %x&quot;</span>, self_err-&gt;<a class="code" href="../../d2/d60/group__tcmi__err__procmsg__class.html#aca9feb15f84a4d48b0a6280448670faf" title="error code that the message is carrying.">err_code</a>);</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    </div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    <span class="keywordflow">return</span> err;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;}</div>
</div><!-- fragment -->
<p><div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../d2/d60/group__tcmi__err__procmsg__class_gaf3cf5e863e2241b016d1f76d30ff6015_cgraph.png" border="0" usemap="#d2/d60/group__tcmi__err__procmsg__class_gaf3cf5e863e2241b016d1f76d30ff6015_cgraph" alt=""/></div>
<map name="d2/d60/group__tcmi__err__procmsg__class_gaf3cf5e863e2241b016d1f76d30ff6015_cgraph" id="d2/d60/group__tcmi__err__procmsg__class_gaf3cf5e863e2241b016d1f76d30ff6015_cgraph">
<area shape="rect" id="node2" href="../../d6/d8e/group__kkc__sock__class.html#gadafc7c835c7d6d94be66f61a050108b7" title="&lt;&lt;public&gt;&gt; Receives requested number of bytes of data." alt="" coords="211,5,319,32"/><area shape="rect" id="node3" href="../../d6/d8e/group__kkc__sock__class.html#gaff5e8804c93f0cb2a4b5e2e12f64e743" title="&lt;&lt;private&gt;&gt; Transfers a required number of bytes." alt="" coords="369,5,511,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga36629014005a9b382af3116a110c4394"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int tcmi_err_procmsg_send </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d7/dc8/group__tcmi__procmsg__class.html#de/d91/structtcmi__procmsg">tcmi_procmsg</a> *&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d6/d8e/group__kkc__sock__class.html#da/d0d/structkkc__sock">kkc_sock</a> *&#160;</td>
          <td class="paramname"><em>sock</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>&lt;&lt;private&gt;&gt; Sends out the error code via specified socket. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*self</td><td>- this message instance </td></tr>
    <tr><td class="paramname">*sock</td><td>- KKC socket used for receiving message data </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 when successfully sent. </dd></dl>

<p>Definition at line <a class="el" href="../../d9/dc1/tcmi__err__procmsg_8c_source.html#l00160">160</a> of file <a class="el" href="../../d9/dc1/tcmi__err__procmsg_8c_source.html">tcmi_err_procmsg.c</a>.</p>

<p>References <a class="el" href="../../d0/da6/tcmi__err__procmsg_8h_source.html#l00063">tcmi_err_procmsg::err_code</a>, <a class="el" href="../../df/dfa/kkc__sock_8h_source.html#l00064">KKC_SOCK_BLOCK</a>, <a class="el" href="../../d7/d5c/kkc__sock_8c_source.html#l00135">kkc_sock_send()</a>, <a class="el" href="../../d6/d01/dbg_8h_source.html#l00220">mdbg</a>, and <a class="el" href="../../d0/da6/tcmi__err__procmsg_8h_source.html#l00075">TCMI_ERR_PROCMSG</a>.</p>
<div class="fragment"><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;{</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <span class="keywordtype">int</span> err;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d2/d60/group__tcmi__err__procmsg__class.html#d9/d26/structtcmi__err__procmsg" title="Compound structure, inherits from tcmi_msg_class.">tcmi_err_procmsg</a> *self_err = <a class="code" href="../../d2/d60/group__tcmi__err__procmsg__class.html#ga95dc3dfd6be3b7beeab9c5e9043f86e5" title="Casts to the tcmi_err_procmsg instance.">TCMI_ERR_PROCMSG</a>(<span class="keyword">self</span>);</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    err = <a class="code" href="../../d6/d8e/group__kkc__sock__class.html#gad734b131e2ab00e8d7fa30737fc2f5ad" title="&lt;&lt;public&gt;&gt; Sends out specified data.">kkc_sock_send</a>(sock, &amp;self_err-&gt;<a class="code" href="../../d2/d60/group__tcmi__err__procmsg__class.html#aca9feb15f84a4d48b0a6280448670faf" title="error code that the message is carrying.">err_code</a>, </div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;                <span class="keyword">sizeof</span>(self_err-&gt;<a class="code" href="../../d2/d60/group__tcmi__err__procmsg__class.html#aca9feb15f84a4d48b0a6280448670faf" title="error code that the message is carrying.">err_code</a>), <a class="code" href="../../d6/d8e/group__kkc__sock__class.html#gga285317c87701990317a59884b3db40daa0766d1e1bec0bb50862530f5a53c9c70">KKC_SOCK_BLOCK</a>);</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    <a class="code" href="../../d6/d01/dbg_8h.html#a881516d8ffc635f7f0e87468340c80dc">mdbg</a>(INFO3, <span class="stringliteral">&quot;Sent error code: %x&quot;</span>, self_err-&gt;<a class="code" href="../../d2/d60/group__tcmi__err__procmsg__class.html#aca9feb15f84a4d48b0a6280448670faf" title="error code that the message is carrying.">err_code</a>);</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <span class="keywordflow">return</span> err;</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;}</div>
</div><!-- fragment -->
<p><div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../d2/d60/group__tcmi__err__procmsg__class_ga36629014005a9b382af3116a110c4394_cgraph.png" border="0" usemap="#d2/d60/group__tcmi__err__procmsg__class_ga36629014005a9b382af3116a110c4394_cgraph" alt=""/></div>
<map name="d2/d60/group__tcmi__err__procmsg__class_ga36629014005a9b382af3116a110c4394_cgraph" id="d2/d60/group__tcmi__err__procmsg__class_ga36629014005a9b382af3116a110c4394_cgraph">
<area shape="rect" id="node2" href="../../d6/d8e/group__kkc__sock__class.html#gad734b131e2ab00e8d7fa30737fc2f5ad" title="&lt;&lt;public&gt;&gt; Sends out specified data." alt="" coords="217,5,330,32"/><area shape="rect" id="node3" href="../../d6/d8e/group__kkc__sock__class.html#gaff5e8804c93f0cb2a4b5e2e12f64e743" title="&lt;&lt;private&gt;&gt; Transfers a required number of bytes." alt="" coords="379,5,522,32"/></map>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="ga46da521783ba58d8466d97220668dd6f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d7/dc8/group__tcmi__procmsg__class.html#d9/d7a/structtcmi__procmsg__ops">tcmi_procmsg_ops</a> err_procmsg_ops</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">    .recv = <a class="code" href="../../d2/d60/group__tcmi__err__procmsg__class.html#gaf3cf5e863e2241b016d1f76d30ff6015" title="&lt;&lt;private&gt;&gt; Receives the message via a specified connection.">tcmi_err_procmsg_recv</a>,</div>
<div class="line">    .send = <a class="code" href="../../d2/d60/group__tcmi__err__procmsg__class.html#ga36629014005a9b382af3116a110c4394" title="&lt;&lt;private&gt;&gt; Sends out the error code via specified socket.">tcmi_err_procmsg_send</a></div>
<div class="line">}</div>
</div><!-- fragment -->
<p>Message operations that support polymorphism. </p>

<p>Definition at line <a class="el" href="../../d9/dc1/tcmi__err__procmsg_8c_source.html#l00176">176</a> of file <a class="el" href="../../d9/dc1/tcmi__err__procmsg_8c_source.html">tcmi_err_procmsg.c</a>.</p>

<p>Referenced by <a class="el" href="../../d9/dc1/tcmi__err__procmsg_8c_source.html#l00051">tcmi_err_procmsg_new_rx()</a>, and <a class="el" href="../../d9/dc1/tcmi__err__procmsg_8c_source.html#l00095">tcmi_err_procmsg_new_tx()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Sun Apr 7 2013 23:20:14 for Clondike by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.3.1 </li>
  </ul>
</div>
</body>
</html>
