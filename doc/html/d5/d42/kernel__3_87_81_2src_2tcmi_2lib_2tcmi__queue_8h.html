<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3.1"/>
<title>Clondike: C:/CLONDIKE/clondike/sources/kernel_3.7.1/src/tcmi/lib/tcmi_queue.h File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Clondike
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('d5/d42/kernel__3_87_81_2src_2tcmi_2lib_2tcmi__queue_8h.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">tcmi_queue.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;linux/list.h&gt;</code><br/>
<code>#include &lt;asm/atomic.h&gt;</code><br/>
<code>#include &lt;linux/spinlock.h&gt;</code><br/>
<code>#include &lt;linux/slab.h&gt;</code><br/>
<code>#include &lt;linux/wait.h&gt;</code><br/>
<code>#include &lt;linux/sched.h&gt;</code><br/>
<code>#include &lt;dbg.h&gt;</code><br/>
</div><div class="textblock"><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="../../closed.png" alt="+"/> Include dependency graph for tcmi_queue.h:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../db/d0c/kernel__3_87_81_2src_2tcmi_2lib_2tcmi__queue_8h__incl.png" border="0" usemap="#C_1_2CLONDIKE_2clondike_2sources_2kernel__3_87_81_2src_2tcmi_2lib_2tcmi__queue_8h" alt=""/></div>
</div>
</div><div class="textblock"><div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="../../closed.png" alt="+"/> This graph shows which files directly or indirectly include this file:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../d0/d1b/kernel__3_87_81_2src_2tcmi_2lib_2tcmi__queue_8h__dep__incl.png" border="0" usemap="#C_1_2CLONDIKE_2clondike_2sources_2kernel__3_87_81_2src_2tcmi_2lib_2tcmi__queue_8hdep" alt=""/></div>
<map name="C_1_2CLONDIKE_2clondike_2sources_2kernel__3_87_81_2src_2tcmi_2lib_2tcmi__queue_8hdep" id="C_1_2CLONDIKE_2clondike_2sources_2kernel__3_87_81_2src_2tcmi_2lib_2tcmi__queue_8hdep">
<area shape="rect" id="node2" href="../../df/d27/kernel__2_86_833_81_2src_2tcmi_2comm_2tcmi__msg_8h.html" title="C:/CLONDIKE/clondike\l/sources/kernel_2.6.33.1\l/src/tcmi/comm/tcmi_msg.h" alt="" coords="1169,109,1353,165"/><area shape="rect" id="node19" href="../../d8/d48/kernel__2_86_833_81_2src_2tcmi_2task_2tcmi__task_8h.html" title="C:/CLONDIKE/clondike\l/sources/kernel_2.6.33.1\l/src/tcmi/task/tcmi_task.h" alt="" coords="2861,221,3035,277"/><area shape="rect" id="node24" href="../../d5/d4c/kernel__3_87_81_2src_2tcmi_2comm_2tcmi__msg_8h.html" title="C:/CLONDIKE/clondike\l/sources/kernel_3.7.1\l/src/tcmi/comm/tcmi_msg.h" alt="" coords="4037,109,4221,165"/><area shape="rect" id="node45" href="../../d0/dc7/kernel__3_87_81_2src_2tcmi_2task_2tcmi__task_8h.html" title="C:/CLONDIKE/clondike\l/sources/kernel_3.7.1\l/src/tcmi/task/tcmi_task.h" alt="" coords="6158,221,6332,277"/><area shape="rect" id="node3" href="../../d5/d17/kernel__2_86_833_81_2src_2tcmi_2comm_2tcmi__authenticate__resp__msg_8h.html" title="C:/CLONDIKE/clondike\l/sources/kernel_2.6.33.1\l/src/tcmi/comm/tcmi_authenticate\l_resp_msg.h" alt="" coords="1282,334,1501,405"/><area shape="rect" id="node5" href="../../d3/d99/kernel__2_86_833_81_2src_2tcmi_2comm_2tcmi__authenticate__msg_8h.html" title="C:/CLONDIKE/clondike\l/sources/kernel_2.6.33.1\l/src/tcmi/comm/tcmi_authenticate_msg.h" alt="" coords="1526,341,1788,397"/><area shape="rect" id="node6" href="../../da/dbf/kernel__2_86_833_81_2src_2tcmi_2comm_2tcmi__msg__factory_8h.html" title="C:/CLONDIKE/clondike\l/sources/kernel_2.6.33.1\l/src/tcmi/comm/tcmi_msg\l_factory.h" alt="" coords="1553,214,1727,285"/><area shape="rect" id="node7" href="../../d8/d3d/kernel__2_86_833_81_2src_2tcmi_2comm_2tcmi__comm_8h.html" title="C:/CLONDIKE/clondike\l/sources/kernel_2.6.33.1\l/src/tcmi/comm/tcmi_comm.h" alt="" coords="1751,221,1947,277"/><area shape="rect" id="node8" href="../../de/d48/kernel__2_86_833_81_2src_2tcmi_2comm_2tcmi__disconnect__msg_8h.html" title="C:/CLONDIKE/clondike\l/sources/kernel_2.6.33.1\l/src/tcmi/comm/tcmi_disconnect_msg.h" alt="" coords="1813,341,2067,397"/><area shape="rect" id="node9" href="../../da/d34/kernel__2_86_833_81_2src_2tcmi_2comm_2tcmi__err__msg_8h.html" title="C:/CLONDIKE/clondike\l/sources/kernel_2.6.33.1\l/src/tcmi/comm/tcmi_err_msg.h" alt="" coords="966,221,1172,277"/><area shape="rect" id="node11" href="../../d8/dd5/kernel__2_86_833_81_2src_2tcmi_2comm_2tcmi__procmsg_8h.html" title="C:/CLONDIKE/clondike\l/sources/kernel_2.6.33.1\l/src/tcmi/comm/tcmi_procmsg.h" alt="" coords="5,221,216,277"/><area shape="rect" id="node12" href="../../dc/d03/kernel__2_86_833_81_2src_2tcmi_2comm_2tcmi__generic__user__msg_8h.html" title="C:/CLONDIKE/clondike\l/sources/kernel_2.6.33.1\l/src/tcmi/comm/tcmi_generic\l_user_msg.h" alt="" coords="2091,334,2281,405"/><area shape="rect" id="node13" href="../../d1/df3/kernel__2_86_833_81_2src_2tcmi_2comm_2tcmi__generic__user__procmsg_8h.html" title="C:/CLONDIKE/clondike\l/sources/kernel_2.6.33.1\l/src/tcmi/comm/tcmi_generic\l_user_procmsg.h" alt="" coords="241,214,431,285"/><area shape="rect" id="node4" href="../../d2/d6e/kernel__2_86_833_81_2src_2tcmi_2comm_2tcmi__messages__dsc_8h.html" title="C:/CLONDIKE/clondike\l/sources/kernel_2.6.33.1\l/src/tcmi/comm/tcmi_messages_dsc.h" alt="" coords="1268,453,1516,509"/><area shape="rect" id="node14" href="../../da/dca/kernel__2_86_833_81_2src_2tcmi_2comm_2tcmi__skel__msg_8h.html" title="C:/CLONDIKE/clondike\l/sources/kernel_2.6.33.1\l/src/tcmi/comm/tcmi_skel_msg.h" alt="" coords="2307,341,2523,397"/><area shape="rect" id="node10" href="../../d5/d11/kernel__2_86_833_81_2src_2tcmi_2comm_2tcmi__skelresp__msg_8h.html" title="C:/CLONDIKE/clondike\l/sources/kernel_2.6.33.1\l/src/tcmi/comm/tcmi_skelresp_msg.h" alt="" coords="965,341,1205,397"/><area shape="rect" id="node15" href="../../d2/d82/kernel__2_86_833_81_2src_2tcmi_2comm_2tcmi__signal__msg_8h.html" title="C:/CLONDIKE/clondike\l/sources/kernel_2.6.33.1\l/src/tcmi/comm/tcmi_signal_msg.h" alt="" coords="433,341,660,397"/><area shape="rect" id="node16" href="../../d9/d05/kernel__2_86_833_81_2src_2tcmi_2comm_2tcmi__p__emigrate__msg_8h.html" title="C:/CLONDIKE/clondike\l/sources/kernel_2.6.33.1\l/src/tcmi/comm/tcmi_p_emigrate_msg.h" alt="" coords="684,341,940,397"/><area shape="rect" id="node17" href="../../dd/ddb/kernel__2_86_833_81_2src_2tcmi_2comm_2tcmi__msg_8c.html" title="C:/CLONDIKE/clondike\l/sources/kernel_2.6.33.1\l/src/tcmi/comm/tcmi_msg.c" alt="" coords="455,221,640,277"/><area shape="rect" id="node18" href="../../d5/d92/kernel__2_86_833_81_2src_2tcmi_2comm_2tcmi__ppm__p__emigrate__msg_8h.html" title="C:/CLONDIKE/clondike\l/sources/kernel_2.6.33.1\l/src/tcmi/comm/tcmi_ppm\l_p_emigrate_msg.h" alt="" coords="665,214,839,285"/><area shape="rect" id="node20" href="../../dd/d82/kernel__2_86_833_81_2src_2tcmi_2task_2tcmi__taskhelper_8h.html" title="C:/CLONDIKE/clondike\l/sources/kernel_2.6.33.1\l/src/tcmi/task/tcmi_taskhelper.h" alt="" coords="2790,341,2999,397"/><area shape="rect" id="node22" href="../../db/d46/kernel__2_86_833_81_2src_2tcmi_2task_2tcmi__guesttask_8h.html" title="C:/CLONDIKE/clondike\l/sources/kernel_2.6.33.1\l/src/tcmi/task/tcmi_guesttask.h" alt="" coords="3075,341,3281,397"/><area shape="rect" id="node23" href="../../df/d5d/kernel__2_86_833_81_2src_2tcmi_2task_2tcmi__shadowtask_8h.html" title="C:/CLONDIKE/clondike\l/sources/kernel_2.6.33.1\l/src/tcmi/task/tcmi_shadowtask.h" alt="" coords="2547,341,2765,397"/><area shape="rect" id="node21" href="../../dd/d5d/kernel__2_86_833_81_2src_2tcmi_2task_2tcmi__task_8c.html" title="C:/CLONDIKE/clondike\l/sources/kernel_2.6.33.1\l/src/tcmi/task/tcmi_task.c" alt="" coords="2878,453,3052,509"/><area shape="rect" id="node25" href="../../db/d14/kernel__2_86_833_81_2src_2tcmi_2migration_2tcmi__migcom_8h.html" title="C:/CLONDIKE/clondike\l/sources/kernel_2.6.33.1\l/src/tcmi/migration/tcmi\l_migcom.h" alt="" coords="3060,214,3225,285"/><area shape="rect" id="node26" href="../../d5/d17/kernel__3_87_81_2src_2tcmi_2comm_2tcmi__authenticate__resp__msg_8h.html" title="C:/CLONDIKE/clondike\l/sources/kernel_3.7.1\l/src/tcmi/comm/tcmi_authenticate\l_resp_msg.h" alt="" coords="4167,214,4387,285"/><area shape="rect" id="node29" href="../../dd/dc1/kernel__3_87_81_2src_2tcmi_2comm_2tcmi__authenticate__msg_8h.html" title="C:/CLONDIKE/clondike\l/sources/kernel_3.7.1\l/src/tcmi/comm/tcmi_authenticate_msg.h" alt="" coords="4411,221,4673,277"/><area shape="rect" id="node30" href="../../d7/da2/kernel__3_87_81_2src_2tcmi_2comm_2tcmi__msg__factory_8h.html" title="C:/CLONDIKE/clondike\l/sources/kernel_3.7.1\l/src/tcmi/comm/tcmi_msg\l_factory.h" alt="" coords="4881,214,5055,285"/><area shape="rect" id="node31" href="../../d0/d77/kernel__3_87_81_2src_2tcmi_2comm_2tcmi__comm_8h.html" title="C:/CLONDIKE/clondike\l/sources/kernel_3.7.1\l/src/tcmi/comm/tcmi_comm.h" alt="" coords="5079,221,5275,277"/><area shape="rect" id="node32" href="../../d0/d77/kernel__3_87_81_2src_2tcmi_2comm_2tcmi__disconnect__msg_8h.html" title="C:/CLONDIKE/clondike\l/sources/kernel_3.7.1\l/src/tcmi/comm/tcmi_disconnect_msg.h" alt="" coords="3699,341,3953,397"/><area shape="rect" id="node33" href="../../d5/da4/kernel__3_87_81_2src_2tcmi_2comm_2tcmi__err__msg_8h.html" title="C:/CLONDIKE/clondike\l/sources/kernel_3.7.1\l/src/tcmi/comm/tcmi_err_msg.h" alt="" coords="3834,221,4040,277"/><area shape="rect" id="node35" href="../../dd/df1/kernel__3_87_81_2src_2tcmi_2comm_2tcmi__procmsg_8h.html" title="C:/CLONDIKE/clondike\l/sources/kernel_3.7.1\l/src/tcmi/comm/tcmi_procmsg.h" alt="" coords="5300,221,5511,277"/><area shape="rect" id="node36" href="../../d2/d8e/kernel__3_87_81_2src_2tcmi_2comm_2tcmi__generic__user__msg_8h.html" title="C:/CLONDIKE/clondike\l/sources/kernel_3.7.1\l/src/tcmi/comm/tcmi_generic\l_user_msg.h" alt="" coords="4243,334,4433,405"/><area shape="rect" id="node37" href="../../d5/d68/kernel__3_87_81_2src_2tcmi_2comm_2tcmi__generic__user__procmsg_8h.html" title="C:/CLONDIKE/clondike\l/sources/kernel_3.7.1\l/src/tcmi/comm/tcmi_generic\l_user_procmsg.h" alt="" coords="5535,214,5725,285"/><area shape="rect" id="node28" href="../../d9/d03/kernel__3_87_81_2src_2tcmi_2comm_2tcmi__messages__dsc_8h.html" title="C:/CLONDIKE/clondike\l/sources/kernel_3.7.1\l/src/tcmi/comm/tcmi_messages_dsc.h" alt="" coords="3703,453,3951,509"/><area shape="rect" id="node38" href="../../d8/d40/kernel__3_87_81_2src_2tcmi_2comm_2tcmi__skel__msg_8h.html" title="C:/CLONDIKE/clondike\l/sources/kernel_3.7.1\l/src/tcmi/comm/tcmi_skel_msg.h" alt="" coords="3307,341,3523,397"/><area shape="rect" id="node34" href="../../d5/d08/kernel__3_87_81_2src_2tcmi_2comm_2tcmi__skelresp__msg_8h.html" title="C:/CLONDIKE/clondike\l/sources/kernel_3.7.1\l/src/tcmi/comm/tcmi_skelresp_msg.h" alt="" coords="3978,341,4219,397"/><area shape="rect" id="node39" href="../../db/da0/kernel__3_87_81_2src_2tcmi_2comm_2tcmi__signal__msg_8h.html" title="C:/CLONDIKE/clondike\l/sources/kernel_3.7.1\l/src/tcmi/comm/tcmi_signal_msg.h" alt="" coords="3300,221,3527,277"/><area shape="rect" id="node40" href="../../da/dbf/kernel__3_87_81_2src_2tcmi_2comm_2tcmi__p__emigrate__msg_8h.html" title="C:/CLONDIKE/clondike\l/sources/kernel_3.7.1\l/src/tcmi/comm/tcmi_p\l_emigrate_msg.h" alt="" coords="3551,214,3707,285"/><area shape="rect" id="node41" href="../../d3/dd3/kernel__3_87_81_2src_2tcmi_2comm_2tcmi__msg_8c.html" title="C:/CLONDIKE/clondike\l/sources/kernel_3.7.1\l/src/tcmi/comm/tcmi_msg.c" alt="" coords="5750,221,5935,277"/><area shape="rect" id="node42" href="../../d9/d93/kernel__3_87_81_2src_2tcmi_2comm_2tcmi__ppm__p__emigrate__msg_8h.html" title="C:/CLONDIKE/clondike\l/sources/kernel_3.7.1\l/src/tcmi/comm/tcmi_ppm\l_p_emigrate_msg.h" alt="" coords="5959,214,6133,285"/><area shape="rect" id="node43" href="../../dc/dc3/kernel__3_87_81_2src_2tcmi_2migration_2tcmi__migcom_8h.html" title="C:/CLONDIKE/clondike\l/sources/kernel_3.7.1\l/src/tcmi/migration/tcmi\l_migcom.h" alt="" coords="4698,214,4856,285"/><area shape="rect" id="node27" href="../../da/d5e/kernel__2_86_833_81_2src_2tcmi_2manager_2tcmi__penmigman_8c.html" title="C:/CLONDIKE/clondike\l/sources/kernel_2.6.33.1\l/src/tcmi/manager/tcmi_penmigman.c" alt="" coords="4609,341,4849,397"/><area shape="rect" id="node44" href="../../df/d2c/kernel__2_86_833_81_2src_2tcmi_2manager_2tcmi__penman_8c.html" title="C:/CLONDIKE/clondike\l/sources/kernel_2.6.33.1\l/src/tcmi/manager/tcmi_penman.c" alt="" coords="5114,341,5333,397"/><area shape="rect" id="node46" href="../../dd/d19/kernel__2_86_833_81_2src_2tcmi_2comm_2tcmi__rpcresp__procmsg_8c.html" title="C:/CLONDIKE/clondike\l/sources/kernel_2.6.33.1\l/src/tcmi/comm/tcmi_rpcresp\l_procmsg.c" alt="" coords="6385,334,6577,405"/><area shape="rect" id="node47" href="../../d1/df8/kernel__2_86_833_81_2src_2tcmi_2manager_2tcmi__man_8c.html" title="C:/CLONDIKE/clondike\l/sources/kernel_2.6.33.1\l/src/tcmi/manager/tcmi_man.c" alt="" coords="6602,341,6800,397"/><area shape="rect" id="node48" href="../../d6/d0b/kernel__2_86_833_81_2src_2tcmi_2manager_2tcmi__migman_8c.html" title="C:/CLONDIKE/clondike\l/sources/kernel_2.6.33.1\l/src/tcmi/manager/tcmi_migman.c" alt="" coords="5626,341,5845,397"/><area shape="rect" id="node49" href="../../df/d0d/kernel__2_86_833_81_2src_2tcmi_2syscall_2tcmi__shadow__rpc_8h.html" title="C:/CLONDIKE/clondike\l/sources/kernel_2.6.33.1\l/src/tcmi/syscall/tcmi_shadow_rpc.h" alt="" coords="5871,341,6105,397"/><area shape="rect" id="node50" href="../../d9/d27/kernel__2_86_833_81_2src_2tcmi_2syscall_2tcmi__syscallhooks__pidman_8c.html" title="C:/CLONDIKE/clondike\l/sources/kernel_2.6.33.1\l/src/tcmi/syscall/tcmi_syscallhooks\l_pidman.c" alt="" coords="6130,334,6360,405"/></map>
</div>
</div>
<p><a href="../../d5/d42/kernel__3_87_81_2src_2tcmi_2lib_2tcmi__queue_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:d5/d9a/structtcmi__queue"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d0c/group__tcmi__queue__class.html#d5/d9a/structtcmi__queue">tcmi_queue</a></td></tr>
<tr class="memdesc:d5/d9a/structtcmi__queue"><td class="mdescLeft">&#160;</td><td class="mdescRight">compound structure  <a href="../../dc/d0c/group__tcmi__queue__class.html#d5/d9a/structtcmi__queue">More...</a><br/></td></tr>
<tr class="separator:d5/d9a/structtcmi__queue"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:gad1083b0f8850c7e9ff98175807920929"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d0c/group__tcmi__queue__class.html#gad1083b0f8850c7e9ff98175807920929">tcmi_queue_remove_entry</a>(<a class="el" href="../../db/d61/group__tcmi__penman__class.html#gae3924f624412b270d461d2543744407e">self</a>, object, member)</td></tr>
<tr class="memdesc:gad1083b0f8850c7e9ff98175807920929"><td class="mdescLeft">&#160;</td><td class="mdescRight">&lt;&lt;public&gt;&gt; Removes an entry from the head of the queue.  <a href="../../dc/d0c/group__tcmi__queue__class.html#gad1083b0f8850c7e9ff98175807920929">More...</a><br/></td></tr>
<tr class="separator:gad1083b0f8850c7e9ff98175807920929"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6c8484afbdb969e18822e606b87df076"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d0c/group__tcmi__queue__class.html#ga6c8484afbdb969e18822e606b87df076">__tcmi_queue_remove_entry</a>(<a class="el" href="../../db/d61/group__tcmi__penman__class.html#gae3924f624412b270d461d2543744407e">self</a>, object, member)</td></tr>
<tr class="memdesc:ga6c8484afbdb969e18822e606b87df076"><td class="mdescLeft">&#160;</td><td class="mdescRight">&lt;&lt;public&gt;&gt; Removes an entry from the head of the queue.  <a href="../../dc/d0c/group__tcmi__queue__class.html#ga6c8484afbdb969e18822e606b87df076">More...</a><br/></td></tr>
<tr class="separator:ga6c8484afbdb969e18822e606b87df076"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:gab1e4933738a8c6b6b04338fc5d9f393e"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d0c/group__tcmi__queue__class.html#gab1e4933738a8c6b6b04338fc5d9f393e">tcmi_queue_type_t</a> { <a class="el" href="../../dc/d0c/group__tcmi__queue__class.html#ggab1e4933738a8c6b6b04338fc5d9f393eae445c22372c26189d7056dff5a6d80ce">TCMI_QUEUE_STATIC</a>, 
<a class="el" href="../../dc/d0c/group__tcmi__queue__class.html#ggab1e4933738a8c6b6b04338fc5d9f393ea0e2097b2ffc5b73fd39999c973411da3">TCMI_QUEUE_DYNAMIC</a>, 
<a class="el" href="../../dc/d0c/group__tcmi__queue__class.html#ggab1e4933738a8c6b6b04338fc5d9f393eae445c22372c26189d7056dff5a6d80ce">TCMI_QUEUE_STATIC</a>, 
<a class="el" href="../../dc/d0c/group__tcmi__queue__class.html#ggab1e4933738a8c6b6b04338fc5d9f393ea0e2097b2ffc5b73fd39999c973411da3">TCMI_QUEUE_DYNAMIC</a>
 }</td></tr>
<tr class="memdesc:gab1e4933738a8c6b6b04338fc5d9f393e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Denotes whether the queue has been staticaly or dynamically created.  <a href="../../dc/d0c/group__tcmi__queue__class.html#gab1e4933738a8c6b6b04338fc5d9f393e">More...</a><br/></td></tr>
<tr class="separator:gab1e4933738a8c6b6b04338fc5d9f393e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga10c0b527cad2d814db860b28847ca543"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d42/kernel__3_87_81_2src_2tcmi_2lib_2tcmi__queue_8h.html#ga10c0b527cad2d814db860b28847ca543">tcmi_queue_init</a> (struct <a class="el" href="../../dc/d0c/group__tcmi__queue__class.html#d5/d9a/structtcmi__queue">tcmi_queue</a> *<a class="el" href="../../db/d61/group__tcmi__penman__class.html#gae3924f624412b270d461d2543744407e">self</a>)</td></tr>
<tr class="memdesc:ga10c0b527cad2d814db860b28847ca543"><td class="mdescLeft">&#160;</td><td class="mdescRight">&lt;&lt;public&gt;&gt; Queue initializer - for static allocation.  <a href="#ga10c0b527cad2d814db860b28847ca543">More...</a><br/></td></tr>
<tr class="separator:ga10c0b527cad2d814db860b28847ca543"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf5084a4948bff92e814743be6bcca075"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../dc/d0c/group__tcmi__queue__class.html#d5/d9a/structtcmi__queue">tcmi_queue</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d42/kernel__3_87_81_2src_2tcmi_2lib_2tcmi__queue_8h.html#gaf5084a4948bff92e814743be6bcca075">tcmi_queue_new</a> (void)</td></tr>
<tr class="memdesc:gaf5084a4948bff92e814743be6bcca075"><td class="mdescLeft">&#160;</td><td class="mdescRight">&lt;&lt;public&gt;&gt; Queue constructor.  <a href="#gaf5084a4948bff92e814743be6bcca075">More...</a><br/></td></tr>
<tr class="separator:gaf5084a4948bff92e814743be6bcca075"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga04bc9ffdf3dfba76be734472b45c2f83"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../dc/d0c/group__tcmi__queue__class.html#d5/d9a/structtcmi__queue">tcmi_queue</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d42/kernel__3_87_81_2src_2tcmi_2lib_2tcmi__queue_8h.html#ga04bc9ffdf3dfba76be734472b45c2f83">tcmi_queue_get</a> (struct <a class="el" href="../../dc/d0c/group__tcmi__queue__class.html#d5/d9a/structtcmi__queue">tcmi_queue</a> *<a class="el" href="../../db/d61/group__tcmi__penman__class.html#gae3924f624412b270d461d2543744407e">self</a>)</td></tr>
<tr class="memdesc:ga04bc9ffdf3dfba76be734472b45c2f83"><td class="mdescLeft">&#160;</td><td class="mdescRight">&lt;&lt;public&gt;&gt; Queue instance accessor.  <a href="#ga04bc9ffdf3dfba76be734472b45c2f83">More...</a><br/></td></tr>
<tr class="separator:ga04bc9ffdf3dfba76be734472b45c2f83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaedb08d3b6c96b415696a8aa8dec1ae26"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d42/kernel__3_87_81_2src_2tcmi_2lib_2tcmi__queue_8h.html#gaedb08d3b6c96b415696a8aa8dec1ae26">tcmi_queue_put</a> (struct <a class="el" href="../../dc/d0c/group__tcmi__queue__class.html#d5/d9a/structtcmi__queue">tcmi_queue</a> *<a class="el" href="../../db/d61/group__tcmi__penman__class.html#gae3924f624412b270d461d2543744407e">self</a>)</td></tr>
<tr class="memdesc:gaedb08d3b6c96b415696a8aa8dec1ae26"><td class="mdescLeft">&#160;</td><td class="mdescRight">&lt;&lt;public&gt;&gt; Decrements the reference counter, when the count reaches 0, the instance is destroyed.  <a href="#gaedb08d3b6c96b415696a8aa8dec1ae26">More...</a><br/></td></tr>
<tr class="separator:gaedb08d3b6c96b415696a8aa8dec1ae26"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3ae4d7e0a4d5d21ec8b9fff138f5b0d4"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d42/kernel__3_87_81_2src_2tcmi_2lib_2tcmi__queue_8h.html#ga3ae4d7e0a4d5d21ec8b9fff138f5b0d4">tcmi_queue_lock</a> (struct <a class="el" href="../../dc/d0c/group__tcmi__queue__class.html#d5/d9a/structtcmi__queue">tcmi_queue</a> *<a class="el" href="../../db/d61/group__tcmi__penman__class.html#gae3924f624412b270d461d2543744407e">self</a>)</td></tr>
<tr class="memdesc:ga3ae4d7e0a4d5d21ec8b9fff138f5b0d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">&lt;&lt;public&gt;&gt; Locks the instance data.  <a href="#ga3ae4d7e0a4d5d21ec8b9fff138f5b0d4">More...</a><br/></td></tr>
<tr class="separator:ga3ae4d7e0a4d5d21ec8b9fff138f5b0d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2e0e25eec1d5e4ea6e89dfde81ed43f4"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d42/kernel__3_87_81_2src_2tcmi_2lib_2tcmi__queue_8h.html#ga2e0e25eec1d5e4ea6e89dfde81ed43f4">tcmi_queue_unlock</a> (struct <a class="el" href="../../dc/d0c/group__tcmi__queue__class.html#d5/d9a/structtcmi__queue">tcmi_queue</a> *<a class="el" href="../../db/d61/group__tcmi__penman__class.html#gae3924f624412b270d461d2543744407e">self</a>)</td></tr>
<tr class="memdesc:ga2e0e25eec1d5e4ea6e89dfde81ed43f4"><td class="mdescLeft">&#160;</td><td class="mdescRight">&lt;&lt;public&gt;&gt; Unlocks the instance data  <a href="#ga2e0e25eec1d5e4ea6e89dfde81ed43f4">More...</a><br/></td></tr>
<tr class="separator:ga2e0e25eec1d5e4ea6e89dfde81ed43f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2b0f1376bcd561196e77599cbc23090f"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d42/kernel__3_87_81_2src_2tcmi_2lib_2tcmi__queue_8h.html#ga2b0f1376bcd561196e77599cbc23090f">tcmi_queue_empty</a> (struct <a class="el" href="../../dc/d0c/group__tcmi__queue__class.html#d5/d9a/structtcmi__queue">tcmi_queue</a> *<a class="el" href="../../db/d61/group__tcmi__penman__class.html#gae3924f624412b270d461d2543744407e">self</a>)</td></tr>
<tr class="separator:ga2b0f1376bcd561196e77599cbc23090f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga40921ea3b077d55d70fb7b94ac666292"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d42/kernel__3_87_81_2src_2tcmi_2lib_2tcmi__queue_8h.html#ga40921ea3b077d55d70fb7b94ac666292">__tcmi_queue_add</a> (struct <a class="el" href="../../dc/d0c/group__tcmi__queue__class.html#d5/d9a/structtcmi__queue">tcmi_queue</a> *<a class="el" href="../../db/d61/group__tcmi__penman__class.html#gae3924f624412b270d461d2543744407e">self</a>, struct list_head *element)</td></tr>
<tr class="memdesc:ga40921ea3b077d55d70fb7b94ac666292"><td class="mdescLeft">&#160;</td><td class="mdescRight">&lt;&lt;public&gt;&gt; Adds an element to the queue - lock free version, assumes the lock is already held.  <a href="#ga40921ea3b077d55d70fb7b94ac666292">More...</a><br/></td></tr>
<tr class="separator:ga40921ea3b077d55d70fb7b94ac666292"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga640f6067e72f77558cac6c58ca898c46"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d42/kernel__3_87_81_2src_2tcmi_2lib_2tcmi__queue_8h.html#ga640f6067e72f77558cac6c58ca898c46">tcmi_queue_add</a> (struct <a class="el" href="../../dc/d0c/group__tcmi__queue__class.html#d5/d9a/structtcmi__queue">tcmi_queue</a> *<a class="el" href="../../db/d61/group__tcmi__penman__class.html#gae3924f624412b270d461d2543744407e">self</a>, struct list_head *element)</td></tr>
<tr class="memdesc:ga640f6067e72f77558cac6c58ca898c46"><td class="mdescLeft">&#160;</td><td class="mdescRight">&lt;&lt;public&gt;&gt; Locks the queue and appends a new element to the tail.  <a href="#ga640f6067e72f77558cac6c58ca898c46">More...</a><br/></td></tr>
<tr class="separator:ga640f6067e72f77558cac6c58ca898c46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga844cb792b28e461d4ecf34ed47252b85"><td class="memItemLeft" align="right" valign="top">static struct list_head *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d42/kernel__3_87_81_2src_2tcmi_2lib_2tcmi__queue_8h.html#ga844cb792b28e461d4ecf34ed47252b85">__tcmi_queue_remove</a> (struct <a class="el" href="../../dc/d0c/group__tcmi__queue__class.html#d5/d9a/structtcmi__queue">tcmi_queue</a> *<a class="el" href="../../db/d61/group__tcmi__penman__class.html#gae3924f624412b270d461d2543744407e">self</a>)</td></tr>
<tr class="memdesc:ga844cb792b28e461d4ecf34ed47252b85"><td class="mdescLeft">&#160;</td><td class="mdescRight">&lt;&lt;public&gt;&gt; Removes an element in the head of the queue, assumes the lock is held already.  <a href="#ga844cb792b28e461d4ecf34ed47252b85">More...</a><br/></td></tr>
<tr class="separator:ga844cb792b28e461d4ecf34ed47252b85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacf7dde74f314a4bb28a2c589a39d7fb4"><td class="memItemLeft" align="right" valign="top">static struct list_head *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d42/kernel__3_87_81_2src_2tcmi_2lib_2tcmi__queue_8h.html#gacf7dde74f314a4bb28a2c589a39d7fb4">tcmi_queue_remove</a> (struct <a class="el" href="../../dc/d0c/group__tcmi__queue__class.html#d5/d9a/structtcmi__queue">tcmi_queue</a> *<a class="el" href="../../db/d61/group__tcmi__penman__class.html#gae3924f624412b270d461d2543744407e">self</a>)</td></tr>
<tr class="memdesc:gacf7dde74f314a4bb28a2c589a39d7fb4"><td class="mdescLeft">&#160;</td><td class="mdescRight">&lt;&lt;public&gt;&gt; Locks the queue and removes removes an element in the head of the queue, assumes the lock is held already.  <a href="#gacf7dde74f314a4bb28a2c589a39d7fb4">More...</a><br/></td></tr>
<tr class="separator:gacf7dde74f314a4bb28a2c589a39d7fb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae749f14f4593f9b0b48cf31fc43eaa17"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d42/kernel__3_87_81_2src_2tcmi_2lib_2tcmi__queue_8h.html#gae749f14f4593f9b0b48cf31fc43eaa17">tcmi_queue_wait_on_empty_interruptible</a> (struct <a class="el" href="../../dc/d0c/group__tcmi__queue__class.html#d5/d9a/structtcmi__queue">tcmi_queue</a> *<a class="el" href="../../db/d61/group__tcmi__penman__class.html#gae3924f624412b270d461d2543744407e">self</a>)</td></tr>
<tr class="memdesc:gae749f14f4593f9b0b48cf31fc43eaa17"><td class="mdescLeft">&#160;</td><td class="mdescRight">&lt;&lt;public&gt;&gt; Puts the calling process to sleep as long as the queue is empty.  <a href="#gae749f14f4593f9b0b48cf31fc43eaa17">More...</a><br/></td></tr>
<tr class="separator:gae749f14f4593f9b0b48cf31fc43eaa17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3cc3e7d5deff9a3b6e2cb9f3e802e146"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d42/kernel__3_87_81_2src_2tcmi_2lib_2tcmi__queue_8h.html#ga3cc3e7d5deff9a3b6e2cb9f3e802e146">tcmi_queue_wait_on_empty_interruptible_timout</a> (struct <a class="el" href="../../dc/d0c/group__tcmi__queue__class.html#d5/d9a/structtcmi__queue">tcmi_queue</a> *<a class="el" href="../../db/d61/group__tcmi__penman__class.html#gae3924f624412b270d461d2543744407e">self</a>, int timeout)</td></tr>
<tr class="memdesc:ga3cc3e7d5deff9a3b6e2cb9f3e802e146"><td class="mdescLeft">&#160;</td><td class="mdescRight">&lt;&lt;public&gt;&gt; Puts the calling process to sleep as long as the queue is empty or the timeout expires.  <a href="#ga3cc3e7d5deff9a3b6e2cb9f3e802e146">More...</a><br/></td></tr>
<tr class="separator:ga3cc3e7d5deff9a3b6e2cb9f3e802e146"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga40921ea3b077d55d70fb7b94ac666292"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void __tcmi_queue_add </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dc/d0c/group__tcmi__queue__class.html#d5/d9a/structtcmi__queue">tcmi_queue</a> *&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct list_head *&#160;</td>
          <td class="paramname"><em>element</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>&lt;&lt;public&gt;&gt; Adds an element to the queue - lock free version, assumes the lock is already held. </p>
<p>Wakes up a task from the wait queue, so that it can pickup the new element.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*self</td><td>- pointer to this queue instance </td></tr>
    <tr><td class="paramname">*element</td><td>- element to be added to the queue </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../d5/d42/kernel__3_87_81_2src_2tcmi_2lib_2tcmi__queue_8h_source.html#l00206">206</a> of file <a class="el" href="../../d5/d42/kernel__3_87_81_2src_2tcmi_2lib_2tcmi__queue_8h_source.html">tcmi_queue.h</a>.</p>

<p>References <a class="el" href="../../d9/d03/kernel__2_86_833_81_2src_2proxyfs_2proxyfs__server_8c_source.html#l00059">self</a>.</p>

<p>Referenced by <a class="el" href="../../d5/d42/kernel__3_87_81_2src_2tcmi_2lib_2tcmi__queue_8h_source.html#l00217">tcmi_queue_add()</a>.</p>
<div class="fragment"><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;{</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    list_add_tail(element, &amp;self-&gt;<a class="code" href="../../dc/d0c/group__tcmi__queue__class.html#a5fccaace4dd3ae7a7ab2eda4166a00d7" title="The actual queue.">queue</a>);</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    wake_up(&amp;self-&gt;<a class="code" href="../../dc/d0c/group__tcmi__queue__class.html#a90cf31fb339bc00cfb47fa1ae7028f33" title="Sleeping processes, that are to be notified upon addition of a new element.">wq</a>);</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga844cb792b28e461d4ecf34ed47252b85"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct list_head* __tcmi_queue_remove </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dc/d0c/group__tcmi__queue__class.html#d5/d9a/structtcmi__queue">tcmi_queue</a> *&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">read</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>&lt;&lt;public&gt;&gt; Removes an element in the head of the queue, assumes the lock is held already. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*self</td><td>- pointer to this queue instance </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>- element in the head of the queue </dd></dl>

<p>Definition at line <a class="el" href="../../d5/d42/kernel__3_87_81_2src_2tcmi_2lib_2tcmi__queue_8h_source.html#l00231">231</a> of file <a class="el" href="../../d5/d42/kernel__3_87_81_2src_2tcmi_2lib_2tcmi__queue_8h_source.html">tcmi_queue.h</a>.</p>

<p>References <a class="el" href="../../d5/d42/kernel__3_87_81_2src_2tcmi_2lib_2tcmi__queue_8h_source.html#l00193">tcmi_queue_empty()</a>.</p>

<p>Referenced by <a class="el" href="../../d5/d42/kernel__3_87_81_2src_2tcmi_2lib_2tcmi__queue_8h_source.html#l00250">tcmi_queue_remove()</a>.</p>
<div class="fragment"><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;{</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    <span class="keyword">struct </span>list_head *element;</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d5/d42/kernel__3_87_81_2src_2tcmi_2lib_2tcmi__queue_8h.html#ga2b0f1376bcd561196e77599cbc23090f">tcmi_queue_empty</a>(<span class="keyword">self</span>))</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        element = <span class="keyword">self</span>-&gt;queue.next;</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;        list_del_init(element);</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;        <span class="keywordflow">return</span> (element);</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    }</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;}</div>
</div><!-- fragment -->
<p><div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../d5/d42/kernel__3_87_81_2src_2tcmi_2lib_2tcmi__queue_8h_ga844cb792b28e461d4ecf34ed47252b85_cgraph.png" border="0" usemap="#d5/d42/kernel__3_87_81_2src_2tcmi_2lib_2tcmi__queue_8h_ga844cb792b28e461d4ecf34ed47252b85_cgraph" alt=""/></div>
<map name="d5/d42/kernel__3_87_81_2src_2tcmi_2lib_2tcmi__queue_8h_ga844cb792b28e461d4ecf34ed47252b85_cgraph" id="d5/d42/kernel__3_87_81_2src_2tcmi_2lib_2tcmi__queue_8h_ga844cb792b28e461d4ecf34ed47252b85_cgraph">
<area shape="rect" id="node2" href="../../d5/d42/kernel__3_87_81_2src_2tcmi_2lib_2tcmi__queue_8h.html#ga2b0f1376bcd561196e77599cbc23090f" title="tcmi_queue_empty" alt="" coords="206,5,338,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga640f6067e72f77558cac6c58ca898c46"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void tcmi_queue_add </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dc/d0c/group__tcmi__queue__class.html#d5/d9a/structtcmi__queue">tcmi_queue</a> *&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct list_head *&#160;</td>
          <td class="paramname"><em>element</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>&lt;&lt;public&gt;&gt; Locks the queue and appends a new element to the tail. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*self</td><td>- pointer to this queue instance </td></tr>
    <tr><td class="paramname">*element</td><td>- element to be added to the queue </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../d5/d42/kernel__3_87_81_2src_2tcmi_2lib_2tcmi__queue_8h_source.html#l00217">217</a> of file <a class="el" href="../../d5/d42/kernel__3_87_81_2src_2tcmi_2lib_2tcmi__queue_8h_source.html">tcmi_queue.h</a>.</p>

<p>References <a class="el" href="../../d5/d42/kernel__3_87_81_2src_2tcmi_2lib_2tcmi__queue_8h_source.html#l00206">__tcmi_queue_add()</a>, <a class="el" href="../../d5/d42/kernel__3_87_81_2src_2tcmi_2lib_2tcmi__queue_8h_source.html#l00175">tcmi_queue_lock()</a>, and <a class="el" href="../../d5/d42/kernel__3_87_81_2src_2tcmi_2lib_2tcmi__queue_8h_source.html#l00185">tcmi_queue_unlock()</a>.</p>
<div class="fragment"><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;{</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    <a class="code" href="../../d5/d42/kernel__3_87_81_2src_2tcmi_2lib_2tcmi__queue_8h.html#ga3ae4d7e0a4d5d21ec8b9fff138f5b0d4" title="&lt;&lt;public&gt;&gt; Locks the instance data.">tcmi_queue_lock</a>(<span class="keyword">self</span>);</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    <a class="code" href="../../d5/d42/kernel__3_87_81_2src_2tcmi_2lib_2tcmi__queue_8h.html#ga40921ea3b077d55d70fb7b94ac666292" title="&lt;&lt;public&gt;&gt; Adds an element to the queue - lock free version, assumes the lock is already held...">__tcmi_queue_add</a>(<span class="keyword">self</span>, element);</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    <a class="code" href="../../d5/d42/kernel__3_87_81_2src_2tcmi_2lib_2tcmi__queue_8h.html#ga2e0e25eec1d5e4ea6e89dfde81ed43f4" title="&lt;&lt;public&gt;&gt; Unlocks the instance data">tcmi_queue_unlock</a>(<span class="keyword">self</span>);</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;}</div>
</div><!-- fragment -->
<p><div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../d5/d42/kernel__3_87_81_2src_2tcmi_2lib_2tcmi__queue_8h_ga640f6067e72f77558cac6c58ca898c46_cgraph.png" border="0" usemap="#d5/d42/kernel__3_87_81_2src_2tcmi_2lib_2tcmi__queue_8h_ga640f6067e72f77558cac6c58ca898c46_cgraph" alt=""/></div>
<map name="d5/d42/kernel__3_87_81_2src_2tcmi_2lib_2tcmi__queue_8h_ga640f6067e72f77558cac6c58ca898c46_cgraph" id="d5/d42/kernel__3_87_81_2src_2tcmi_2lib_2tcmi__queue_8h_ga640f6067e72f77558cac6c58ca898c46_cgraph">
<area shape="rect" id="node2" href="../../d5/d42/kernel__3_87_81_2src_2tcmi_2lib_2tcmi__queue_8h.html#ga40921ea3b077d55d70fb7b94ac666292" title="&lt;&lt;public&gt;&gt; Adds an element to the queue &#45; lock free version, assumes the lock is already held..." alt="" coords="173,5,304,32"/><area shape="rect" id="node3" href="../../d5/d42/kernel__3_87_81_2src_2tcmi_2lib_2tcmi__queue_8h.html#ga3ae4d7e0a4d5d21ec8b9fff138f5b0d4" title="&lt;&lt;public&gt;&gt; Locks the instance data." alt="" coords="179,56,299,83"/><area shape="rect" id="node4" href="../../d5/d42/kernel__3_87_81_2src_2tcmi_2lib_2tcmi__queue_8h.html#ga2e0e25eec1d5e4ea6e89dfde81ed43f4" title="&lt;&lt;public&gt;&gt; Unlocks the instance data" alt="" coords="171,107,306,133"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga2b0f1376bcd561196e77599cbc23090f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int tcmi_queue_empty </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dc/d0c/group__tcmi__queue__class.html#d5/d9a/structtcmi__queue">tcmi_queue</a> *&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>1 when queue is empty </dd></dl>

<p>Definition at line <a class="el" href="../../d5/d42/kernel__3_87_81_2src_2tcmi_2lib_2tcmi__queue_8h_source.html#l00193">193</a> of file <a class="el" href="../../d5/d42/kernel__3_87_81_2src_2tcmi_2lib_2tcmi__queue_8h_source.html">tcmi_queue.h</a>.</p>

<p>References <a class="el" href="../../d9/d03/kernel__2_86_833_81_2src_2proxyfs_2proxyfs__server_8c_source.html#l00059">self</a>.</p>

<p>Referenced by <a class="el" href="../../d5/d42/kernel__3_87_81_2src_2tcmi_2lib_2tcmi__queue_8h_source.html#l00231">__tcmi_queue_remove()</a>, <a class="el" href="../../d5/d42/kernel__3_87_81_2src_2tcmi_2lib_2tcmi__queue_8h_source.html#l00297">tcmi_queue_wait_on_empty_interruptible()</a>, and <a class="el" href="../../d5/d42/kernel__3_87_81_2src_2tcmi_2lib_2tcmi__queue_8h_source.html#l00312">tcmi_queue_wait_on_empty_interruptible_timout()</a>.</p>
<div class="fragment"><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;{</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <span class="keywordflow">return</span> list_empty(&amp;self-&gt;<a class="code" href="../../dc/d0c/group__tcmi__queue__class.html#a5fccaace4dd3ae7a7ab2eda4166a00d7" title="The actual queue.">queue</a>);</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga04bc9ffdf3dfba76be734472b45c2f83"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="../../dc/d0c/group__tcmi__queue__class.html#d5/d9a/structtcmi__queue">tcmi_queue</a>* tcmi_queue_get </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dc/d0c/group__tcmi__queue__class.html#d5/d9a/structtcmi__queue">tcmi_queue</a> *&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">read</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>&lt;&lt;public&gt;&gt; Queue instance accessor. </p>
<p>Increments the reference counter</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*self</td><td>- pointer to this queue instance </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>- self </dd></dl>

<p>Definition at line <a class="el" href="../../d5/d42/kernel__3_87_81_2src_2tcmi_2lib_2tcmi__queue_8h_source.html#l00138">138</a> of file <a class="el" href="../../d5/d42/kernel__3_87_81_2src_2tcmi_2lib_2tcmi__queue_8h_source.html">tcmi_queue.h</a>.</p>

<p>References <a class="el" href="../../d9/d03/kernel__2_86_833_81_2src_2proxyfs_2proxyfs__server_8c_source.html#l00059">self</a>.</p>
<div class="fragment"><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;{</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <span class="keywordflow">if</span> (!<span class="keyword">self</span>)</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    atomic_inc(&amp;self-&gt;<a class="code" href="../../dc/d0c/group__tcmi__queue__class.html#a7948f7e71517d0058f3a8dd0ef982eb2" title="reference counter for dynamically created queues">ref_count</a>);</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">self</span>;</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga10c0b527cad2d814db860b28847ca543"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void tcmi_queue_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dc/d0c/group__tcmi__queue__class.html#d5/d9a/structtcmi__queue">tcmi_queue</a> *&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>&lt;&lt;public&gt;&gt; Queue initializer - for static allocation. </p>
<p>The reference counter is set to 1.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*self</td><td>- pointer to this queue instance </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../d5/d42/kernel__3_87_81_2src_2tcmi_2lib_2tcmi__queue_8h_source.html#l00097">97</a> of file <a class="el" href="../../d5/d42/kernel__3_87_81_2src_2tcmi_2lib_2tcmi__queue_8h_source.html">tcmi_queue.h</a>.</p>

<p>References <a class="el" href="../../d9/d03/kernel__2_86_833_81_2src_2proxyfs_2proxyfs__server_8c_source.html#l00059">self</a>, and <a class="el" href="../../d3/d83/kernel__2_86_833_81_2src_2tcmi_2lib_2tcmi__queue_8h_source.html#l00064">TCMI_QUEUE_STATIC</a>.</p>

<p>Referenced by <a class="el" href="../../d5/d42/kernel__3_87_81_2src_2tcmi_2lib_2tcmi__queue_8h_source.html#l00112">tcmi_queue_new()</a>.</p>
<div class="fragment"><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;{</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    atomic_set(&amp;self-&gt;<a class="code" href="../../dc/d0c/group__tcmi__queue__class.html#a7948f7e71517d0058f3a8dd0ef982eb2" title="reference counter for dynamically created queues">ref_count</a>, 1);</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    spin_lock_init(&amp;self-&gt;<a class="code" href="../../dc/d0c/group__tcmi__queue__class.html#ac50fa0283872adf3c7b836b2c910601f" title="spin lock - serializes access to the queue">q_lock</a>);</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    INIT_LIST_HEAD(&amp;self-&gt;<a class="code" href="../../dc/d0c/group__tcmi__queue__class.html#a5fccaace4dd3ae7a7ab2eda4166a00d7" title="The actual queue.">queue</a>);</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    <span class="keyword">self</span>-&gt;type = <a class="code" href="../../dc/d0c/group__tcmi__queue__class.html#ggab1e4933738a8c6b6b04338fc5d9f393eae445c22372c26189d7056dff5a6d80ce">TCMI_QUEUE_STATIC</a>;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    init_waitqueue_head(&amp;self-&gt;<a class="code" href="../../dc/d0c/group__tcmi__queue__class.html#a90cf31fb339bc00cfb47fa1ae7028f33" title="Sleeping processes, that are to be notified upon addition of a new element.">wq</a>);</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga3ae4d7e0a4d5d21ec8b9fff138f5b0d4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void tcmi_queue_lock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dc/d0c/group__tcmi__queue__class.html#d5/d9a/structtcmi__queue">tcmi_queue</a> *&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>&lt;&lt;public&gt;&gt; Locks the instance data. </p>
<p>Spin lock used - no sleeping allowed!</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*self</td><td>- pointer to this queue instance </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../d5/d42/kernel__3_87_81_2src_2tcmi_2lib_2tcmi__queue_8h_source.html#l00175">175</a> of file <a class="el" href="../../d5/d42/kernel__3_87_81_2src_2tcmi_2lib_2tcmi__queue_8h_source.html">tcmi_queue.h</a>.</p>

<p>References <a class="el" href="../../d9/d03/kernel__2_86_833_81_2src_2proxyfs_2proxyfs__server_8c_source.html#l00059">self</a>.</p>

<p>Referenced by <a class="el" href="../../d5/d42/kernel__3_87_81_2src_2tcmi_2lib_2tcmi__queue_8h_source.html#l00217">tcmi_queue_add()</a>, and <a class="el" href="../../d5/d42/kernel__3_87_81_2src_2tcmi_2lib_2tcmi__queue_8h_source.html#l00250">tcmi_queue_remove()</a>.</p>
<div class="fragment"><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;{</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    spin_lock(&amp;self-&gt;<a class="code" href="../../dc/d0c/group__tcmi__queue__class.html#ac50fa0283872adf3c7b836b2c910601f" title="spin lock - serializes access to the queue">q_lock</a>);</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="gaf5084a4948bff92e814743be6bcca075"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="../../dc/d0c/group__tcmi__queue__class.html#d5/d9a/structtcmi__queue">tcmi_queue</a>* tcmi_queue_new </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">read</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>&lt;&lt;public&gt;&gt; Queue constructor. </p>
<dl class="section return"><dt>Returns</dt><dd>a new queue or NULL </dd></dl>

<p>Definition at line <a class="el" href="../../d5/d42/kernel__3_87_81_2src_2tcmi_2lib_2tcmi__queue_8h_source.html#l00112">112</a> of file <a class="el" href="../../d5/d42/kernel__3_87_81_2src_2tcmi_2lib_2tcmi__queue_8h_source.html">tcmi_queue.h</a>.</p>

<p>References <a class="el" href="../../de/d8f/kernel__2_86_833_81_2src_2dbg_8h_source.html#l00220">mdbg</a>, <a class="el" href="../../d3/d83/kernel__2_86_833_81_2src_2tcmi_2lib_2tcmi__queue_8h_source.html#l00065">TCMI_QUEUE_DYNAMIC</a>, <a class="el" href="../../d5/d42/kernel__3_87_81_2src_2tcmi_2lib_2tcmi__queue_8h_source.html#l00097">tcmi_queue_init()</a>, and <a class="el" href="../../d3/d83/kernel__2_86_833_81_2src_2tcmi_2lib_2tcmi__queue_8h_source.html#l00080">tcmi_queue::type</a>.</p>
<div class="fragment"><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;{</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../dc/d0c/group__tcmi__queue__class.html#d5/d9a/structtcmi__queue" title="compound structure">tcmi_queue</a> *q;</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    q = kmalloc(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../dc/d0c/group__tcmi__queue__class.html#d5/d9a/structtcmi__queue" title="compound structure">tcmi_queue</a>), GFP_ATOMIC);</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    <span class="keywordflow">if</span> (!q) {</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;        <a class="code" href="../../de/d8f/kernel__2_86_833_81_2src_2dbg_8h.html#a881516d8ffc635f7f0e87468340c80dc">mdbg</a>(ERR3, <span class="stringliteral">&quot;Can&#39;t allocated memory for a queue&quot;</span>);</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;        <span class="keywordflow">goto</span> exit0;</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    }</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    <a class="code" href="../../d5/d42/kernel__3_87_81_2src_2tcmi_2lib_2tcmi__queue_8h.html#ga10c0b527cad2d814db860b28847ca543" title="&lt;&lt;public&gt;&gt; Queue initializer - for static allocation.">tcmi_queue_init</a>(q);</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    <span class="comment">/* mark the queue dynamic, so that it is released on the last &#39;put&#39; */</span></div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    q-&gt;<a class="code" href="../../dc/d0c/group__tcmi__queue__class.html#ac6535980a498313af0fa4ef9cfca87d3" title="describes how the queue has been created">type</a> = <a class="code" href="../../dc/d0c/group__tcmi__queue__class.html#ggab1e4933738a8c6b6b04338fc5d9f393ea0e2097b2ffc5b73fd39999c973411da3">TCMI_QUEUE_DYNAMIC</a>;</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <a class="code" href="../../de/d8f/kernel__2_86_833_81_2src_2dbg_8h.html#a881516d8ffc635f7f0e87468340c80dc">mdbg</a>(INFO4, <span class="stringliteral">&quot;Allocated new queue %p&quot;</span>, q);</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    <span class="keywordflow">return</span> q;</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    <span class="comment">/* error handling */</span></div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160; exit0:</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;}</div>
</div><!-- fragment -->
<p><div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../d5/d42/kernel__3_87_81_2src_2tcmi_2lib_2tcmi__queue_8h_gaf5084a4948bff92e814743be6bcca075_cgraph.png" border="0" usemap="#d5/d42/kernel__3_87_81_2src_2tcmi_2lib_2tcmi__queue_8h_gaf5084a4948bff92e814743be6bcca075_cgraph" alt=""/></div>
<map name="d5/d42/kernel__3_87_81_2src_2tcmi_2lib_2tcmi__queue_8h_gaf5084a4948bff92e814743be6bcca075_cgraph" id="d5/d42/kernel__3_87_81_2src_2tcmi_2lib_2tcmi__queue_8h_gaf5084a4948bff92e814743be6bcca075_cgraph">
<area shape="rect" id="node2" href="../../d5/d42/kernel__3_87_81_2src_2tcmi_2lib_2tcmi__queue_8h.html#ga10c0b527cad2d814db860b28847ca543" title="&lt;&lt;public&gt;&gt; Queue initializer &#45; for static allocation." alt="" coords="174,5,287,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gaedb08d3b6c96b415696a8aa8dec1ae26"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void tcmi_queue_put </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dc/d0c/group__tcmi__queue__class.html#d5/d9a/structtcmi__queue">tcmi_queue</a> *&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>&lt;&lt;public&gt;&gt; Decrements the reference counter, when the count reaches 0, the instance is destroyed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*self</td><td>- pointer to this queue instance </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../d5/d42/kernel__3_87_81_2src_2tcmi_2lib_2tcmi__queue_8h_source.html#l00152">152</a> of file <a class="el" href="../../d5/d42/kernel__3_87_81_2src_2tcmi_2lib_2tcmi__queue_8h_source.html">tcmi_queue.h</a>.</p>

<p>References <a class="el" href="../../de/d8f/kernel__2_86_833_81_2src_2dbg_8h_source.html#l00220">mdbg</a>, <a class="el" href="../../d9/d03/kernel__2_86_833_81_2src_2proxyfs_2proxyfs__server_8c_source.html#l00059">self</a>, and <a class="el" href="../../d3/d83/kernel__2_86_833_81_2src_2tcmi_2lib_2tcmi__queue_8h_source.html#l00064">TCMI_QUEUE_STATIC</a>.</p>
<div class="fragment"><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;{</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    <span class="keywordflow">if</span> (!<span class="keyword">self</span>)</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    <span class="keywordflow">if</span> (atomic_dec_and_test(&amp;self-&gt;<a class="code" href="../../dc/d0c/group__tcmi__queue__class.html#a7948f7e71517d0058f3a8dd0ef982eb2" title="reference counter for dynamically created queues">ref_count</a>)) {</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;        <span class="keywordflow">if</span> (self-&gt;<a class="code" href="../../dc/d0c/group__tcmi__queue__class.html#ac6535980a498313af0fa4ef9cfca87d3" title="describes how the queue has been created">type</a> == <a class="code" href="../../dc/d0c/group__tcmi__queue__class.html#ggab1e4933738a8c6b6b04338fc5d9f393eae445c22372c26189d7056dff5a6d80ce">TCMI_QUEUE_STATIC</a>)</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;            <a class="code" href="../../de/d8f/kernel__2_86_833_81_2src_2dbg_8h.html#a881516d8ffc635f7f0e87468340c80dc">mdbg</a>(INFO4, <span class="stringliteral">&quot;Released last reference to a static queue&quot;</span>);</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;            <a class="code" href="../../de/d8f/kernel__2_86_833_81_2src_2dbg_8h.html#a881516d8ffc635f7f0e87468340c80dc">mdbg</a>(INFO4, <span class="stringliteral">&quot;Released last reference to a dynamic queue %p&quot;</span>, </div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;                 <span class="keyword">self</span>);</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;            kfree(<span class="keyword">self</span>);</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;        }</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    }</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="gacf7dde74f314a4bb28a2c589a39d7fb4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct list_head* tcmi_queue_remove </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dc/d0c/group__tcmi__queue__class.html#d5/d9a/structtcmi__queue">tcmi_queue</a> *&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">read</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>&lt;&lt;public&gt;&gt; Locks the queue and removes removes an element in the head of the queue, assumes the lock is held already. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*self</td><td>- pointer to this queue instance </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>- element in the head of the queue </dd></dl>

<p>Definition at line <a class="el" href="../../d5/d42/kernel__3_87_81_2src_2tcmi_2lib_2tcmi__queue_8h_source.html#l00250">250</a> of file <a class="el" href="../../d5/d42/kernel__3_87_81_2src_2tcmi_2lib_2tcmi__queue_8h_source.html">tcmi_queue.h</a>.</p>

<p>References <a class="el" href="../../d5/d42/kernel__3_87_81_2src_2tcmi_2lib_2tcmi__queue_8h_source.html#l00231">__tcmi_queue_remove()</a>, <a class="el" href="../../d5/d42/kernel__3_87_81_2src_2tcmi_2lib_2tcmi__queue_8h_source.html#l00175">tcmi_queue_lock()</a>, and <a class="el" href="../../d5/d42/kernel__3_87_81_2src_2tcmi_2lib_2tcmi__queue_8h_source.html#l00185">tcmi_queue_unlock()</a>.</p>
<div class="fragment"><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;{</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    <span class="keyword">struct </span>list_head *element;</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    <a class="code" href="../../d5/d42/kernel__3_87_81_2src_2tcmi_2lib_2tcmi__queue_8h.html#ga3ae4d7e0a4d5d21ec8b9fff138f5b0d4" title="&lt;&lt;public&gt;&gt; Locks the instance data.">tcmi_queue_lock</a>(<span class="keyword">self</span>);</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    element = <a class="code" href="../../d5/d42/kernel__3_87_81_2src_2tcmi_2lib_2tcmi__queue_8h.html#ga844cb792b28e461d4ecf34ed47252b85" title="&lt;&lt;public&gt;&gt; Removes an element in the head of the queue, assumes the lock is held already.">__tcmi_queue_remove</a>(<span class="keyword">self</span>);</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    <a class="code" href="../../d5/d42/kernel__3_87_81_2src_2tcmi_2lib_2tcmi__queue_8h.html#ga2e0e25eec1d5e4ea6e89dfde81ed43f4" title="&lt;&lt;public&gt;&gt; Unlocks the instance data">tcmi_queue_unlock</a>(<span class="keyword">self</span>);</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    <span class="keywordflow">return</span> element;</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;}</div>
</div><!-- fragment -->
<p><div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../d5/d42/kernel__3_87_81_2src_2tcmi_2lib_2tcmi__queue_8h_gacf7dde74f314a4bb28a2c589a39d7fb4_cgraph.png" border="0" usemap="#d5/d42/kernel__3_87_81_2src_2tcmi_2lib_2tcmi__queue_8h_gacf7dde74f314a4bb28a2c589a39d7fb4_cgraph" alt=""/></div>
<map name="d5/d42/kernel__3_87_81_2src_2tcmi_2lib_2tcmi__queue_8h_gacf7dde74f314a4bb28a2c589a39d7fb4_cgraph" id="d5/d42/kernel__3_87_81_2src_2tcmi_2lib_2tcmi__queue_8h_gacf7dde74f314a4bb28a2c589a39d7fb4_cgraph">
<area shape="rect" id="node2" href="../../d5/d42/kernel__3_87_81_2src_2tcmi_2lib_2tcmi__queue_8h.html#ga844cb792b28e461d4ecf34ed47252b85" title="&lt;&lt;public&gt;&gt; Removes an element in the head of the queue, assumes the lock is held already." alt="" coords="193,5,343,32"/><area shape="rect" id="node4" href="../../d5/d42/kernel__3_87_81_2src_2tcmi_2lib_2tcmi__queue_8h.html#ga3ae4d7e0a4d5d21ec8b9fff138f5b0d4" title="&lt;&lt;public&gt;&gt; Locks the instance data." alt="" coords="208,56,328,83"/><area shape="rect" id="node5" href="../../d5/d42/kernel__3_87_81_2src_2tcmi_2lib_2tcmi__queue_8h.html#ga2e0e25eec1d5e4ea6e89dfde81ed43f4" title="&lt;&lt;public&gt;&gt; Unlocks the instance data" alt="" coords="201,107,335,133"/><area shape="rect" id="node3" href="../../d5/d42/kernel__3_87_81_2src_2tcmi_2lib_2tcmi__queue_8h.html#ga2b0f1376bcd561196e77599cbc23090f" title="tcmi_queue_empty" alt="" coords="393,5,525,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga2e0e25eec1d5e4ea6e89dfde81ed43f4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void tcmi_queue_unlock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dc/d0c/group__tcmi__queue__class.html#d5/d9a/structtcmi__queue">tcmi_queue</a> *&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>&lt;&lt;public&gt;&gt; Unlocks the instance data </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*self</td><td>- pointer to this queue instance </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../d5/d42/kernel__3_87_81_2src_2tcmi_2lib_2tcmi__queue_8h_source.html#l00185">185</a> of file <a class="el" href="../../d5/d42/kernel__3_87_81_2src_2tcmi_2lib_2tcmi__queue_8h_source.html">tcmi_queue.h</a>.</p>

<p>References <a class="el" href="../../d9/d03/kernel__2_86_833_81_2src_2proxyfs_2proxyfs__server_8c_source.html#l00059">self</a>.</p>

<p>Referenced by <a class="el" href="../../d5/d42/kernel__3_87_81_2src_2tcmi_2lib_2tcmi__queue_8h_source.html#l00217">tcmi_queue_add()</a>, and <a class="el" href="../../d5/d42/kernel__3_87_81_2src_2tcmi_2lib_2tcmi__queue_8h_source.html#l00250">tcmi_queue_remove()</a>.</p>
<div class="fragment"><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;{</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    spin_unlock(&amp;self-&gt;<a class="code" href="../../dc/d0c/group__tcmi__queue__class.html#ac50fa0283872adf3c7b836b2c910601f" title="spin lock - serializes access to the queue">q_lock</a>);</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="gae749f14f4593f9b0b48cf31fc43eaa17"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int tcmi_queue_wait_on_empty_interruptible </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dc/d0c/group__tcmi__queue__class.html#d5/d9a/structtcmi__queue">tcmi_queue</a> *&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>&lt;&lt;public&gt;&gt; Puts the calling process to sleep as long as the queue is empty. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*self</td><td>- pointer to this queue instance </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>-ERESTARTSYS on signal arrival </dd></dl>

<p>Definition at line <a class="el" href="../../d5/d42/kernel__3_87_81_2src_2tcmi_2lib_2tcmi__queue_8h_source.html#l00297">297</a> of file <a class="el" href="../../d5/d42/kernel__3_87_81_2src_2tcmi_2lib_2tcmi__queue_8h_source.html">tcmi_queue.h</a>.</p>

<p>References <a class="el" href="../../d9/d03/kernel__2_86_833_81_2src_2proxyfs_2proxyfs__server_8c_source.html#l00059">self</a>, and <a class="el" href="../../d5/d42/kernel__3_87_81_2src_2tcmi_2lib_2tcmi__queue_8h_source.html#l00193">tcmi_queue_empty()</a>.</p>
<div class="fragment"><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;{</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    <span class="comment">/* Sleep until the queue is non empty */</span></div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    <span class="keywordflow">return</span> wait_event_interruptible_exclusive(self-&gt;<a class="code" href="../../dc/d0c/group__tcmi__queue__class.html#a90cf31fb339bc00cfb47fa1ae7028f33" title="Sleeping processes, that are to be notified upon addition of a new element.">wq</a>, (!<a class="code" href="../../d5/d42/kernel__3_87_81_2src_2tcmi_2lib_2tcmi__queue_8h.html#ga2b0f1376bcd561196e77599cbc23090f">tcmi_queue_empty</a>(<span class="keyword">self</span>)));</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;}</div>
</div><!-- fragment -->
<p><div id="dynsection-6" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../d5/d42/kernel__3_87_81_2src_2tcmi_2lib_2tcmi__queue_8h_gae749f14f4593f9b0b48cf31fc43eaa17_cgraph.png" border="0" usemap="#d5/d42/kernel__3_87_81_2src_2tcmi_2lib_2tcmi__queue_8h_gae749f14f4593f9b0b48cf31fc43eaa17_cgraph" alt=""/></div>
<map name="d5/d42/kernel__3_87_81_2src_2tcmi_2lib_2tcmi__queue_8h_gae749f14f4593f9b0b48cf31fc43eaa17_cgraph" id="d5/d42/kernel__3_87_81_2src_2tcmi_2lib_2tcmi__queue_8h_gae749f14f4593f9b0b48cf31fc43eaa17_cgraph">
<area shape="rect" id="node2" href="../../d5/d42/kernel__3_87_81_2src_2tcmi_2lib_2tcmi__queue_8h.html#ga2b0f1376bcd561196e77599cbc23090f" title="tcmi_queue_empty" alt="" coords="195,12,327,39"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga3cc3e7d5deff9a3b6e2cb9f3e802e146"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int tcmi_queue_wait_on_empty_interruptible_timout </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dc/d0c/group__tcmi__queue__class.html#d5/d9a/structtcmi__queue">tcmi_queue</a> *&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>&lt;&lt;public&gt;&gt; Puts the calling process to sleep as long as the queue is empty or the timeout expires. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*self</td><td>- pointer to this queue instance </td></tr>
    <tr><td class="paramname">timeout</td><td>- specified timeout </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>-ERESTARTSYS on signal arrival or timeout (&gt;0) if the timer went off </dd></dl>

<p>Definition at line <a class="el" href="../../d5/d42/kernel__3_87_81_2src_2tcmi_2lib_2tcmi__queue_8h_source.html#l00312">312</a> of file <a class="el" href="../../d5/d42/kernel__3_87_81_2src_2tcmi_2lib_2tcmi__queue_8h_source.html">tcmi_queue.h</a>.</p>

<p>References <a class="el" href="../../d9/d03/kernel__2_86_833_81_2src_2proxyfs_2proxyfs__server_8c_source.html#l00059">self</a>, and <a class="el" href="../../d5/d42/kernel__3_87_81_2src_2tcmi_2lib_2tcmi__queue_8h_source.html#l00193">tcmi_queue_empty()</a>.</p>
<div class="fragment"><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;{</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    <span class="comment">/* Sleep until the queue is non empty */</span></div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    <span class="keywordflow">return</span> wait_event_interruptible_timeout(self-&gt;<a class="code" href="../../dc/d0c/group__tcmi__queue__class.html#a90cf31fb339bc00cfb47fa1ae7028f33" title="Sleeping processes, that are to be notified upon addition of a new element.">wq</a>, (!<a class="code" href="../../d5/d42/kernel__3_87_81_2src_2tcmi_2lib_2tcmi__queue_8h.html#ga2b0f1376bcd561196e77599cbc23090f">tcmi_queue_empty</a>(<span class="keyword">self</span>)), </div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;                        timeout);</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;}</div>
</div><!-- fragment -->
<p><div id="dynsection-7" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-7-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../d5/d42/kernel__3_87_81_2src_2tcmi_2lib_2tcmi__queue_8h_ga3cc3e7d5deff9a3b6e2cb9f3e802e146_cgraph.png" border="0" usemap="#d5/d42/kernel__3_87_81_2src_2tcmi_2lib_2tcmi__queue_8h_ga3cc3e7d5deff9a3b6e2cb9f3e802e146_cgraph" alt=""/></div>
<map name="d5/d42/kernel__3_87_81_2src_2tcmi_2lib_2tcmi__queue_8h_ga3cc3e7d5deff9a3b6e2cb9f3e802e146_cgraph" id="d5/d42/kernel__3_87_81_2src_2tcmi_2lib_2tcmi__queue_8h_ga3cc3e7d5deff9a3b6e2cb9f3e802e146_cgraph">
<area shape="rect" id="node2" href="../../d5/d42/kernel__3_87_81_2src_2tcmi_2lib_2tcmi__queue_8h.html#ga2b0f1376bcd561196e77599cbc23090f" title="tcmi_queue_empty" alt="" coords="195,20,327,47"/></map>
</div>
</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_08d237fc27d4ecd563f71c5d52f2fecc.html">sources</a></li><li class="navelem"><a class="el" href="../../dir_08cfbe165ea603e6d179ff1f702f26c2.html">kernel_3.7.1</a></li><li class="navelem"><a class="el" href="../../dir_54993795d38a4b0939659b8e486bb0f5.html">src</a></li><li class="navelem"><a class="el" href="../../dir_d6db29d45a6ebf6e3bfdbb75b7b3a396.html">tcmi</a></li><li class="navelem"><a class="el" href="../../dir_9c1ee0afe7d46036aefd8509bb52824d.html">lib</a></li><li class="navelem"><a class="el" href="../../d5/d42/kernel__3_87_81_2src_2tcmi_2lib_2tcmi__queue_8h.html">tcmi_queue.h</a></li>
    <li class="footer">Generated on Mon Apr 1 2013 16:10:31 for Clondike by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.3.1 </li>
  </ul>
</div>
</body>
</html>
