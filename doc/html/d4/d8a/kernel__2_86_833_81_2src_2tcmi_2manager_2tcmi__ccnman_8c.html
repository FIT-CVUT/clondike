<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3.1"/>
<title>Clondike: C:/CLONDIKE/clondike/sources/kernel_2.6.33.1/src/tcmi/manager/tcmi_ccnman.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Clondike
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('d4/d8a/kernel__2_86_833_81_2src_2tcmi_2manager_2tcmi__ccnman_8c.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">tcmi_ccnman.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;linux/kthread.h&gt;</code><br/>
<code>#include &lt;tcmi/migration/tcmi_migcom.h&gt;</code><br/>
<code>#include &lt;tcmi/ctlfs/tcmi_ctlfs.h&gt;</code><br/>
<code>#include &lt;tcmi/lib/tcmi_sock.h&gt;</code><br/>
<code>#include &quot;<a class="el" href="../../d8/d39/kernel__2_86_833_81_2src_2tcmi_2manager_2tcmi__ccnmigman_8h_source.html">tcmi_ccnmigman.h</a>&quot;</code><br/>
<code>#include &lt;kkc/kkc.h&gt;</code><br/>
<code>#include &quot;<a class="el" href="../../da/d83/kernel__2_86_833_81_2src_2tcmi_2manager_2tcmi__ccnman_8h_source.html">tcmi_ccnman.h</a>&quot;</code><br/>
<code>#include &lt;dbg.h&gt;</code><br/>
<code>#include &lt;director/director.h&gt;</code><br/>
</div><div class="textblock"><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="../../closed.png" alt="+"/> Include dependency graph for tcmi_ccnman.c:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../dc/d78/kernel__2_86_833_81_2src_2tcmi_2manager_2tcmi__ccnman_8c__incl.png" border="0" usemap="#C_1_2CLONDIKE_2clondike_2sources_2kernel__2_86_833_81_2src_2tcmi_2manager_2tcmi__ccnman_8c" alt=""/></div>
<map name="C_1_2CLONDIKE_2clondike_2sources_2kernel__2_86_833_81_2src_2tcmi_2manager_2tcmi__ccnman_8c" id="C_1_2CLONDIKE_2clondike_2sources_2kernel__2_86_833_81_2src_2tcmi_2manager_2tcmi__ccnman_8c">
<area shape="rect" id="node6" href="../../d8/d39/kernel__2_86_833_81_2src_2tcmi_2manager_2tcmi__ccnmigman_8h.html" title="tcmi_ccnmigman.h" alt="" coords="771,117,903,144"/><area shape="rect" id="node19" href="../../da/d83/kernel__2_86_833_81_2src_2tcmi_2manager_2tcmi__ccnman_8h.html" title="tcmi_ccnman.h" alt="" coords="1234,117,1344,144"/><area shape="rect" id="node8" href="../../df/d9b/kernel__2_86_833_81_2src_2tcmi_2manager_2tcmi__migman_8h.html" title="tcmi_migman.h" alt="" coords="893,208,1003,235"/><area shape="rect" id="node21" href="../../de/db4/kernel__2_86_833_81_2src_2tcmi_2manager_2tcmi__man_8h.html" title="tcmi_man.h" alt="" coords="1396,208,1487,235"/></map>
</div>
</div>
<p><a href="../../d4/d8a/kernel__2_86_833_81_2src_2tcmi_2manager_2tcmi__ccnman_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a322c58841a989b7a0c44837e7f8ba290"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d8a/kernel__2_86_833_81_2src_2tcmi_2manager_2tcmi__ccnman_8c.html#a322c58841a989b7a0c44837e7f8ba290">TCMI_CCNMAN_PRIVATE</a></td></tr>
<tr class="separator:a322c58841a989b7a0c44837e7f8ba290"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a934efb858409568e51362a2a7e5fe53c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d8a/kernel__2_86_833_81_2src_2tcmi_2manager_2tcmi__ccnman_8c.html#a934efb858409568e51362a2a7e5fe53c">MAX_LISTENINGS</a>&#160;&#160;&#160;2</td></tr>
<tr class="memdesc:a934efb858409568e51362a2a7e5fe53c"><td class="mdescLeft">&#160;</td><td class="mdescRight">maximum number of listenings  <a href="#a934efb858409568e51362a2a7e5fe53c">More...</a><br/></td></tr>
<tr class="separator:a934efb858409568e51362a2a7e5fe53c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:af66ed5b4eaaed8835d44373102723f6a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d8a/kernel__2_86_833_81_2src_2tcmi_2manager_2tcmi__ccnman_8c.html#af66ed5b4eaaed8835d44373102723f6a">tcmi_ccnman_init</a> (struct <a class="el" href="../../d8/d36/group__tcmi__ctlfs__entry__class.html#db/d2a/structtcmi__ctlfs__entry">tcmi_ctlfs_entry</a> *root)</td></tr>
<tr class="memdesc:af66ed5b4eaaed8835d44373102723f6a"><td class="mdescLeft">&#160;</td><td class="mdescRight">&lt;&lt;public&gt;&gt; Singleton instance initializer.  <a href="#af66ed5b4eaaed8835d44373102723f6a">More...</a><br/></td></tr>
<tr class="separator:af66ed5b4eaaed8835d44373102723f6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56c8b782c2f77fb6dea92c9cc5a9810f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d8a/kernel__2_86_833_81_2src_2tcmi_2manager_2tcmi__ccnman_8c.html#a56c8b782c2f77fb6dea92c9cc5a9810f">tcmi_ccnman_shutdown</a> (void)</td></tr>
<tr class="memdesc:a56c8b782c2f77fb6dea92c9cc5a9810f"><td class="mdescLeft">&#160;</td><td class="mdescRight">&lt;&lt;public&gt;&gt; The manager is shutdown exactly in this order:  <a href="#a56c8b782c2f77fb6dea92c9cc5a9810f">More...</a><br/></td></tr>
<tr class="separator:a56c8b782c2f77fb6dea92c9cc5a9810f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabdb3de218242f196cc95029bf953eef6"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/db6/group__tcmi__ccnman__class.html#gabdb3de218242f196cc95029bf953eef6">tcmi_ccnman_init_ctlfs_dirs</a> (void)</td></tr>
<tr class="memdesc:gabdb3de218242f196cc95029bf953eef6"><td class="mdescLeft">&#160;</td><td class="mdescRight">&lt;&lt;private&gt;&gt; Creates the additional directories as described in <a class="el" href="../../df/db6/group__tcmi__ccnman__class.html">here </a>.  <a href="../../df/db6/group__tcmi__ccnman__class.html#gabdb3de218242f196cc95029bf953eef6">More...</a><br/></td></tr>
<tr class="separator:gabdb3de218242f196cc95029bf953eef6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3ffc6db24701b66716c03927062b20e0"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/db6/group__tcmi__ccnman__class.html#ga3ffc6db24701b66716c03927062b20e0">tcmi_ccnman_init_ctlfs_files</a> (void)</td></tr>
<tr class="memdesc:ga3ffc6db24701b66716c03927062b20e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">&lt;&lt;private&gt;&gt; Creates the static files described <a class="el" href="../../df/db6/group__tcmi__ccnman__class.html">here </a>.  <a href="../../df/db6/group__tcmi__ccnman__class.html#ga3ffc6db24701b66716c03927062b20e0">More...</a><br/></td></tr>
<tr class="separator:ga3ffc6db24701b66716c03927062b20e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5a33a23f51ffa3c322e785c5f5d3dece"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/db6/group__tcmi__ccnman__class.html#ga5a33a23f51ffa3c322e785c5f5d3dece">tcmi_ccnman_add_sleeper</a> (struct <a class="el" href="../../d6/dfa/group__kkc__sock__sleeper.html#df/d13/structkkc__sock__sleeper">kkc_sock_sleeper</a> *sleeper)</td></tr>
<tr class="memdesc:ga5a33a23f51ffa3c322e785c5f5d3dece"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a sleeper that represents a wait queue element for a newly created socket into the internal sleepers list.  <a href="../../df/db6/group__tcmi__ccnman__class.html#ga5a33a23f51ffa3c322e785c5f5d3dece">More...</a><br/></td></tr>
<tr class="separator:ga5a33a23f51ffa3c322e785c5f5d3dece"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9389c2be9797d585c46f8ac40373ab2c"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/db6/group__tcmi__ccnman__class.html#ga9389c2be9797d585c46f8ac40373ab2c">tcmi_ccnman_remove_sleepers</a> (struct <a class="el" href="../../d3/d7e/group__tcmi__sock__class.html#da/dba/structtcmi__sock">tcmi_sock</a> *sock)</td></tr>
<tr class="memdesc:ga9389c2be9797d585c46f8ac40373ab2c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Searches the list of socket sleepers and removes all sleepers that match the socket.  <a href="../../df/db6/group__tcmi__ccnman__class.html#ga9389c2be9797d585c46f8ac40373ab2c">More...</a><br/></td></tr>
<tr class="separator:ga9389c2be9797d585c46f8ac40373ab2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9f0f5a98bd6386027a98678c3e1e07e4"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/db6/group__tcmi__ccnman__class.html#ga9f0f5a98bd6386027a98678c3e1e07e4">tcmi_ccnman_stop_ctlfs_dirs</a> (void)</td></tr>
<tr class="memdesc:ga9f0f5a98bd6386027a98678c3e1e07e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">&lt;&lt;private&gt;&gt; Releases all directories - called back by generic TCMI manager  <a href="../../df/db6/group__tcmi__ccnman__class.html#ga9f0f5a98bd6386027a98678c3e1e07e4">More...</a><br/></td></tr>
<tr class="separator:ga9f0f5a98bd6386027a98678c3e1e07e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3ea0760a59837e4ca72b1df585e1a446"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/db6/group__tcmi__ccnman__class.html#ga3ea0760a59837e4ca72b1df585e1a446">tcmi_ccnman_stop_ctlfs_files</a> (void)</td></tr>
<tr class="memdesc:ga3ea0760a59837e4ca72b1df585e1a446"><td class="mdescLeft">&#160;</td><td class="mdescRight">&lt;&lt;private&gt;&gt; Unregisters and releases all control files.  <a href="../../df/db6/group__tcmi__ccnman__class.html#ga3ea0760a59837e4ca72b1df585e1a446">More...</a><br/></td></tr>
<tr class="separator:ga3ea0760a59837e4ca72b1df585e1a446"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4cfac83316f5b8936fb37661a4e2f873"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/db6/group__tcmi__ccnman__class.html#ga4cfac83316f5b8936fb37661a4e2f873">tcmi_ccnman_listen</a> (void *obj, void *str)</td></tr>
<tr class="memdesc:ga4cfac83316f5b8936fb37661a4e2f873"><td class="mdescLeft">&#160;</td><td class="mdescRight">&lt;&lt;private&gt;&gt; Instantiates a new listening.  <a href="../../df/db6/group__tcmi__ccnman__class.html#ga4cfac83316f5b8936fb37661a4e2f873">More...</a><br/></td></tr>
<tr class="separator:ga4cfac83316f5b8936fb37661a4e2f873"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga23b30f7a09d98e541c636cbdbf2882c7"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/db6/group__tcmi__ccnman__class.html#ga23b30f7a09d98e541c636cbdbf2882c7">tcmi_ccnman_stop_listen_all</a> (void *obj, void *<a class="el" href="../../df/d60/kernel__3_87_81_2src_2tcmi_2migration_2tcmi__npm__params_8h.html#ab9090ca30e7609aecaf540276e3c5084">data</a>)</td></tr>
<tr class="memdesc:ga23b30f7a09d98e541c636cbdbf2882c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">&lt;&lt;private&gt;&gt; Iterates through all active listenings and notifies each instance to quit.  <a href="../../df/db6/group__tcmi__ccnman__class.html#ga23b30f7a09d98e541c636cbdbf2882c7">More...</a><br/></td></tr>
<tr class="separator:ga23b30f7a09d98e541c636cbdbf2882c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga13a666c0a6b07aa7378a1fccc82eac12"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/db6/group__tcmi__ccnman__class.html#ga13a666c0a6b07aa7378a1fccc82eac12">tcmi_ccnman_stop_listen_one</a> (void *obj, void *<a class="el" href="../../df/d60/kernel__3_87_81_2src_2tcmi_2migration_2tcmi__npm__params_8h.html#ab9090ca30e7609aecaf540276e3c5084">data</a>)</td></tr>
<tr class="memdesc:ga13a666c0a6b07aa7378a1fccc82eac12"><td class="mdescLeft">&#160;</td><td class="mdescRight">&lt;&lt;private&gt;&gt; Destroys a particular listening specified by the user.  <a href="../../df/db6/group__tcmi__ccnman__class.html#ga13a666c0a6b07aa7378a1fccc82eac12">More...</a><br/></td></tr>
<tr class="separator:ga13a666c0a6b07aa7378a1fccc82eac12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1f647c17f57c73e230057b2941d992b5"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/db6/group__tcmi__ccnman__class.html#ga1f647c17f57c73e230057b2941d992b5">tcmi_man_set_mount</a> (void *obj, void *<a class="el" href="../../df/d60/kernel__3_87_81_2src_2tcmi_2migration_2tcmi__npm__params_8h.html#ab9090ca30e7609aecaf540276e3c5084">data</a>)</td></tr>
<tr class="memdesc:ga1f647c17f57c73e230057b2941d992b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">&lt;&lt;private&gt;&gt; Write method to set fs mount type  <a href="../../df/db6/group__tcmi__ccnman__class.html#ga1f647c17f57c73e230057b2941d992b5">More...</a><br/></td></tr>
<tr class="separator:ga1f647c17f57c73e230057b2941d992b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1befdc4f74188027f5cd9db60af97c3e"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/db6/group__tcmi__ccnman__class.html#ga1befdc4f74188027f5cd9db60af97c3e">tcmi_man_set_mount_device</a> (void *obj, void *<a class="el" href="../../df/d60/kernel__3_87_81_2src_2tcmi_2migration_2tcmi__npm__params_8h.html#ab9090ca30e7609aecaf540276e3c5084">data</a>)</td></tr>
<tr class="memdesc:ga1befdc4f74188027f5cd9db60af97c3e"><td class="mdescLeft">&#160;</td><td class="mdescRight">&lt;&lt;private&gt;&gt; Write method to set fs mount device  <a href="../../df/db6/group__tcmi__ccnman__class.html#ga1befdc4f74188027f5cd9db60af97c3e">More...</a><br/></td></tr>
<tr class="separator:ga1befdc4f74188027f5cd9db60af97c3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga682f2d08a23f1b68a6c328a5d3cc6710"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/db6/group__tcmi__ccnman__class.html#ga682f2d08a23f1b68a6c328a5d3cc6710">tcmi_man_set_mount_options</a> (void *obj, void *<a class="el" href="../../df/d60/kernel__3_87_81_2src_2tcmi_2migration_2tcmi__npm__params_8h.html#ab9090ca30e7609aecaf540276e3c5084">data</a>)</td></tr>
<tr class="memdesc:ga682f2d08a23f1b68a6c328a5d3cc6710"><td class="mdescLeft">&#160;</td><td class="mdescRight">&lt;&lt;private&gt;&gt; Write method to set fs mount options  <a href="../../df/db6/group__tcmi__ccnman__class.html#ga682f2d08a23f1b68a6c328a5d3cc6710">More...</a><br/></td></tr>
<tr class="separator:ga682f2d08a23f1b68a6c328a5d3cc6710"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga918fddae425e9314af87a5f60c676398"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/db6/group__tcmi__ccnman__class.html#ga918fddae425e9314af87a5f60c676398">tcmi_ccnman_stop</a> (void)</td></tr>
<tr class="memdesc:ga918fddae425e9314af87a5f60c676398"><td class="mdescLeft">&#160;</td><td class="mdescRight">&lt;&lt;private&gt;&gt; This method is called back by the generic TCMI manager.  <a href="../../df/db6/group__tcmi__ccnman__class.html#ga918fddae425e9314af87a5f60c676398">More...</a><br/></td></tr>
<tr class="separator:ga918fddae425e9314af87a5f60c676398"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae2fe277cb812ec620469249183a39758"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/db6/group__tcmi__ccnman__class.html#gae2fe277cb812ec620469249183a39758">tcmi_ccnman_start_thread</a> (void)</td></tr>
<tr class="memdesc:gae2fe277cb812ec620469249183a39758"><td class="mdescLeft">&#160;</td><td class="mdescRight">&lt;&lt;private&gt;&gt; Starts the listening thread.  <a href="../../df/db6/group__tcmi__ccnman__class.html#gae2fe277cb812ec620469249183a39758">More...</a><br/></td></tr>
<tr class="separator:gae2fe277cb812ec620469249183a39758"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga448e27417c0ec683569f8c2e3ad4698b"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/db6/group__tcmi__ccnman__class.html#ga448e27417c0ec683569f8c2e3ad4698b">tcmi_ccnman_stop_thread</a> (void)</td></tr>
<tr class="memdesc:ga448e27417c0ec683569f8c2e3ad4698b"><td class="mdescLeft">&#160;</td><td class="mdescRight">&lt;&lt;private&gt;&gt; The TCMI CCN manager listening thread is terminated.  <a href="../../df/db6/group__tcmi__ccnman__class.html#ga448e27417c0ec683569f8c2e3ad4698b">More...</a><br/></td></tr>
<tr class="separator:ga448e27417c0ec683569f8c2e3ad4698b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga53db4c399f6edd48565f08efe9fff294"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/db6/group__tcmi__ccnman__class.html#ga53db4c399f6edd48565f08efe9fff294">tcmi_ccnman_thread</a> (void *<a class="el" href="../../df/d60/kernel__3_87_81_2src_2tcmi_2migration_2tcmi__npm__params_8h.html#ab9090ca30e7609aecaf540276e3c5084">data</a>)</td></tr>
<tr class="memdesc:ga53db4c399f6edd48565f08efe9fff294"><td class="mdescLeft">&#160;</td><td class="mdescRight">&lt;&lt;private&gt;&gt; This is the actual listening thread.  <a href="../../df/db6/group__tcmi__ccnman__class.html#ga53db4c399f6edd48565f08efe9fff294">More...</a><br/></td></tr>
<tr class="separator:ga53db4c399f6edd48565f08efe9fff294"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1269db611e110ae54137ce36ccb0ff96"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/db6/group__tcmi__ccnman__class.html#ga1269db611e110ae54137ce36ccb0ff96">tcmi_ccnman_process_sock</a> (struct <a class="el" href="../../d6/d8e/group__kkc__sock__class.html#da/d0d/structkkc__sock">kkc_sock</a> *sock)</td></tr>
<tr class="memdesc:ga1269db611e110ae54137ce36ccb0ff96"><td class="mdescLeft">&#160;</td><td class="mdescRight">&lt;&lt;private&gt;&gt; Processes a selected socket and checks for incoming connection.  <a href="../../df/db6/group__tcmi__ccnman__class.html#ga1269db611e110ae54137ce36ccb0ff96">More...</a><br/></td></tr>
<tr class="separator:ga1269db611e110ae54137ce36ccb0ff96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab4e095285ea1264339af05e5ee96eba3"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d4/d45/kernel__3_87_81_2src_2tcmi_2migration_2fs_2fs__mount__params_8h.html#d8/dce/structfs__mount__params">fs_mount_params</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/db6/group__tcmi__ccnman__class.html#gab4e095285ea1264339af05e5ee96eba3">tcmi_ccnman_get_mount_params</a> (void)</td></tr>
<tr class="memdesc:gab4e095285ea1264339af05e5ee96eba3"><td class="mdescLeft">&#160;</td><td class="mdescRight">&lt;&lt;public&gt;&gt; Getter of mount params structure.  <a href="../../df/db6/group__tcmi__ccnman__class.html#gab4e095285ea1264339af05e5ee96eba3">More...</a><br/></td></tr>
<tr class="separator:gab4e095285ea1264339af05e5ee96eba3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:gaba5f0496e81f8e010718b194aa284f59"><td class="memItemLeft" align="right" valign="top">static struct tcmi_ccnman&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/db6/group__tcmi__ccnman__class.html#gaba5f0496e81f8e010718b194aa284f59">self</a></td></tr>
<tr class="memdesc:gaba5f0496e81f8e010718b194aa284f59"><td class="mdescLeft">&#160;</td><td class="mdescRight">Singleton instance pre-initialization.  <a href="../../df/db6/group__tcmi__ccnman__class.html#gaba5f0496e81f8e010718b194aa284f59">More...</a><br/></td></tr>
<tr class="separator:gaba5f0496e81f8e010718b194aa284f59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga773d73e380b1f4c5b6ea29fb5954cff6"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d6/de0/group__tcmi__man__class.html#d7/d19/structtcmi__man__ops">tcmi_man_ops</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/db6/group__tcmi__ccnman__class.html#ga773d73e380b1f4c5b6ea29fb5954cff6">ccnman_ops</a></td></tr>
<tr class="memdesc:ga773d73e380b1f4c5b6ea29fb5954cff6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Migration manager operations that support polymorphism.  <a href="../../df/db6/group__tcmi__ccnman__class.html#ga773d73e380b1f4c5b6ea29fb5954cff6">More...</a><br/></td></tr>
<tr class="separator:ga773d73e380b1f4c5b6ea29fb5954cff6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="a934efb858409568e51362a2a7e5fe53c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_LISTENINGS&#160;&#160;&#160;2</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>maximum number of listenings </p>

<p>Definition at line <a class="el" href="../../d4/d8a/kernel__2_86_833_81_2src_2tcmi_2manager_2tcmi__ccnman_8c_source.html#l00052">52</a> of file <a class="el" href="../../d4/d8a/kernel__2_86_833_81_2src_2tcmi_2manager_2tcmi__ccnman_8c_source.html">tcmi_ccnman.c</a>.</p>

<p>Referenced by <a class="el" href="../../d4/d8a/kernel__2_86_833_81_2src_2tcmi_2manager_2tcmi__ccnman_8c_source.html#l00065">tcmi_ccnman_init()</a>.</p>

</div>
</div>
<a class="anchor" id="a322c58841a989b7a0c44837e7f8ba290"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TCMI_CCNMAN_PRIVATE</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d4/d8a/kernel__2_86_833_81_2src_2tcmi_2manager_2tcmi__ccnman_8c_source.html#l00043">43</a> of file <a class="el" href="../../d4/d8a/kernel__2_86_833_81_2src_2tcmi_2manager_2tcmi__ccnman_8c_source.html">tcmi_ccnman.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="af66ed5b4eaaed8835d44373102723f6a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tcmi_ccnman_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d8/d36/group__tcmi__ctlfs__entry__class.html#db/d2a/structtcmi__ctlfs__entry">tcmi_ctlfs_entry</a> *&#160;</td>
          <td class="paramname"><em>root</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>&lt;&lt;public&gt;&gt; Singleton instance initializer. </p>
<p>The initialization is accomplished exactly in this order:</p>
<ul>
<li>allocate new slot vector for listenings</li>
<li>start listening thread</li>
<li>delegate rest of initialization to TCMI generic manager</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*root</td><td>- root directory of the filesystem, where all entries are to be created </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 upon success </dd></dl>

<p>Definition at line <a class="el" href="../../d4/d8a/kernel__2_86_833_81_2src_2tcmi_2manager_2tcmi__ccnman_8c_source.html#l00065">65</a> of file <a class="el" href="../../d4/d8a/kernel__2_86_833_81_2src_2tcmi_2manager_2tcmi__ccnman_8c_source.html">tcmi_ccnman.c</a>.</p>

<p>References <a class="el" href="../../d4/d8a/kernel__2_86_833_81_2src_2tcmi_2manager_2tcmi__ccnman_8c_source.html#l00687">ccnman_ops</a>, <a class="el" href="../../d4/d8a/kernel__2_86_833_81_2src_2tcmi_2manager_2tcmi__ccnman_8c_source.html#l00052">MAX_LISTENINGS</a>, <a class="el" href="../../de/d8f/kernel__2_86_833_81_2src_2dbg_8h_source.html#l00220">mdbg</a>, <a class="el" href="../../de/d8f/kernel__2_86_833_81_2src_2dbg_8h_source.html#l00221">minfo</a>, <a class="el" href="../../d4/d8a/kernel__2_86_833_81_2src_2tcmi_2manager_2tcmi__ccnman_8c_source.html#l00496">tcmi_ccnman_start_thread()</a>, <a class="el" href="../../d4/d8a/kernel__2_86_833_81_2src_2tcmi_2manager_2tcmi__ccnman_8c_source.html#l00520">tcmi_ccnman_stop_thread()</a>, <a class="el" href="../../de/db4/kernel__2_86_833_81_2src_2tcmi_2manager_2tcmi__man_8h_source.html#l00151">TCMI_MAN</a>, <a class="el" href="../../d1/df8/kernel__2_86_833_81_2src_2tcmi_2manager_2tcmi__man_8c_source.html#l00069">tcmi_man_init()</a>, <a class="el" href="../../d1/da1/kernel__2_86_833_81_2src_2tcmi_2lib_2tcmi__slotvec_8c_source.html#l00050">tcmi_slotvec_new()</a>, and <a class="el" href="../../d1/da1/kernel__2_86_833_81_2src_2tcmi_2lib_2tcmi__slotvec_8c_source.html#l00117">tcmi_slotvec_put()</a>.</p>

<p>Referenced by <a class="el" href="../../df/daf/kernel__2_86_833_81_2src_2tcmi_2tcmi__module_8c_source.html#l00122">tcmi_module_init()</a>.</p>
<div class="fragment"><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;{</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    <span class="keyword">self</span>.mount_params.mount_type[0] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <span class="keyword">self</span>.mount_params.mount_options[0] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <span class="keyword">self</span>.mount_params.mount_device[0] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    <a class="code" href="../../de/d8f/kernel__2_86_833_81_2src_2dbg_8h.html#abc23c8dde04f89ca72fc5035015a65e7">minfo</a>(INFO1, <span class="stringliteral">&quot;Initializing TCMI CCN manager&quot;</span>);</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    <span class="keywordflow">if</span> (!(<span class="keyword">self</span>.listenings = <a class="code" href="../../d0/db7/group__tcmi__slotvec__class.html#gaf11359c8cb20ddd7549296737eaf348d" title="&lt;&lt;public&gt;&gt; Creates new instance.">tcmi_slotvec_new</a>(<a class="code" href="../../d4/d8a/kernel__2_86_833_81_2src_2tcmi_2manager_2tcmi__ccnman_8c.html#a934efb858409568e51362a2a7e5fe53c" title="maximum number of listenings">MAX_LISTENINGS</a>))) {</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;        <a class="code" href="../../de/d8f/kernel__2_86_833_81_2src_2dbg_8h.html#a881516d8ffc635f7f0e87468340c80dc">mdbg</a>(ERR3, <span class="stringliteral">&quot;Failed to create listenings slot vector&quot;</span>);</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;        <span class="keywordflow">goto</span> exit0;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    }</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../df/db6/group__tcmi__ccnman__class.html#gae2fe277cb812ec620469249183a39758" title="&lt;&lt;private&gt;&gt; Starts the listening thread.">tcmi_ccnman_start_thread</a>() &lt; 0) {</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;        <a class="code" href="../../de/d8f/kernel__2_86_833_81_2src_2dbg_8h.html#a881516d8ffc635f7f0e87468340c80dc">mdbg</a>(ERR3, <span class="stringliteral">&quot;Failed to start listening thread&quot;</span>);</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;        <span class="keywordflow">goto</span> exit1; </div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    }</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d6/de0/group__tcmi__man__class.html#ga97c9f7b7804700ac95d6a4b43c0173e0" title="&lt;&lt;public&gt;&gt; Initializes the TCMI manager.">tcmi_man_init</a>(<a class="code" href="../../d6/de0/group__tcmi__man__class.html#gaa817e26a29c1f89a28677a955a0e66d0" title="Casts to the TCMI manager.">TCMI_MAN</a>(&amp;<span class="keyword">self</span>), root, &amp;<a class="code" href="../../df/db6/group__tcmi__ccnman__class.html#ga773d73e380b1f4c5b6ea29fb5954cff6" title="Migration manager operations that support polymorphism.">ccnman_ops</a>, <span class="stringliteral">&quot;ccn&quot;</span>) &lt; 0) {</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;        <a class="code" href="../../de/d8f/kernel__2_86_833_81_2src_2dbg_8h.html#a881516d8ffc635f7f0e87468340c80dc">mdbg</a>(ERR3, <span class="stringliteral">&quot;TCMI CCN manager - generic init failed&quot;</span>);</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;        <span class="keywordflow">goto</span> exit2;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    }</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;        </div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <span class="comment">/* error handling */</span></div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160; exit2:</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <a class="code" href="../../df/db6/group__tcmi__ccnman__class.html#ga448e27417c0ec683569f8c2e3ad4698b" title="&lt;&lt;private&gt;&gt; The TCMI CCN manager listening thread is terminated.">tcmi_ccnman_stop_thread</a>();</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160; exit1:</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <a class="code" href="../../d0/db7/group__tcmi__slotvec__class.html#ga2376bcc84e5bbd48a8f92400f5ad5f25" title="&lt;&lt;public&gt;&gt; Decrements the reference counter, when the count reaches 0, the instance is destroyed...">tcmi_slotvec_put</a>(<span class="keyword">self</span>.listenings);</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160; exit0:</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;}</div>
</div><!-- fragment -->
<p><div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../d4/d8a/kernel__2_86_833_81_2src_2tcmi_2manager_2tcmi__ccnman_8c_af66ed5b4eaaed8835d44373102723f6a_cgraph.png" border="0" usemap="#d4/d8a/kernel__2_86_833_81_2src_2tcmi_2manager_2tcmi__ccnman_8c_af66ed5b4eaaed8835d44373102723f6a_cgraph" alt=""/></div>
<map name="d4/d8a/kernel__2_86_833_81_2src_2tcmi_2manager_2tcmi__ccnman_8c_af66ed5b4eaaed8835d44373102723f6a_cgraph" id="d4/d8a/kernel__2_86_833_81_2src_2tcmi_2manager_2tcmi__ccnman_8c_af66ed5b4eaaed8835d44373102723f6a_cgraph">
<area shape="rect" id="node2" href="../../df/db6/group__tcmi__ccnman__class.html#gae2fe277cb812ec620469249183a39758" title="&lt;&lt;private&gt;&gt; Starts the listening thread." alt="" coords="179,411,355,437"/><area shape="rect" id="node34" href="../../df/db6/group__tcmi__ccnman__class.html#ga448e27417c0ec683569f8c2e3ad4698b" title="&lt;&lt;private&gt;&gt; The TCMI CCN manager listening thread is terminated." alt="" coords="179,461,354,488"/><area shape="rect" id="node35" href="../../d6/de0/group__tcmi__man__class.html#ga97c9f7b7804700ac95d6a4b43c0173e0" title="&lt;&lt;public&gt;&gt; Initializes the TCMI manager." alt="" coords="215,512,318,539"/><area shape="rect" id="node36" href="../../d0/db7/group__tcmi__slotvec__class.html#gaf11359c8cb20ddd7549296737eaf348d" title="&lt;&lt;public&gt;&gt; Creates new instance." alt="" coords="205,563,329,589"/><area shape="rect" id="node37" href="../../d0/db7/group__tcmi__slotvec__class.html#ga2376bcc84e5bbd48a8f92400f5ad5f25" title="&lt;&lt;public&gt;&gt; Decrements the reference counter, when the count reaches 0, the instance is destroyed..." alt="" coords="207,613,326,640"/><area shape="rect" id="node3" href="../../df/db6/group__tcmi__ccnman__class.html#ga53db4c399f6edd48565f08efe9fff294" title="&lt;&lt;private&gt;&gt; This is the actual listening thread." alt="" coords="403,411,546,437"/><area shape="rect" id="node4" href="../../d0/db7/group__tcmi__slotvec__class.html#ga5b4586b2e897ec306862a0b6901f39e7" title="&lt;&lt;public&gt;&gt; Locks the instance data." alt="" coords="627,208,752,235"/><area shape="rect" id="node5" href="../../d3/d7e/group__tcmi__sock__class.html#gaa64951d80cedfaf76bb82ee811255d69" title="&lt;&lt;public&gt;&gt; Decrements the reference counter and if it reaches 0, the instance." alt="" coords="636,259,743,285"/><area shape="rect" id="node6" href="../../d3/d7e/group__tcmi__sock__class.html#ga876afb36eb57904291d799899b7e01f2" title="&lt;&lt;public&gt;&gt; Instance accessor." alt="" coords="636,309,743,336"/><area shape="rect" id="node7" href="../../d0/db7/group__tcmi__slotvec__class.html#ga4df343d549736d3dc994ad0f43529a57" title="&lt;&lt;public&gt;&gt; Unlocks the instance data." alt="" coords="620,360,759,387"/><area shape="rect" id="node8" href="../../df/db6/group__tcmi__ccnman__class.html#ga1269db611e110ae54137ce36ccb0ff96" title="&lt;&lt;private&gt;&gt; Processes a selected socket and checks for incoming connection." alt="" coords="595,411,783,437"/><area shape="rect" id="node32" href="../../d3/d7e/group__tcmi__sock__class.html#ga8573cfac9adbb5996cd90395d8a78502" title="&lt;&lt;public&gt;&gt; KKC socket accessor." alt="" coords="604,461,775,488"/><area shape="rect" id="node33" href="../../d3/d7e/group__tcmi__sock__class.html#gaf237e9aa6b0c62e2b152df0951226972" title="&lt;&lt;public&gt;&gt; Sock node accessor." alt="" coords="631,512,748,539"/><area shape="rect" id="node10" href="../../d6/d8e/group__kkc__sock__class.html#gac8e64f52015e75cb76a34c4b7e9ef176" title="&lt;&lt;public&gt;&gt; Socket name accessor." alt="" coords="1083,765,1253,792"/><area shape="rect" id="node12" href="../../d6/d8e/group__kkc__sock__class.html#ga00d8b033d3e1118303e7b4c54c6aafe6" title="&lt;&lt;public&gt;&gt; Socket name accessor." alt="" coords="1085,664,1251,691"/><area shape="rect" id="node9" href="../../d6/d8e/group__kkc__sock__class.html#gaec7594491d8ea6c92c974467bc66052e" title="&lt;&lt;public&gt;&gt; Creates a new socket by accepting the incoming connection." alt="" coords="871,107,995,133"/><area shape="rect" id="node14" href="../../d6/de0/group__tcmi__man__class.html#ga3c53520e91c6208d6f36505dcc70b3aa" title="&lt;&lt;public&gt;&gt; Reserves an empty slot for a new migration manager." alt="" coords="833,157,1034,184"/><area shape="rect" id="node16" href="../../d3/dd4/group__tcmi__ccnmigman__class.html#ga334cb136e4efb06bde762b3b6c3bc8c9" title="&lt;&lt;public&gt;&gt; TCMI CCN manager constructor." alt="" coords="858,309,1009,336"/><area shape="rect" id="node17" href="../../d6/de0/group__tcmi__man__class.html#ga06dbb24abb0020744929149e3c61cdb8" title="&lt;&lt;public&gt;&gt; TCMI manager ID accessor." alt="" coords="885,360,981,387"/><area shape="rect" id="node18" href="../../d6/de0/group__tcmi__man__class.html#ga76ff5984fc261d709fd37cf6ae76c282" title="&lt;&lt;public&gt;&gt; Accessor for a cluster nodes directory of a particular TCMI manager." alt="" coords="862,411,1005,437"/><area shape="rect" id="node19" href="../../d6/de0/group__tcmi__man__class.html#gaba05288b4c6ef833034fdcebc3f71671" title="&lt;&lt;public&gt;&gt; Accessor for migproc directory." alt="" coords="857,461,1010,488"/><area shape="rect" id="node20" href="../../da/d0c/group__tcmi__slot__class.html#ga821f6b686443bfc7fff52dd3b155de37" title="&lt;&lt;public&gt;&gt; Slot index accessor." alt="" coords="877,512,990,539"/><area shape="rect" id="node21" href="../../d3/dd4/group__tcmi__ccnmigman__class.html#ga76bef3c1b90b6ad2a8f103d2d92797ea" title="&lt;&lt;public&gt;&gt; Authenticates the connecting PEN expecting a registration message and processing it..." alt="" coords="843,563,1024,589"/><area shape="rect" id="node22" href="../../da/d0c/group__tcmi__slot__class.html#gaefe294678d9d6922b3af1e452a318fa1" title="&lt;&lt;public&gt;&gt; Inserts a new node into the slot." alt="" coords="876,208,991,235"/><area shape="rect" id="node26" href="../../d6/da2/group__tcmi__migman__class.html#ga7aeac128b81747e7bf32016a800ce457" title="&lt;&lt;public&gt;&gt; Slot node accessor." alt="" coords="866,613,1001,640"/><area shape="rect" id="node27" href="../../d6/d8e/group__kkc__sock__class.html#ga9f980056fbf3436596c4cfdf3913e85c" title="&lt;&lt;public&gt;&gt; Decrements reference counter, if it reaches 0 the custom free method is called if defined..." alt="" coords="882,715,985,741"/><area shape="rect" id="node29" href="../../d6/da2/group__tcmi__migman__class.html#gab536c262c24d8fc76cdbdfa8d6d65b81" title="&lt;&lt;public&gt;&gt; The manager is shutdown exactly in this order:" alt="" coords="871,5,996,32"/><area shape="rect" id="node30" href="../../d6/de0/group__tcmi__man__class.html#gab5cc7906c63f9356975b8d0a04546027" title="&lt;&lt;public&gt;&gt; Releases a migration slot that has been previously reserved." alt="" coords="832,56,1035,83"/><area shape="rect" id="node11" href="../../d6/d8e/group__kkc__sock__class.html#ga3cae649f56c8f5fa18f755f6c7d53597" title="&lt;&lt;public&gt;&gt; Local socket name accessor." alt="" coords="1301,765,1464,792"/><area shape="rect" id="node13" href="../../d6/d8e/group__kkc__sock__class.html#gadf1b231c727891d5ac2d32646d574931" title="&lt;&lt;public&gt;&gt; Peer socket name accessor." alt="" coords="1303,664,1463,691"/><area shape="rect" id="node15" href="../../d0/db7/group__tcmi__slotvec__class.html#gabd12f97cda4c9b4b4142f6de475645d9" title="&lt;&lt;public&gt;&gt; Finds the first empty slot and reserves it." alt="" coords="1097,107,1239,149"/><area shape="rect" id="node23" href="../../da/d0c/group__tcmi__slot__class.html#ga109d6d783ebf06046f364f970f84da1f" title="&lt;&lt;public&gt;&gt; Locks the slot data." alt="" coords="1115,224,1221,251"/><area shape="rect" id="node24" href="../../da/d0c/group__tcmi__slot__class.html#ga8d6885be2677819158e0d956f0cca5b2" title="&lt;&lt;private&gt;&gt; Moves a slot into the specified list." alt="" coords="1327,165,1439,192"/><area shape="rect" id="node25" href="../../da/d0c/group__tcmi__slot__class.html#ga5447231fec5f42040c40307eb2e6a13c" title="&lt;&lt;public&gt;&gt; Unlocks the instance data" alt="" coords="1108,173,1228,200"/><area shape="rect" id="node28" href="../../d5/ddf/group__kkc__arch__class.html#ga06049c969ae0324d0607f10db99af65c" title="&lt;&lt;public&gt;&gt; Decrements the reference counter on the module owning the architecture." alt="" coords="1118,715,1218,741"/><area shape="rect" id="node31" href="../../da/d0c/group__tcmi__slot__class.html#ga2550a3e6624b54e323c73cb1d06e6cd0" title="&lt;&lt;public&gt;&gt; Moves a slot among unused_slots." alt="" coords="1087,56,1249,83"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a56c8b782c2f77fb6dea92c9cc5a9810f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tcmi_ccnman_shutdown </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>&lt;&lt;public&gt;&gt; The manager is shutdown exactly in this order: </p>
<ul>
<li>stop the listening thread, the thread doesn't need to worry about termination of any listenings-it will be done further</li>
<li>perform a generic shutdown (this destroys all files and stops migration etc.). This step preceeds stop listening as we need to be sure, that no control files are active (user might try adding a new listening interface)</li>
<li>stop listening on all interfaces</li>
<li>destroy the listenings slotvector (should be empty by now) </li>
</ul>

<p>Definition at line <a class="el" href="../../d4/d8a/kernel__2_86_833_81_2src_2tcmi_2manager_2tcmi__ccnman_8c_source.html#l00107">107</a> of file <a class="el" href="../../d4/d8a/kernel__2_86_833_81_2src_2tcmi_2manager_2tcmi__ccnman_8c_source.html">tcmi_ccnman.c</a>.</p>

<p>References <a class="el" href="../../de/d8f/kernel__2_86_833_81_2src_2dbg_8h_source.html#l00221">minfo</a>, <a class="el" href="../../d4/d8a/kernel__2_86_833_81_2src_2tcmi_2manager_2tcmi__ccnman_8c_source.html#l00366">tcmi_ccnman_stop_listen_all()</a>, <a class="el" href="../../d4/d8a/kernel__2_86_833_81_2src_2tcmi_2manager_2tcmi__ccnman_8c_source.html#l00520">tcmi_ccnman_stop_thread()</a>, <a class="el" href="../../de/db4/kernel__2_86_833_81_2src_2tcmi_2manager_2tcmi__man_8h_source.html#l00151">TCMI_MAN</a>, <a class="el" href="../../d1/df8/kernel__2_86_833_81_2src_2tcmi_2manager_2tcmi__man_8c_source.html#l00142">tcmi_man_shutdown()</a>, and <a class="el" href="../../d1/da1/kernel__2_86_833_81_2src_2tcmi_2lib_2tcmi__slotvec_8c_source.html#l00117">tcmi_slotvec_put()</a>.</p>

<p>Referenced by <a class="el" href="../../df/daf/kernel__2_86_833_81_2src_2tcmi_2tcmi__module_8c_source.html#l00168">tcmi_module_exit()</a>, and <a class="el" href="../../df/daf/kernel__2_86_833_81_2src_2tcmi_2tcmi__module_8c_source.html#l00122">tcmi_module_init()</a>.</p>
<div class="fragment"><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;{</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <span class="keywordtype">int</span> stop_listen = 1;</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    <a class="code" href="../../de/d8f/kernel__2_86_833_81_2src_2dbg_8h.html#abc23c8dde04f89ca72fc5035015a65e7">minfo</a>(INFO1, <span class="stringliteral">&quot;Shutting down the TCMI CCN manager&quot;</span>);</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <a class="code" href="../../df/db6/group__tcmi__ccnman__class.html#ga448e27417c0ec683569f8c2e3ad4698b" title="&lt;&lt;private&gt;&gt; The TCMI CCN manager listening thread is terminated.">tcmi_ccnman_stop_thread</a>();</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <a class="code" href="../../d6/de0/group__tcmi__man__class.html#ga5255cad7e65c708e972344bab305e19a" title="&lt;&lt;public&gt;&gt; The manager is shutdown exactly in this order:">tcmi_man_shutdown</a>(<a class="code" href="../../d6/de0/group__tcmi__man__class.html#gaa817e26a29c1f89a28677a955a0e66d0" title="Casts to the TCMI manager.">TCMI_MAN</a>(&amp;<span class="keyword">self</span>));</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    <a class="code" href="../../df/db6/group__tcmi__ccnman__class.html#ga23b30f7a09d98e541c636cbdbf2882c7" title="&lt;&lt;private&gt;&gt; Iterates through all active listenings and notifies each instance to quit.">tcmi_ccnman_stop_listen_all</a>(NULL, &amp;stop_listen);</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <a class="code" href="../../d0/db7/group__tcmi__slotvec__class.html#ga2376bcc84e5bbd48a8f92400f5ad5f25" title="&lt;&lt;public&gt;&gt; Decrements the reference counter, when the count reaches 0, the instance is destroyed...">tcmi_slotvec_put</a>(<span class="keyword">self</span>.listenings);</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;}</div>
</div><!-- fragment -->
<p><div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../d4/d8a/kernel__2_86_833_81_2src_2tcmi_2manager_2tcmi__ccnman_8c_a56c8b782c2f77fb6dea92c9cc5a9810f_cgraph.png" border="0" usemap="#d4/d8a/kernel__2_86_833_81_2src_2tcmi_2manager_2tcmi__ccnman_8c_a56c8b782c2f77fb6dea92c9cc5a9810f_cgraph" alt=""/></div>
<map name="d4/d8a/kernel__2_86_833_81_2src_2tcmi_2manager_2tcmi__ccnman_8c_a56c8b782c2f77fb6dea92c9cc5a9810f_cgraph" id="d4/d8a/kernel__2_86_833_81_2src_2tcmi_2manager_2tcmi__ccnman_8c_a56c8b782c2f77fb6dea92c9cc5a9810f_cgraph">
<area shape="rect" id="node2" href="../../df/db6/group__tcmi__ccnman__class.html#ga23b30f7a09d98e541c636cbdbf2882c7" title="&lt;&lt;private&gt;&gt; Iterates through all active listenings and notifies each instance to quit." alt="" coords="217,107,407,133"/><area shape="rect" id="node16" href="../../df/db6/group__tcmi__ccnman__class.html#ga448e27417c0ec683569f8c2e3ad4698b" title="&lt;&lt;private&gt;&gt; The TCMI CCN manager listening thread is terminated." alt="" coords="225,157,399,184"/><area shape="rect" id="node17" href="../../d6/de0/group__tcmi__man__class.html#ga5255cad7e65c708e972344bab305e19a" title="&lt;&lt;public&gt;&gt; The manager is shutdown exactly in this order:" alt="" coords="241,208,383,235"/><area shape="rect" id="node18" href="../../d0/db7/group__tcmi__slotvec__class.html#ga2376bcc84e5bbd48a8f92400f5ad5f25" title="&lt;&lt;public&gt;&gt; Decrements the reference counter, when the count reaches 0, the instance is destroyed..." alt="" coords="253,259,371,285"/><area shape="rect" id="node3" href="../../d0/db7/group__tcmi__slotvec__class.html#ga03946dfe98a88a916f30eaf3f2eed1be" title="&lt;&lt;public&gt;&gt; Tester method for slotvec emptyness" alt="" coords="462,5,599,32"/><area shape="rect" id="node4" href="../../d0/db7/group__tcmi__slotvec__class.html#ga5b4586b2e897ec306862a0b6901f39e7" title="&lt;&lt;public&gt;&gt; Locks the instance data." alt="" coords="468,56,593,83"/><area shape="rect" id="node5" href="../../d0/db7/group__tcmi__slotvec__class.html#ga4df343d549736d3dc994ad0f43529a57" title="&lt;&lt;public&gt;&gt; Unlocks the instance data." alt="" coords="461,107,600,133"/><area shape="rect" id="node6" href="../../df/db6/group__tcmi__ccnman__class.html#ga9389c2be9797d585c46f8ac40373ab2c" title="Searches the list of socket sleepers and removes all sleepers that match the socket." alt="" coords="457,158,605,199"/><area shape="rect" id="node15" href="../../d3/d7e/group__tcmi__sock__class.html#gaa64951d80cedfaf76bb82ee811255d69" title="&lt;&lt;public&gt;&gt; Decrements the reference counter and if it reaches 0, the instance." alt="" coords="477,224,584,251"/><area shape="rect" id="node7" href="../../d3/d7e/group__tcmi__sock__class.html#ga8573cfac9adbb5996cd90395d8a78502" title="&lt;&lt;public&gt;&gt; KKC socket accessor." alt="" coords="656,136,827,163"/><area shape="rect" id="node8" href="../../d6/dfa/group__kkc__sock__sleeper.html#ga6c58cbd362eca4db807ba1b3d50d7537" title="&lt;&lt;public&gt;&gt; Checks if the specified socket matches the socket stored in the sleeper." alt="" coords="654,187,829,229"/><area shape="rect" id="node9" href="../../d6/dfa/group__kkc__sock__sleeper.html#gad67f0eb200b07cfaa2b4961450729234" title="&lt;&lt;public&gt;&gt; Removes a sleeper from its socket, from the list and disposes it." alt="" coords="878,195,1053,221"/><area shape="rect" id="node10" href="../../d6/d8e/group__kkc__sock__class.html#gaaea15a738e84235d0594ad65af7f4505" title="&lt;&lt;public&gt;&gt; Removes a task from the queue of processes sleeping on the socket." alt="" coords="1109,129,1265,170"/><area shape="rect" id="node11" href="../../d6/d8e/group__kkc__sock__class.html#gac8e64f52015e75cb76a34c4b7e9ef176" title="&lt;&lt;public&gt;&gt; Socket name accessor." alt="" coords="1101,195,1272,221"/><area shape="rect" id="node13" href="../../d6/d8e/group__kkc__sock__class.html#ga00d8b033d3e1118303e7b4c54c6aafe6" title="&lt;&lt;public&gt;&gt; Socket name accessor." alt="" coords="1103,245,1270,272"/><area shape="rect" id="node12" href="../../d6/d8e/group__kkc__sock__class.html#ga3cae649f56c8f5fa18f755f6c7d53597" title="&lt;&lt;public&gt;&gt; Local socket name accessor." alt="" coords="1320,195,1483,221"/><area shape="rect" id="node14" href="../../d6/d8e/group__kkc__sock__class.html#gadf1b231c727891d5ac2d32646d574931" title="&lt;&lt;public&gt;&gt; Peer socket name accessor." alt="" coords="1321,245,1481,272"/></map>
</div>
</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_08d237fc27d4ecd563f71c5d52f2fecc.html">sources</a></li><li class="navelem"><a class="el" href="../../dir_351788bb6e23fe2c44c0fb926ab59c0b.html">kernel_2.6.33.1</a></li><li class="navelem"><a class="el" href="../../dir_20c5e2ce0b5aae09914675fb60613a2c.html">src</a></li><li class="navelem"><a class="el" href="../../dir_e62ea4aa4185b1ad8a831b31fd3f96dc.html">tcmi</a></li><li class="navelem"><a class="el" href="../../dir_42de1d6b43baf0c9a36ada342cba706e.html">manager</a></li><li class="navelem"><a class="el" href="../../d4/d8a/kernel__2_86_833_81_2src_2tcmi_2manager_2tcmi__ccnman_8c.html">tcmi_ccnman.c</a></li>
    <li class="footer">Generated on Mon Apr 1 2013 16:10:31 for Clondike by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.3.1 </li>
  </ul>
</div>
</body>
</html>
