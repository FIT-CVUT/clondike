<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3.1"/>
<title>Clondike: C:/CLONDIKE/clondike/sources/kernel_2.6.33.1/src/tcmi/manager/tcmi_penman.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Clondike
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('d9/d86/tcmi__penman_8c.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">tcmi_penman.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><ul>
<li>Implementation of TCMI cluster process execution manager - a class that controls the process execution node </li>
</ul>
 
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;linux/kthread.h&gt;</code><br/>
<code>#include &lt;<a class="el" href="../../db/d10/tcmi__migcom_8h_source.html">tcmi/migration/tcmi_migcom.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="../../d0/d49/tcmi__ctlfs_8h_source.html">tcmi/ctlfs/tcmi_ctlfs.h</a>&gt;</code><br/>
<code>#include &quot;<a class="el" href="../../dc/d77/tcmi__penmigman_8h_source.html">tcmi_penmigman.h</a>&quot;</code><br/>
<code>#include &lt;<a class="el" href="../../d4/d4e/tcmi__task_8h_source.html">tcmi/task/tcmi_task.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="../../d7/d05/tcmi__taskhelper_8h_source.html">tcmi/task/tcmi_taskhelper.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="../../d9/d10/tcmi__npm__params_8h_source.html">tcmi/migration/tcmi_npm_params.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="../../de/dba/kkc_8h_source.html">kkc/kkc.h</a>&gt;</code><br/>
<code>#include &quot;<a class="el" href="../../d9/de9/tcmi__penman_8h_source.html">tcmi_penman.h</a>&quot;</code><br/>
<code>#include &lt;<a class="el" href="../../d6/d01/dbg_8h_source.html">dbg.h</a>&gt;</code><br/>
</div><div class="textblock"><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="../../closed.png" alt="+"/> Include dependency graph for tcmi_penman.c:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../d8/d65/tcmi__penman_8c__incl.png" border="0" usemap="#C_1_2CLONDIKE_2clondike_2sources_2kernel__2_86_833_81_2src_2tcmi_2manager_2tcmi__penman_8c" alt=""/></div>
<map name="C_1_2CLONDIKE_2clondike_2sources_2kernel__2_86_833_81_2src_2tcmi_2manager_2tcmi__penman_8c" id="C_1_2CLONDIKE_2clondike_2sources_2kernel__2_86_833_81_2src_2tcmi_2manager_2tcmi__penman_8c">
<area shape="rect" id="node3" href="../../db/d10/tcmi__migcom_8h.html" title="TCMI migration component." alt="" coords="1363,185,1496,226"/><area shape="rect" id="node18" href="../../d0/d49/tcmi__ctlfs_8h.html" title="TCMI control file system module declaration exports the root directory entry" alt="" coords="557,373,704,400"/><area shape="rect" id="node28" href="../../dc/d77/tcmi__penmigman_8h.html" title="TCMI cluster core node manager &#45; a class that controls the cluster core node." alt="" coords="171,192,303,219"/><area shape="rect" id="node30" href="../../d4/d4e/tcmi__task_8h.html" title="common functionality for TCMI shadow and guest tasks." alt="" coords="1637,283,1784,309"/><area shape="rect" id="node37" href="../../d7/d05/tcmi__taskhelper_8h.html" title="TCMI task helper, supports task manipulation" alt="" coords="2862,192,3044,219"/><area shape="rect" id="node45" href="../../d9/d10/tcmi__npm__params_8h.html" title="non&#45;preemtive migration process parameters (args, env,..)" alt="" coords="1811,531,1944,573"/><area shape="rect" id="node8" href="../../de/dba/kkc_8h.html" title="Kernel to Kernel Communication Library for communication between two Linux Kernels" alt="" coords="846,373,924,400"/><area shape="rect" id="node49" href="../../d9/de9/tcmi__penman_8h.html" title="TCMI cluster core node manager &#45; a class that controls the cluster core node." alt="" coords="1162,109,1272,136"/><area shape="rect" id="node14" href="../../d6/d01/dbg_8h.html" title="a debugging and logging framework, based on mdbg library by Martin Kacer." alt="" coords="2027,696,2081,723"/><area shape="rect" id="node5" href="../../d8/d88/tcmi__migman_8h.html" title="TCMI cluster core node manager &#45; a class that controls the cluster core node." alt="" coords="811,283,1005,309"/><area shape="rect" id="node21" href="../../df/d2f/tcmi__ctlfs__entry_8h.html" title="Declaration of a generic entry class in tcmifs" alt="" coords="2019,539,2144,565"/><area shape="rect" id="node25" href="../../d1/d6d/tcmi__msg_8h.html" title="TCMI communication message." alt="" coords="1096,456,1187,483"/><area shape="rect" id="node20" href="../../d0/dbd/tcmi__ctlfs__dir_8h.html" title="Declaration of a class that represents directory class in tcmifs." alt="" coords="2023,456,2133,483"/><area shape="rect" id="node23" href="../../d7/dc9/tcmi__ctlfs__file_8h.html" title="Declaration of a class that represents file class in tcmifs." alt="" coords="1102,366,1236,407"/><area shape="rect" id="node24" href="../../d8/dc3/tcmi__slotvec_8h.html" title="slot vector container used through out TCMI" alt="" coords="1299,539,1449,565"/><area shape="rect" id="node10" href="../../df/dfa/kkc__sock_8h.html" title="Generic Kernel to Kernelin Communcation abstraction &#45; socket" alt="" coords="830,539,919,565"/><area shape="rect" id="node17" href="../../da/dfb/kkc__sock__sleeper_8h.html" title="Artificial object, that simplifies sleeping on sockets" alt="" coords="832,456,971,483"/><area shape="rect" id="node13" href="../../d0/d6e/kkc__arch_8h.html" title="KKC architecture descriptor class." alt="" coords="914,621,1000,648"/><area shape="rect" id="node26" href="../../d8/d86/tcmi__queue_8h.html" title="Implements an SMP safe queue" alt="" coords="557,539,704,565"/><area shape="rect" id="node29" href="../../d3/dc2/fs__mount__params_8h.html" title="tcmi/migration/fs/fs\l_mount_params.h" alt="" coords="43,275,175,317"/><area shape="rect" id="node33" href="../../d6/d30/tcmi__method__wrapper_8h.html" title="artificial class that is used when submitting object methods" alt="" coords="1525,539,1685,565"/><area shape="rect" id="node34" href="../../d7/d0e/tcmi__ctlfs__symlink_8h.html" title="Declaration of a class that represents symbolic link in TCMI control file system." alt="" coords="1769,366,1903,407"/><area shape="rect" id="node36" href="../../d8/d3c/util_8h.html" title="tcmi/lib/util.h" alt="" coords="2543,373,2639,400"/><area shape="rect" id="node42" href="../../db/d7c/tcmi__ckptcom_8h.html" title="Process checkpointing component." alt="" coords="2865,539,3039,565"/><area shape="rect" id="node44" href="../../d6/db7/tcmi__ckpt_8h.html" title="a helper class that provides functionality to create a process checkpoint" alt="" coords="3367,539,3515,565"/><area shape="rect" id="node50" href="../../df/db0/tcmi__man_8h.html" title="TCMI cluster node manager &#45; a template class that is further implemented by CCN/PEN" alt="" coords="929,192,1020,219"/></map>
</div>
</div>
<p><a href="../../d9/d86/tcmi__penman_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a0d55103a0773804dcc70d02c76b6513a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d86/tcmi__penman_8c.html#a0d55103a0773804dcc70d02c76b6513a">TCMI_PENMAN_PRIVATE</a></td></tr>
<tr class="separator:a0d55103a0773804dcc70d02c76b6513a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ab867d7fd17baaabdb82a49035ec68ac2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d86/tcmi__penman_8c.html#ab867d7fd17baaabdb82a49035ec68ac2">tcmi_penman_init</a> (struct <a class="el" href="../../d8/d36/group__tcmi__ctlfs__entry__class.html#db/d2a/structtcmi__ctlfs__entry">tcmi_ctlfs_entry</a> *root)</td></tr>
<tr class="memdesc:ab867d7fd17baaabdb82a49035ec68ac2"><td class="mdescLeft">&#160;</td><td class="mdescRight">&lt;&lt;public&gt;&gt; Singleton instance initializer.  <a href="#ab867d7fd17baaabdb82a49035ec68ac2">More...</a><br/></td></tr>
<tr class="separator:ab867d7fd17baaabdb82a49035ec68ac2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c61efaf92aaab39b956f7b677758d7a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d86/tcmi__penman_8c.html#a7c61efaf92aaab39b956f7b677758d7a">tcmi_penman_shutdown</a> (void)</td></tr>
<tr class="memdesc:a7c61efaf92aaab39b956f7b677758d7a"><td class="mdescLeft">&#160;</td><td class="mdescRight">&lt;&lt;public&gt;&gt; The manager is shutdown exactly in this order:  <a href="#a7c61efaf92aaab39b956f7b677758d7a">More...</a><br/></td></tr>
<tr class="separator:a7c61efaf92aaab39b956f7b677758d7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac51b0f60a8bf73b84693c7cda86778e0"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d61/group__tcmi__penman__class.html#gac51b0f60a8bf73b84693c7cda86778e0">tcmi_penman_init_ctlfs_files</a> (void)</td></tr>
<tr class="memdesc:gac51b0f60a8bf73b84693c7cda86778e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">&lt;&lt;private&gt;&gt; Creates the static files described <a class="el" href="../../db/d61/group__tcmi__penman__class.html">here </a>.  <a href="../../db/d61/group__tcmi__penman__class.html#gac51b0f60a8bf73b84693c7cda86778e0">More...</a><br/></td></tr>
<tr class="separator:gac51b0f60a8bf73b84693c7cda86778e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafe8eb81b97de523d5d66928bf992396b"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d61/group__tcmi__penman__class.html#gafe8eb81b97de523d5d66928bf992396b">tcmi_penman_stop_ctlfs_files</a> (void)</td></tr>
<tr class="memdesc:gafe8eb81b97de523d5d66928bf992396b"><td class="mdescLeft">&#160;</td><td class="mdescRight">&lt;&lt;private&gt;&gt; Unregisters all control files.  <a href="../../db/d61/group__tcmi__penman__class.html#gafe8eb81b97de523d5d66928bf992396b">More...</a><br/></td></tr>
<tr class="separator:gafe8eb81b97de523d5d66928bf992396b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga924dc630ac82bb79a9ee6f65d6e69dfc"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d61/group__tcmi__penman__class.html#ga924dc630ac82bb79a9ee6f65d6e69dfc">check_duplicates</a> (const char *address, int address_len)</td></tr>
<tr class="separator:ga924dc630ac82bb79a9ee6f65d6e69dfc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa38763f7b20fa0ea18adef2993d44b8d"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d61/group__tcmi__penman__class.html#gaa38763f7b20fa0ea18adef2993d44b8d">tcmi_penman_connect</a> (void *obj, void *str)</td></tr>
<tr class="memdesc:gaa38763f7b20fa0ea18adef2993d44b8d"><td class="mdescLeft">&#160;</td><td class="mdescRight">&lt;&lt;private&gt;&gt; Creates a new connection and instantiates a new migration manager that will be responsible for handling it.  <a href="../../db/d61/group__tcmi__penman__class.html#gaa38763f7b20fa0ea18adef2993d44b8d">More...</a><br/></td></tr>
<tr class="separator:gaa38763f7b20fa0ea18adef2993d44b8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga512608c2d42301a57b79631bff85b240"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d61/group__tcmi__penman__class.html#ga512608c2d42301a57b79631bff85b240">tcmi_penman_stop</a> (void)</td></tr>
<tr class="memdesc:ga512608c2d42301a57b79631bff85b240"><td class="mdescLeft">&#160;</td><td class="mdescRight">&lt;&lt;private&gt;&gt; Stops the PEN manager.  <a href="../../db/d61/group__tcmi__penman__class.html#ga512608c2d42301a57b79631bff85b240">More...</a><br/></td></tr>
<tr class="separator:ga512608c2d42301a57b79631bff85b240"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaaa68e5e6c390896f63d1734204b6e191"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d61/group__tcmi__penman__class.html#gaaa68e5e6c390896f63d1734204b6e191">tcmi_penman_migrateback_npm</a> (struct <a class="el" href="../../d6/de0/group__tcmi__man__class.html#da/d15/structtcmi__man">tcmi_man</a> *<a class="el" href="../../db/d61/group__tcmi__penman__class.html#gae3924f624412b270d461d2543744407e">self</a>, struct pt_regs *regs, struct <a class="el" href="../../d9/d10/tcmi__npm__params_8h.html#db/d53/structtcmi__npm__params">tcmi_npm_params</a> *npm_params)</td></tr>
<tr class="memdesc:gaaa68e5e6c390896f63d1734204b6e191"><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs non-preemtive migration back from PEN.  <a href="../../db/d61/group__tcmi__penman__class.html#gaaa68e5e6c390896f63d1734204b6e191">More...</a><br/></td></tr>
<tr class="separator:gaaa68e5e6c390896f63d1734204b6e191"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:gae3924f624412b270d461d2543744407e"><td class="memItemLeft" align="right" valign="top">static struct tcmi_penman&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d61/group__tcmi__penman__class.html#gae3924f624412b270d461d2543744407e">self</a></td></tr>
<tr class="memdesc:gae3924f624412b270d461d2543744407e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Singleton instance pre-initialization.  <a href="../../db/d61/group__tcmi__penman__class.html#gae3924f624412b270d461d2543744407e">More...</a><br/></td></tr>
<tr class="separator:gae3924f624412b270d461d2543744407e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga523167e15c353686df1eabda8efab512"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d6/de0/group__tcmi__man__class.html#d7/d19/structtcmi__man__ops">tcmi_man_ops</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d61/group__tcmi__penman__class.html#ga523167e15c353686df1eabda8efab512">penman_ops</a></td></tr>
<tr class="memdesc:ga523167e15c353686df1eabda8efab512"><td class="mdescLeft">&#160;</td><td class="mdescRight">Migration manager operations that support polymorphism.  <a href="../../db/d61/group__tcmi__penman__class.html#ga523167e15c353686df1eabda8efab512">More...</a><br/></td></tr>
<tr class="separator:ga523167e15c353686df1eabda8efab512"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><ul>
<li>Implementation of TCMI cluster process execution manager - a class that controls the process execution node </li>
</ul>
<p>Date: 04/17/2005</p>
<p>Author: Jan Capek</p>
<dl class="section rcs"><dt>Id:</dt><dd><a class="el" href="../../d9/d86/tcmi__penman_8c.html" title="Implementation of TCMI cluster process execution manager - a class that controls the process executio...">tcmi_penman.c</a>,v 1.5 2009-04-06 21:48:46 stavam2 Exp </dd></dl>
<p>This file is part of Task Checkpointing and Migration Infrastructure(TCMI) Copyleft (C) 2005 Jan Capek</p>
<p>TCMI is free software; you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation; either version 2 of the License, or (at your option) any later version.</p>
<p>TCMI is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.</p>
<p>You should have received a copy of the GNU General Public License along with this program; if not, write to the Free Software Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA </p>

<p>Definition in file <a class="el" href="../../d9/d86/tcmi__penman_8c_source.html">tcmi_penman.c</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="a0d55103a0773804dcc70d02c76b6513a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TCMI_PENMAN_PRIVATE</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d9/d86/tcmi__penman_8c_source.html#l00045">45</a> of file <a class="el" href="../../d9/d86/tcmi__penman_8c_source.html">tcmi_penman.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ab867d7fd17baaabdb82a49035ec68ac2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tcmi_penman_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d8/d36/group__tcmi__ctlfs__entry__class.html#db/d2a/structtcmi__ctlfs__entry">tcmi_ctlfs_entry</a> *&#160;</td>
          <td class="paramname"><em>root</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>&lt;&lt;public&gt;&gt; Singleton instance initializer. </p>
<p>The initialization is accomplished exactly in this order:</p>
<ul>
<li>delegate rest of initialization to TCMI generic manager</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*root</td><td>- root directory of the filesystem, where all entries are to be created </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 upon success </dd></dl>

<p>Definition at line <a class="el" href="../../d9/d86/tcmi__penman_8c_source.html#l00059">59</a> of file <a class="el" href="../../d9/d86/tcmi__penman_8c_source.html">tcmi_penman.c</a>.</p>

<p>References <a class="el" href="../../d6/d01/dbg_8h_source.html#l00220">mdbg</a>, <a class="el" href="../../d6/d01/dbg_8h_source.html#l00221">minfo</a>, <a class="el" href="../../d9/d86/tcmi__penman_8c_source.html#l00274">penman_ops</a>, <a class="el" href="../../df/db0/tcmi__man_8h_source.html#l00151">TCMI_MAN</a>, and <a class="el" href="../../dd/dbd/tcmi__man_8c_source.html#l00069">tcmi_man_init()</a>.</p>

<p>Referenced by <a class="el" href="../../d0/d0f/tcmi__module_8c_source.html#l00122">tcmi_module_init()</a>.</p>
<div class="fragment"><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;{</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    <a class="code" href="../../d6/d01/dbg_8h.html#abc23c8dde04f89ca72fc5035015a65e7">minfo</a>(INFO1, <span class="stringliteral">&quot;Initializing TCMI PEN manager&quot;</span>);</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d6/de0/group__tcmi__man__class.html#ga97c9f7b7804700ac95d6a4b43c0173e0" title="&lt;&lt;public&gt;&gt; Initializes the TCMI manager.">tcmi_man_init</a>(<a class="code" href="../../d6/de0/group__tcmi__man__class.html#gaa817e26a29c1f89a28677a955a0e66d0" title="Casts to the TCMI manager.">TCMI_MAN</a>(&amp;<span class="keyword">self</span>), root, &amp;<a class="code" href="../../db/d61/group__tcmi__penman__class.html#ga523167e15c353686df1eabda8efab512" title="Migration manager operations that support polymorphism.">penman_ops</a>, <span class="stringliteral">&quot;pen&quot;</span>) &lt; 0) {</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;        <a class="code" href="../../d6/d01/dbg_8h.html#a881516d8ffc635f7f0e87468340c80dc">mdbg</a>(ERR3, <span class="stringliteral">&quot;TCMI PEN manager - generic init failed&quot;</span>);</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;        <span class="keywordflow">goto</span> exit0;</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    }</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;        </div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <span class="comment">/* error handling */</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160; exit0:</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;}</div>
</div><!-- fragment -->
<p><div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../d9/d86/tcmi__penman_8c_ab867d7fd17baaabdb82a49035ec68ac2_cgraph.png" border="0" usemap="#d9/d86/tcmi__penman_8c_ab867d7fd17baaabdb82a49035ec68ac2_cgraph" alt=""/></div>
<map name="d9/d86/tcmi__penman_8c_ab867d7fd17baaabdb82a49035ec68ac2_cgraph" id="d9/d86/tcmi__penman_8c_ab867d7fd17baaabdb82a49035ec68ac2_cgraph">
<area shape="rect" id="node2" href="../../d6/de0/group__tcmi__man__class.html#ga97c9f7b7804700ac95d6a4b43c0173e0" title="&lt;&lt;public&gt;&gt; Initializes the TCMI manager." alt="" coords="179,503,282,529"/><area shape="rect" id="node3" href="../../d0/db7/group__tcmi__slotvec__class.html#gaf11359c8cb20ddd7549296737eaf348d" title="&lt;&lt;public&gt;&gt; Creates new instance." alt="" coords="350,5,474,32"/><area shape="rect" id="node5" href="../../d6/de0/group__tcmi__man__class.html#ga1c0d48950792f18b6b7ea53c8b793c65" title="&lt;&lt;private&gt;&gt; Creates the directories as described in here ." alt="" coords="331,325,493,352"/><area shape="rect" id="node15" href="../../d6/de0/group__tcmi__man__class.html#ga7efd6ea1ef1cb953d940d7bd7b62e7b1" title="&lt;&lt;private&gt;&gt;." alt="" coords="331,1065,493,1092"/><area shape="rect" id="node16" href="../../d6/de0/group__tcmi__man__class.html#gadb44b36975559e2bec9b46dfc8c24cf0" title="&lt;&lt;private&gt;&gt; Creates the static files described here ." alt="" coords="345,495,479,537"/><area shape="rect" id="node20" href="../../d6/de0/group__tcmi__man__class.html#gaf83a1652b974eb8341a8af259054077a" title="&lt;&lt;private&gt;&gt; Stops all migration components." alt="" coords="783,629,953,656"/><area shape="rect" id="node50" href="../../d6/de0/group__tcmi__man__class.html#ga82d6e5a8909db33bd6c2aa607b83866e" title="&lt;&lt;private&gt;&gt; Destroys all ctlfs directories, first the singleton instance specific directories are des..." alt="" coords="1664,56,1835,83"/><area shape="rect" id="node44" href="../../d0/db7/group__tcmi__slotvec__class.html#ga2376bcc84e5bbd48a8f92400f5ad5f25" title="&lt;&lt;public&gt;&gt; Decrements the reference counter, when the count reaches 0, the instance is destroyed..." alt="" coords="1919,1015,2038,1041"/><area shape="rect" id="node4" href="../../da/d0c/group__tcmi__slot__class.html#ga347147be22f868eacdae39a2846c0e3f" title="Initializes a slot." alt="" coords="588,5,687,32"/><area shape="rect" id="node6" href="../../dc/def/group__tcmi__ctlfs__dir__class.html#ga1f51ad6279415ce522a3a932178702d6" title="&lt;&lt;public&gt;&gt; Creates a new directory entry in the tcmi_ctlfs tree." alt="" coords="573,245,702,272"/><area shape="rect" id="node14" href="../../d8/d36/group__tcmi__ctlfs__entry__class.html#ga6d6cbcd957efaaa590b335ac3150bb30" title="&lt;&lt;public&gt;&gt; Calls the instance custom put method(if any) and Decrements the reference counter of the d..." alt="" coords="2136,376,2275,403"/><area shape="rect" id="node7" href="../../dc/def/group__tcmi__ctlfs__dir__class.html#ga571b8ac681691e3ceca2e833b89b6a21" title="&lt;&lt;public&gt;&gt; Creates a new directory entry in the tcmi_ctlfs tree." alt="" coords="801,212,935,239"/><area shape="rect" id="node8" href="../../d8/d36/group__tcmi__ctlfs__entry__class.html#ga532181c3f7224fe5aa7651a69e6ad6b4" title="&lt;&lt;public&gt;&gt; This method is used when initializing a new entry." alt="" coords="1003,212,1141,239"/><area shape="rect" id="node13" href="../../d8/d36/group__tcmi__ctlfs__entry__class.html#ga71558bf14c4a13eed4e4b9ca240fd016" title="&lt;&lt;public&gt;&gt; Increments the number of links referencing this entry&#39;s inode." alt="" coords="1003,146,1141,187"/><area shape="rect" id="node9" href="../../d8/d36/group__tcmi__ctlfs__entry__class.html#ga986b629882729daaf2c9607bfca57c3c" title="&lt;&lt;public&gt;&gt; Entry name accessor." alt="" coords="2349,241,2502,268"/><area shape="rect" id="node10" href="../../d8/d36/group__tcmi__ctlfs__entry__class.html#ga4fbd3f1c3789bd79d4e2c684fc08d1a2" title="&lt;&lt;private&gt;&gt; Checks whether a directory entry contains entry of the specified name" alt="" coords="1217,157,1373,184"/><area shape="rect" id="node11" href="../../d8/d36/group__tcmi__ctlfs__entry__class.html#ga256f5088d3434bfadcdb0cb59bf25cb7" title="&lt;&lt;private&gt;&gt; A method for inode allocation." alt="" coords="1224,208,1365,235"/><area shape="rect" id="node12" href="../../d8/d36/group__tcmi__ctlfs__entry__class.html#gaeeb7fba5f385c90d93878a60a4dcf1dc" title="&lt;&lt;private&gt;&gt; The new dentry is allocated based on the parent&#39;s dentry and the current name of the ..." alt="" coords="1221,259,1369,301"/><area shape="rect" id="node17" href="../../d1/de7/group__tcmi__ctlfs__file__class.html#gac720ca77312808db7cbbc645be8e3541" title="&lt;&lt;public&gt;&gt; Creates a new instance of a file." alt="" coords="565,376,710,403"/><area shape="rect" id="node19" href="../../d6/de0/group__tcmi__man__class.html#ga73bfcf08ed3c321b24ae41ae13c606a7" title="&lt;&lt;private&gt;&gt; If the user called this method with parameter &gt; 0, the TCMI manager stops the migration f..." alt="" coords="582,579,693,605"/><area shape="rect" id="node46" href="../../d6/de0/group__tcmi__man__class.html#ga98cff5cedf84c16ebac3d3f58c17e470" title="&lt;&lt;private&gt;&gt; TCMI ctlfs write method &#45; emigration PPM P What needs to be done:" alt="" coords="1215,528,1375,555"/><area shape="rect" id="node49" href="../../d6/de0/group__tcmi__man__class.html#ga331687b0d8d4c916003d788eb126d566" title="&lt;&lt;private&gt;&gt; TCMI ctlfs write method &#45; migration home." alt="" coords="541,477,733,504"/><area shape="rect" id="node36" href="../../d1/de7/group__tcmi__ctlfs__file__class.html#ga665210941a04fda118949874767ced93" title="&lt;&lt;public&gt;&gt; This method unregisters the file uses the semaphore lock as protection from races..." alt="" coords="2123,588,2288,615"/><area shape="rect" id="node18" href="../../d1/de7/group__tcmi__ctlfs__file__class.html#gafcb50575d3f6cc783130766295300741" title="&lt;&lt;private&gt;&gt; This is a generic method, that creates a new instance of a file as follows:" alt="" coords="781,271,955,297"/><area shape="rect" id="node21" href="../../d6/de0/group__tcmi__man__class.html#gadf4927acd8902d0de2729c2077792d60" title="Finds and returns arbitrary migration manager that is either in INIT or CONNECTED state..." alt="" coords="1189,622,1400,663"/><area shape="rect" id="node25" href="../../d6/da2/group__tcmi__migman__class.html#gad131e3ab84c0ce68226c297b508dfcc4" title="Requests asynchronous shutdown of connection with peer." alt="" coords="1006,705,1138,732"/><area shape="rect" id="node22" href="../../d0/db7/group__tcmi__slotvec__class.html#ga5b4586b2e897ec306862a0b6901f39e7" title="&lt;&lt;public&gt;&gt; Locks the instance data." alt="" coords="1469,629,1595,656"/><area shape="rect" id="node23" href="../../d6/da2/group__tcmi__migman__class.html#ga828da1bb7df2ccb80dd93c62f1b0731c" title="&lt;&lt;public&gt;&gt; Migration manager state accessor." alt="" coords="1464,731,1600,757"/><area shape="rect" id="node24" href="../../d0/db7/group__tcmi__slotvec__class.html#ga4df343d549736d3dc994ad0f43529a57" title="&lt;&lt;public&gt;&gt; Unlocks the instance data." alt="" coords="1463,579,1601,605"/><area shape="rect" id="node26" href="../../d6/da2/group__tcmi__migman__class.html#ga42cc54b16a70368b84405761bf8780d5" title="Actual implementation of stop, see tcmi_migman_stop." alt="" coords="1203,756,1386,783"/><area shape="rect" id="node27" href="../../d6/da2/group__tcmi__migman__class.html#gafca6221a82ff480ee067fcfa39745719" title="&lt;&lt;public&gt;&gt; Migration manager slot index getter" alt="" coords="1449,781,1615,808"/><area shape="rect" id="node29" href="../../d6/da2/group__tcmi__migman__class.html#ga9115d78a679e54cf4bf78cf051d6782e" title="&lt;&lt;public&gt;&gt; Set atomically a new state of the migration manager, assuming current state == old_state..." alt="" coords="1457,898,1607,939"/><area shape="rect" id="node30" href="../../d6/da2/group__tcmi__migman__class.html#ga510ce89add226478847ff0bbeb56a6c4" title="tcmi_migman_notify\l_peer_disconnect" alt="" coords="1463,833,1601,874"/><area shape="rect" id="node31" href="../../d6/da2/group__tcmi__migman__class.html#gab536c262c24d8fc76cdbdfa8d6d65b81" title="&lt;&lt;public&gt;&gt; The manager is shutdown exactly in this order:" alt="" coords="1469,680,1595,707"/><area shape="rect" id="node28" href="../../da/d0c/group__tcmi__slot__class.html#ga821f6b686443bfc7fff52dd3b155de37" title="&lt;&lt;public&gt;&gt; Slot index accessor." alt="" coords="1693,757,1806,784"/><area shape="rect" id="node32" href="../../d6/da2/group__tcmi__migman__class.html#ga94df994d6d2ad3dd9aa6543ee67bf934" title="&lt;&lt;private&gt;&gt; Free method is has two purposes:when the last reference is released, it will free all ins..." alt="" coords="1685,664,1813,691"/><area shape="rect" id="node33" href="../../d6/da2/group__tcmi__migman__class.html#gae4ad418d705edeca23e38eb383343978" title="&lt;&lt;private&gt;&gt; The TCMI manager listening thread is to be terminated by forcing a signal and waiting for..." alt="" coords="1891,639,2066,665"/><area shape="rect" id="node34" href="../../d9/dfc/group__tcmi__comm__class.html#ga89dc5a63295a65407cc93606c79ca314" title="&lt;&lt;public&gt;&gt; Releases the instance." alt="" coords="1921,689,2036,716"/><area shape="rect" id="node35" href="../../d6/da2/group__tcmi__migman__class.html#ga5b56a5213e9dbcba9973b9530692fd27" title="&lt;&lt;private&gt;&gt; Unregisters and releases all control files." alt="" coords="1897,522,2060,563"/><area shape="rect" id="node41" href="../../d6/da2/group__tcmi__migman__class.html#ga39c491f49b4e5b3cc533c816d27135a3" title="&lt;&lt;private&gt;&gt; Destroys all TCMI ctlfs directories" alt="" coords="1883,441,2074,468"/><area shape="rect" id="node42" href="../../d3/d7e/group__tcmi__sock__class.html#gaa64951d80cedfaf76bb82ee811255d69" title="&lt;&lt;public&gt;&gt; Decrements the reference counter and if it reaches 0, the instance." alt="" coords="1925,588,2032,615"/><area shape="rect" id="node43" href="../../d6/da2/group__tcmi__migman__class.html#ga71f49cd0661e81a859daab82ae7676de" title="Removes migman from a list of migration managers of the associated manager." alt="" coords="1904,740,2053,767"/><area shape="rect" id="node37" href="../../d1/de7/group__tcmi__ctlfs__file__class.html#ga5323f5b0f103dd3c42defc6c4494e641" title="&lt;&lt;public&gt;&gt; Locks this file instance." alt="" coords="2359,639,2491,665"/><area shape="rect" id="node38" href="../../d1/de7/group__tcmi__ctlfs__file__class.html#gaddf76bb53a90657e6773b485e0a89248" title="This method is used when object associated with the file wants to unregister with the file..." alt="" coords="2336,537,2515,564"/><area shape="rect" id="node40" href="../../d1/de7/group__tcmi__ctlfs__file__class.html#gad49b6ab401eeac4dab0ecd314796d569" title="&lt;&lt;public&gt;&gt; Unlocks this file instance." alt="" coords="2352,588,2499,615"/><area shape="rect" id="node39" href="../../d1/de7/group__tcmi__ctlfs__file__class.html#ga8c97fc25ab3bd060017a3539edf7d6f0" title="&lt;&lt;public&gt;&gt; Sets the unregistered flag of the file." alt="" coords="2563,530,2728,571"/><area shape="rect" id="node45" href="../../da/d0c/group__tcmi__slot__class.html#ga6dd63ff2854a9939a5aa094f6543a5d1" title="&lt;&lt;public&gt;&gt; Checks if the slot is empty." alt="" coords="2146,1015,2265,1041"/><area shape="rect" id="node47" href="../../d0/db7/group__tcmi__slotvec__class.html#ga876670f605631a5deb930412dae02b28" title="&lt;&lt;public&gt;&gt; Accesses a slot at a given index." alt="" coords="1476,477,1588,504"/><area shape="rect" id="node48" href="../../d6/da2/group__tcmi__migman__class.html#gacd13117046ccc1fa12ac743b893fcfca" title="&lt;&lt;public&gt;&gt; Instance accessor, increments the reference counter." alt="" coords="1469,427,1595,453"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a7c61efaf92aaab39b956f7b677758d7a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tcmi_penman_shutdown </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>&lt;&lt;public&gt;&gt; The manager is shutdown exactly in this order: </p>
<ul>
<li>unregister all ctlfs files as we don't want anymore requests from users.</li>
<li>shutdown the migration framework. This includes migrating all processes back and terminating all migration managers</li>
<li>unregister all ctlfs directories </li>
</ul>

<p>Definition at line <a class="el" href="../../d9/d86/tcmi__penman_8c_source.html#l00083">83</a> of file <a class="el" href="../../d9/d86/tcmi__penman_8c_source.html">tcmi_penman.c</a>.</p>

<p>References <a class="el" href="../../d6/d01/dbg_8h_source.html#l00221">minfo</a>, <a class="el" href="../../df/db0/tcmi__man_8h_source.html#l00151">TCMI_MAN</a>, and <a class="el" href="../../dd/dbd/tcmi__man_8c_source.html#l00142">tcmi_man_shutdown()</a>.</p>

<p>Referenced by <a class="el" href="../../d0/d0f/tcmi__module_8c_source.html#l00168">tcmi_module_exit()</a>, and <a class="el" href="../../d0/d0f/tcmi__module_8c_source.html#l00122">tcmi_module_init()</a>.</p>
<div class="fragment"><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;{</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <a class="code" href="../../d6/d01/dbg_8h.html#abc23c8dde04f89ca72fc5035015a65e7">minfo</a>(INFO1, <span class="stringliteral">&quot;Shutting down the TCMI PEN manager&quot;</span>);</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <a class="code" href="../../d6/de0/group__tcmi__man__class.html#ga5255cad7e65c708e972344bab305e19a" title="&lt;&lt;public&gt;&gt; The manager is shutdown exactly in this order:">tcmi_man_shutdown</a>(<a class="code" href="../../d6/de0/group__tcmi__man__class.html#gaa817e26a29c1f89a28677a955a0e66d0" title="Casts to the TCMI manager.">TCMI_MAN</a>(&amp;<span class="keyword">self</span>));</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;}</div>
</div><!-- fragment -->
<p><div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../d9/d86/tcmi__penman_8c_a7c61efaf92aaab39b956f7b677758d7a_cgraph.png" border="0" usemap="#d9/d86/tcmi__penman_8c_a7c61efaf92aaab39b956f7b677758d7a_cgraph" alt=""/></div>
<map name="d9/d86/tcmi__penman_8c_a7c61efaf92aaab39b956f7b677758d7a_cgraph" id="d9/d86/tcmi__penman_8c_a7c61efaf92aaab39b956f7b677758d7a_cgraph">
<area shape="rect" id="node2" href="../../d6/de0/group__tcmi__man__class.html#ga5255cad7e65c708e972344bab305e19a" title="&lt;&lt;public&gt;&gt; The manager is shutdown exactly in this order:" alt="" coords="216,724,357,751"/><area shape="rect" id="node3" href="../../d6/de0/group__tcmi__man__class.html#ga3d6f9c21e828c84de78f430ed236c8b7" title="&lt;&lt;private&gt;&gt; Unregisters and releases all control files." alt="" coords="1579,681,1722,722"/><area shape="rect" id="node11" href="../../d6/de0/group__tcmi__man__class.html#ga82d6e5a8909db33bd6c2aa607b83866e" title="&lt;&lt;private&gt;&gt; Destroys all ctlfs directories, first the singleton instance specific directories are des..." alt="" coords="624,659,795,685"/><area shape="rect" id="node12" href="../../d6/de0/group__tcmi__man__class.html#gaf83a1652b974eb8341a8af259054077a" title="&lt;&lt;private&gt;&gt; Stops all migration components." alt="" coords="405,673,576,700"/><area shape="rect" id="node49" href="../../dd/dbd/tcmi__man_8c.html#aed4665e9fa11405215f01c52355a5535" title="Waits for all migration managers to terminate." alt="" coords="1555,513,1746,554"/><area shape="rect" id="node47" href="../../d0/db7/group__tcmi__slotvec__class.html#ga2376bcc84e5bbd48a8f92400f5ad5f25" title="&lt;&lt;public&gt;&gt; Decrements the reference counter, when the count reaches 0, the instance is destroyed..." alt="" coords="1591,1067,1710,1093"/><area shape="rect" id="node4" href="../../d1/de7/group__tcmi__ctlfs__file__class.html#ga665210941a04fda118949874767ced93" title="&lt;&lt;public&gt;&gt; This method unregisters the file uses the semaphore lock as protection from races..." alt="" coords="1817,827,1983,853"/><area shape="rect" id="node9" href="../../d8/d36/group__tcmi__ctlfs__entry__class.html#ga6d6cbcd957efaaa590b335ac3150bb30" title="&lt;&lt;public&gt;&gt; Calls the instance custom put method(if any) and Decrements the reference counter of the d..." alt="" coords="1831,741,1969,768"/><area shape="rect" id="node5" href="../../d1/de7/group__tcmi__ctlfs__file__class.html#ga5323f5b0f103dd3c42defc6c4494e641" title="&lt;&lt;public&gt;&gt; Locks this file instance." alt="" coords="2077,787,2209,813"/><area shape="rect" id="node6" href="../../d1/de7/group__tcmi__ctlfs__file__class.html#gaddf76bb53a90657e6773b485e0a89248" title="This method is used when object associated with the file wants to unregister with the file..." alt="" coords="2053,837,2232,864"/><area shape="rect" id="node8" href="../../d1/de7/group__tcmi__ctlfs__file__class.html#gad49b6ab401eeac4dab0ecd314796d569" title="&lt;&lt;public&gt;&gt; Unlocks this file instance." alt="" coords="2069,888,2216,915"/><area shape="rect" id="node7" href="../../d1/de7/group__tcmi__ctlfs__file__class.html#ga8c97fc25ab3bd060017a3539edf7d6f0" title="&lt;&lt;public&gt;&gt; Sets the unregistered flag of the file." alt="" coords="2280,830,2445,871"/><area shape="rect" id="node10" href="../../d8/d36/group__tcmi__ctlfs__entry__class.html#ga986b629882729daaf2c9607bfca57c3c" title="&lt;&lt;public&gt;&gt; Entry name accessor." alt="" coords="2066,736,2219,763"/><area shape="rect" id="node13" href="../../d6/de0/group__tcmi__man__class.html#gadf4927acd8902d0de2729c2077792d60" title="Finds and returns arbitrary migration manager that is either in INIT or CONNECTED state..." alt="" coords="843,563,1053,605"/><area shape="rect" id="node17" href="../../d6/da2/group__tcmi__migman__class.html#gad131e3ab84c0ce68226c297b508dfcc4" title="Requests asynchronous shutdown of connection with peer." alt="" coords="643,724,775,751"/><area shape="rect" id="node14" href="../../d0/db7/group__tcmi__slotvec__class.html#ga5b4586b2e897ec306862a0b6901f39e7" title="&lt;&lt;public&gt;&gt; Locks the instance data." alt="" coords="1837,516,1963,543"/><area shape="rect" id="node15" href="../../d6/da2/group__tcmi__migman__class.html#ga828da1bb7df2ccb80dd93c62f1b0731c" title="&lt;&lt;public&gt;&gt; Migration manager state accessor." alt="" coords="1117,680,1253,707"/><area shape="rect" id="node16" href="../../d0/db7/group__tcmi__slotvec__class.html#ga4df343d549736d3dc994ad0f43529a57" title="&lt;&lt;public&gt;&gt; Unlocks the instance data." alt="" coords="1831,461,1969,488"/><area shape="rect" id="node18" href="../../d6/da2/group__tcmi__migman__class.html#ga42cc54b16a70368b84405761bf8780d5" title="Actual implementation of stop, see tcmi_migman_stop." alt="" coords="857,732,1039,759"/><area shape="rect" id="node19" href="../../d6/da2/group__tcmi__migman__class.html#gafca6221a82ff480ee067fcfa39745719" title="&lt;&lt;public&gt;&gt; Migration manager slot index getter" alt="" coords="1102,797,1269,824"/><area shape="rect" id="node21" href="../../d6/da2/group__tcmi__migman__class.html#ga9115d78a679e54cf4bf78cf051d6782e" title="&lt;&lt;public&gt;&gt; Set atomically a new state of the migration manager, assuming current state == old_state..." alt="" coords="1111,731,1260,773"/><area shape="rect" id="node22" href="../../d6/da2/group__tcmi__migman__class.html#ga510ce89add226478847ff0bbeb56a6c4" title="tcmi_migman_notify\l_peer_disconnect" alt="" coords="1116,341,1255,382"/><area shape="rect" id="node39" href="../../d6/da2/group__tcmi__migman__class.html#gab536c262c24d8fc76cdbdfa8d6d65b81" title="&lt;&lt;public&gt;&gt; The manager is shutdown exactly in this order:" alt="" coords="1123,903,1248,929"/><area shape="rect" id="node20" href="../../da/d0c/group__tcmi__slot__class.html#ga821f6b686443bfc7fff52dd3b155de37" title="&lt;&lt;public&gt;&gt; Slot index accessor." alt="" coords="1355,797,1469,824"/><area shape="rect" id="node23" href="../../d4/de6/group__tcmi__disconnect__msg__class.html#ga19a79788a771ec551e8b131a90966665" title="&lt;&lt;public&gt;&gt; Disconnect message tx constructor." alt="" coords="1337,122,1487,163"/><area shape="rect" id="node28" href="../../d6/dc2/group__tcmi__msg__class.html#ga7a8fe8cbfd4b25c15589c8599f66e574" title="&lt;&lt;public&gt;&gt; Sends a message via a specified connection." alt="" coords="1318,272,1506,299"/><area shape="rect" id="node34" href="../../d6/da2/group__tcmi__migman__class.html#ga91bf5b41a1d4faa3eab11e6867ec34e4" title="&lt;&lt;public&gt;&gt; Communication socket accesor." alt="" coords="1345,399,1479,425"/><area shape="rect" id="node36" href="../../d6/dc2/group__tcmi__msg__class.html#gac86a4090b7e1902ef603cb03191d6281" title="&lt;&lt;public&gt;&gt; Decrements reference counter, if it reaches 0 the custom free method is called if defined..." alt="" coords="1360,348,1464,375"/><area shape="rect" id="node24" href="../../d6/dc2/group__tcmi__msg__class.html#gace79df438ec4f7c8f7cee3bfe42f6d93" title="&lt;&lt;public&gt;&gt; Initializes the message for transferring." alt="" coords="1590,81,1711,108"/><area shape="rect" id="node25" href="../../db/dc8/tcmi__msg_8c.html#a5c394462e393c496f11d949b265b8a9e" title="Shared initialization fuction of both rx and tx messages." alt="" coords="1825,5,1975,32"/><area shape="rect" id="node26" href="../../d4/d8c/group__tcmi__transaction__class.html#gada9d9436def8919a10997233cd6b5ea1" title="&lt;&lt;public&gt;&gt; Creates a new transaction." alt="" coords="1826,56,1974,83"/><area shape="rect" id="node27" href="../../d4/d8c/group__tcmi__transaction__class.html#gaac666feaaab1fe5c341237a3e0283501" title="&lt;&lt;public&gt;&gt; Transaction ID accessor." alt="" coords="2075,107,2210,133"/><area shape="rect" id="node29" href="../../d6/dc2/group__tcmi__msg__class.html#ga1c21eeafb9a0d56dabb025d5fbdc0bc3" title="&lt;&lt;private&gt;&gt; Sends a message via a specified connection." alt="" coords="1593,259,1708,285"/><area shape="rect" id="node30" href="../../d4/d8c/group__tcmi__transaction__class.html#ga653b1761a1b6e9fef415196c54e00768" title="&lt;&lt;public&gt;&gt; Starts a transaction." alt="" coords="1825,309,1975,336"/><area shape="rect" id="node31" href="../../d6/d8e/group__kkc__sock__class.html#ga141590d302ece9990e5c8cdd82a3c3d8" title="&lt;&lt;public&gt;&gt; Locks this socket instance for sending, interruptible version, the process can be woken up..." alt="" coords="1795,157,2005,184"/><area shape="rect" id="node32" href="../../d6/d8e/group__kkc__sock__class.html#gad734b131e2ab00e8d7fa30737fc2f5ad" title="&lt;&lt;public&gt;&gt; Sends out specified data." alt="" coords="1843,208,1957,235"/><area shape="rect" id="node33" href="../../d6/d8e/group__kkc__sock__class.html#ga841d6dff84842f19540eae27c37fcb4c" title="&lt;&lt;public&gt;&gt; Unlocks this socket instance for sending." alt="" coords="1825,259,1975,285"/><area shape="rect" id="node35" href="../../d3/d7e/group__tcmi__sock__class.html#ga8573cfac9adbb5996cd90395d8a78502" title="&lt;&lt;public&gt;&gt; KKC socket accessor." alt="" coords="1565,411,1736,437"/><area shape="rect" id="node37" href="../../d4/d8c/group__tcmi__transaction__class.html#ga2748d267a8fddd1ced86e73ba8efd079" title="&lt;&lt;public&gt;&gt; Releases the instance." alt="" coords="1579,360,1722,387"/><area shape="rect" id="node38" href="../../da/d0c/group__tcmi__slot__class.html#ga1d6232adcf00094597a66d9f5740d5f8" title="&lt;&lt;public&gt;&gt; Removes a given node from a slot." alt="" coords="1839,411,1961,437"/><area shape="rect" id="node40" href="../../d6/da2/group__tcmi__migman__class.html#ga94df994d6d2ad3dd9aa6543ee67bf934" title="&lt;&lt;private&gt;&gt; Free method is has two purposes:when the last reference is released, it will free all ins..." alt="" coords="1348,907,1476,933"/><area shape="rect" id="node41" href="../../d6/da2/group__tcmi__migman__class.html#gae4ad418d705edeca23e38eb383343978" title="&lt;&lt;private&gt;&gt; The TCMI manager listening thread is to be terminated by forcing a signal and waiting for..." alt="" coords="1563,915,1738,941"/><area shape="rect" id="node42" href="../../d9/dfc/group__tcmi__comm__class.html#ga89dc5a63295a65407cc93606c79ca314" title="&lt;&lt;public&gt;&gt; Releases the instance." alt="" coords="1593,965,1708,992"/><area shape="rect" id="node43" href="../../d6/da2/group__tcmi__migman__class.html#ga5b56a5213e9dbcba9973b9530692fd27" title="&lt;&lt;private&gt;&gt; Unregisters and releases all control files." alt="" coords="1569,798,1732,839"/><area shape="rect" id="node44" href="../../d6/da2/group__tcmi__migman__class.html#ga39c491f49b4e5b3cc533c816d27135a3" title="&lt;&lt;private&gt;&gt; Destroys all TCMI ctlfs directories" alt="" coords="1555,747,1746,773"/><area shape="rect" id="node45" href="../../d3/d7e/group__tcmi__sock__class.html#gaa64951d80cedfaf76bb82ee811255d69" title="&lt;&lt;public&gt;&gt; Decrements the reference counter and if it reaches 0, the instance." alt="" coords="1597,1016,1704,1043"/><area shape="rect" id="node46" href="../../d6/da2/group__tcmi__migman__class.html#ga71f49cd0661e81a859daab82ae7676de" title="Removes migman from a list of migration managers of the associated manager." alt="" coords="1576,864,1725,891"/><area shape="rect" id="node48" href="../../da/d0c/group__tcmi__slot__class.html#ga6dd63ff2854a9939a5aa094f6543a5d1" title="&lt;&lt;public&gt;&gt; Checks if the slot is empty." alt="" coords="1841,1067,1959,1093"/><area shape="rect" id="node50" href="../../d0/db7/group__tcmi__slotvec__class.html#ga03946dfe98a88a916f30eaf3f2eed1be" title="&lt;&lt;public&gt;&gt; Tester method for slotvec emptyness" alt="" coords="1831,567,1969,593"/></map>
</div>
</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_8f82a767cc51fe89d179736eabaccdf4.html">sources</a></li><li class="navelem"><a class="el" href="../../dir_9385db0d21c3799d77ed98cab2ee4df0.html">kernel_2.6.33.1</a></li><li class="navelem"><a class="el" href="../../dir_0795b8fbe000fdfda95a2efc60cc76e3.html">src</a></li><li class="navelem"><a class="el" href="../../dir_a0a030ec0edb5060d3835a5302805f76.html">tcmi</a></li><li class="navelem"><a class="el" href="../../dir_4fafe0852b9479a291f021246ecbd627.html">manager</a></li><li class="navelem"><a class="el" href="../../d9/d86/tcmi__penman_8c.html">tcmi_penman.c</a></li>
    <li class="footer">Generated on Sun Apr 7 2013 23:20:00 for Clondike by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.3.1 </li>
  </ul>
</div>
</body>
</html>
