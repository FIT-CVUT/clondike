<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3.1"/>
<title>Clondike: C:/CLONDIKE/clondike/sources/kernel_3.7.1/src/tcmi/task/tcmi_guesttask.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Clondike
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('d3/d25/kernel__3_87_81_2src_2tcmi_2task_2tcmi__guesttask_8c.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">tcmi_guesttask.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;tcmi/comm/tcmi_messages_dsc.h&gt;</code><br/>
<code>#include &lt;tcmi/migration/tcmi_migcom.h&gt;</code><br/>
<code>#include &lt;tcmi/manager/tcmi_migman.h&gt;</code><br/>
<code>#include &quot;<a class="el" href="../../db/dbe/kernel__3_87_81_2src_2tcmi_2task_2tcmi__taskhelper_8h_source.html">tcmi_taskhelper.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../d6/db1/kernel__3_87_81_2src_2tcmi_2task_2tcmi__guesttask_8h_source.html">tcmi_guesttask.h</a>&quot;</code><br/>
<code>#include &lt;proxyfs/proxyfs_helper.h&gt;</code><br/>
<code>#include &lt;director/director.h&gt;</code><br/>
</div><div class="textblock"><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="../../closed.png" alt="+"/> Include dependency graph for tcmi_guesttask.c:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../d0/dc4/kernel__3_87_81_2src_2tcmi_2task_2tcmi__guesttask_8c__incl.png" border="0" usemap="#C_1_2CLONDIKE_2clondike_2sources_2kernel__3_87_81_2src_2tcmi_2task_2tcmi__guesttask_8c" alt=""/></div>
<map name="C_1_2CLONDIKE_2clondike_2sources_2kernel__3_87_81_2src_2tcmi_2task_2tcmi__guesttask_8c" id="C_1_2CLONDIKE_2clondike_2sources_2kernel__3_87_81_2src_2tcmi_2task_2tcmi__guesttask_8c">
<area shape="rect" id="node5" href="../../db/dbe/kernel__3_87_81_2src_2tcmi_2task_2tcmi__taskhelper_8h.html" title="tcmi_taskhelper.h" alt="" coords="588,117,713,144"/><area shape="rect" id="node34" href="../../d6/db1/kernel__3_87_81_2src_2tcmi_2task_2tcmi__guesttask_8h.html" title="tcmi_guesttask.h" alt="" coords="737,117,860,144"/><area shape="rect" id="node15" href="../../d0/dc7/kernel__3_87_81_2src_2tcmi_2task_2tcmi__task_8h.html" title="tcmi_task.h" alt="" coords="1103,200,1193,227"/><area shape="rect" id="node19" href="../../d2/dcc/kernel__3_87_81_2src_2tcmi_2task_2tcmi__method__wrapper_8h.html" title="tcmi_method_wrapper.h" alt="" coords="725,283,885,309"/></map>
</div>
</div>
<p><a href="../../d3/d25/kernel__3_87_81_2src_2tcmi_2task_2tcmi__guesttask_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:aca3fbc4497c16cf9248f1e8553d87950"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d25/kernel__3_87_81_2src_2tcmi_2task_2tcmi__guesttask_8c.html#aca3fbc4497c16cf9248f1e8553d87950">TCMI_GUESTTASK_PRIVATE</a></td></tr>
<tr class="separator:aca3fbc4497c16cf9248f1e8553d87950"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga31b4326716941bc138080c4f3bb07984"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../de/d2f/group__tcmi__task__class.html#d1/dd2/structtcmi__task">tcmi_task</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d85/group__tcmi__guesttask__class.html#ga31b4326716941bc138080c4f3bb07984">tcmi_guesttask_new</a> (pid_t local_pid, struct <a class="el" href="../../d6/da2/group__tcmi__migman__class.html#d2/d8c/structtcmi__migman">tcmi_migman</a> *migman, struct <a class="el" href="../../d6/d8e/group__kkc__sock__class.html#da/d0d/structkkc__sock">kkc_sock</a> *sock, struct <a class="el" href="../../d8/d36/group__tcmi__ctlfs__entry__class.html#db/d2a/structtcmi__ctlfs__entry">tcmi_ctlfs_entry</a> *d_migproc, struct <a class="el" href="../../d8/d36/group__tcmi__ctlfs__entry__class.html#db/d2a/structtcmi__ctlfs__entry">tcmi_ctlfs_entry</a> *d_migman)</td></tr>
<tr class="memdesc:ga31b4326716941bc138080c4f3bb07984"><td class="mdescLeft">&#160;</td><td class="mdescRight">&lt;&lt;public&gt;&gt; Instance constructor.  <a href="../../d5/d85/group__tcmi__guesttask__class.html#ga31b4326716941bc138080c4f3bb07984">More...</a><br/></td></tr>
<tr class="separator:ga31b4326716941bc138080c4f3bb07984"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0855b260ad0e6d9be756d54d5b566d5d"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d25/kernel__3_87_81_2src_2tcmi_2task_2tcmi__guesttask_8c.html#ga0855b260ad0e6d9be756d54d5b566d5d">tcmi_guesttask_process_msg</a> (struct <a class="el" href="../../de/d2f/group__tcmi__task__class.html#d1/dd2/structtcmi__task">tcmi_task</a> *<a class="el" href="../../db/d61/group__tcmi__penman__class.html#gae3924f624412b270d461d2543744407e">self</a>, struct <a class="el" href="../../d6/dc2/group__tcmi__msg__class.html#d0/d5b/structtcmi__msg">tcmi_msg</a> *m)</td></tr>
<tr class="memdesc:ga0855b260ad0e6d9be756d54d5b566d5d"><td class="mdescLeft">&#160;</td><td class="mdescRight">&lt;&lt;private&gt;&gt; Processes a message specified by the caller.  <a href="#ga0855b260ad0e6d9be756d54d5b566d5d">More...</a><br/></td></tr>
<tr class="separator:ga0855b260ad0e6d9be756d54d5b566d5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac8d8c619e9dc86a39ebce00d01030831"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d25/kernel__3_87_81_2src_2tcmi_2task_2tcmi__guesttask_8c.html#gac8d8c619e9dc86a39ebce00d01030831">tcmi_guesttask_emigrate_p</a> (struct <a class="el" href="../../de/d2f/group__tcmi__task__class.html#d1/dd2/structtcmi__task">tcmi_task</a> *<a class="el" href="../../db/d61/group__tcmi__penman__class.html#gae3924f624412b270d461d2543744407e">self</a>)</td></tr>
<tr class="memdesc:gac8d8c619e9dc86a39ebce00d01030831"><td class="mdescLeft">&#160;</td><td class="mdescRight">&lt;&lt;private&gt;&gt; Emigrates a task to a PEN.  <a href="#gac8d8c619e9dc86a39ebce00d01030831">More...</a><br/></td></tr>
<tr class="separator:gac8d8c619e9dc86a39ebce00d01030831"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga43e0985d5863cbc32047f46a1d910824"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d25/kernel__3_87_81_2src_2tcmi_2task_2tcmi__guesttask_8c.html#ga43e0985d5863cbc32047f46a1d910824">tcmi_guesttask_migrateback_p</a> (struct <a class="el" href="../../de/d2f/group__tcmi__task__class.html#d1/dd2/structtcmi__task">tcmi_task</a> *<a class="el" href="../../db/d61/group__tcmi__penman__class.html#gae3924f624412b270d461d2543744407e">self</a>, struct <a class="el" href="../../df/d60/kernel__3_87_81_2src_2tcmi_2migration_2tcmi__npm__params_8h.html#db/d53/structtcmi__npm__params">tcmi_npm_params</a> *npm_params)</td></tr>
<tr class="memdesc:ga43e0985d5863cbc32047f46a1d910824"><td class="mdescLeft">&#160;</td><td class="mdescRight">Internal helper method for performing both npm/ppm physical migration back to ccn.  <a href="#ga43e0985d5863cbc32047f46a1d910824">More...</a><br/></td></tr>
<tr class="separator:ga43e0985d5863cbc32047f46a1d910824"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1f99fbedfc6a18e6cfb4d6502f1a8825"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d25/kernel__3_87_81_2src_2tcmi_2task_2tcmi__guesttask_8c.html#ga1f99fbedfc6a18e6cfb4d6502f1a8825">tcmi_guesttask_migrateback_ppm_p</a> (struct <a class="el" href="../../de/d2f/group__tcmi__task__class.html#d1/dd2/structtcmi__task">tcmi_task</a> *<a class="el" href="../../db/d61/group__tcmi__penman__class.html#gae3924f624412b270d461d2543744407e">self</a>)</td></tr>
<tr class="memdesc:ga1f99fbedfc6a18e6cfb4d6502f1a8825"><td class="mdescLeft">&#160;</td><td class="mdescRight">&lt;&lt;private&gt;&gt; Migrates a task back to CCN using PPM with physical checkpoint image.  <a href="#ga1f99fbedfc6a18e6cfb4d6502f1a8825">More...</a><br/></td></tr>
<tr class="separator:ga1f99fbedfc6a18e6cfb4d6502f1a8825"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabab4bd5d57978aab262f5ac1ee9044bb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d85/group__tcmi__guesttask__class.html#gabab4bd5d57978aab262f5ac1ee9044bb">tcmi_guesttask_migrateback_npm</a> (struct <a class="el" href="../../de/d2f/group__tcmi__task__class.html#d1/dd2/structtcmi__task">tcmi_task</a> *<a class="el" href="../../db/d61/group__tcmi__penman__class.html#gae3924f624412b270d461d2543744407e">self</a>, struct <a class="el" href="../../df/d60/kernel__3_87_81_2src_2tcmi_2migration_2tcmi__npm__params_8h.html#db/d53/structtcmi__npm__params">tcmi_npm_params</a> *npm_params)</td></tr>
<tr class="memdesc:gabab4bd5d57978aab262f5ac1ee9044bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles non-preemptive migration back of guest tasks.  <a href="../../d5/d85/group__tcmi__guesttask__class.html#gabab4bd5d57978aab262f5ac1ee9044bb">More...</a><br/></td></tr>
<tr class="separator:gabab4bd5d57978aab262f5ac1ee9044bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga21fc3a398e6663b285ea3ef21f81629f"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d25/kernel__3_87_81_2src_2tcmi_2task_2tcmi__guesttask_8c.html#ga21fc3a398e6663b285ea3ef21f81629f">tcmi_guesttask_exit</a> (struct <a class="el" href="../../de/d2f/group__tcmi__task__class.html#d1/dd2/structtcmi__task">tcmi_task</a> *<a class="el" href="../../db/d61/group__tcmi__penman__class.html#gae3924f624412b270d461d2543744407e">self</a>, long code)</td></tr>
<tr class="memdesc:ga21fc3a398e6663b285ea3ef21f81629f"><td class="mdescLeft">&#160;</td><td class="mdescRight">&lt;&lt;private&gt;&gt; Exit notification for the shadow on CCN.  <a href="#ga21fc3a398e6663b285ea3ef21f81629f">More...</a><br/></td></tr>
<tr class="separator:ga21fc3a398e6663b285ea3ef21f81629f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0d7c79c7e1a2ef3a36c46056621576f2"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d25/kernel__3_87_81_2src_2tcmi_2task_2tcmi__guesttask_8c.html#ga0d7c79c7e1a2ef3a36c46056621576f2">tcmi_guesttask_do_signal</a> (struct <a class="el" href="../../de/d2f/group__tcmi__task__class.html#d1/dd2/structtcmi__task">tcmi_task</a> *<a class="el" href="../../db/d61/group__tcmi__penman__class.html#gae3924f624412b270d461d2543744407e">self</a>, unsigned long signr, siginfo_t *<a class="el" href="../../db/da0/kernel__3_87_81_2src_2tcmi_2comm_2tcmi__signal__msg_8h.html#a7d5c5f5b173fb960963b2c44980dc940">info</a>)</td></tr>
<tr class="memdesc:ga0d7c79c7e1a2ef3a36c46056621576f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">&lt;&lt;private&gt;&gt; Processes a specified signal.  <a href="#ga0d7c79c7e1a2ef3a36c46056621576f2">More...</a><br/></td></tr>
<tr class="separator:ga0d7c79c7e1a2ef3a36c46056621576f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga16ed0a2983a1fc31c158cb1327af6580"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d25/kernel__3_87_81_2src_2tcmi_2task_2tcmi__guesttask_8c.html#ga16ed0a2983a1fc31c158cb1327af6580">tcmi_guesttask_process_p_emigrate_msg</a> (struct <a class="el" href="../../de/d2f/group__tcmi__task__class.html#d1/dd2/structtcmi__task">tcmi_task</a> *<a class="el" href="../../db/d61/group__tcmi__penman__class.html#gae3924f624412b270d461d2543744407e">self</a>, struct <a class="el" href="../../d6/dc2/group__tcmi__msg__class.html#d0/d5b/structtcmi__msg">tcmi_msg</a> *m)</td></tr>
<tr class="memdesc:ga16ed0a2983a1fc31c158cb1327af6580"><td class="mdescLeft">&#160;</td><td class="mdescRight">&lt;&lt;private&gt;&gt; Processes the physical emigrate process message (both NPM and PPM)  <a href="#ga16ed0a2983a1fc31c158cb1327af6580">More...</a><br/></td></tr>
<tr class="separator:ga16ed0a2983a1fc31c158cb1327af6580"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa439390162db6c39e89ece50c0119d61"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d85/group__tcmi__guesttask__class.html#gaa439390162db6c39e89ece50c0119d61">tcmi_guesttask_post_fork</a> (struct <a class="el" href="../../de/d2f/group__tcmi__task__class.html#d1/dd2/structtcmi__task">tcmi_task</a> *<a class="el" href="../../db/d61/group__tcmi__penman__class.html#gae3924f624412b270d461d2543744407e">self</a>, struct <a class="el" href="../../de/d2f/group__tcmi__task__class.html#d1/dd2/structtcmi__task">tcmi_task</a> *child, long fork_result, pid_t remote_child_pid)</td></tr>
<tr class="memdesc:gaa439390162db6c39e89ece50c0119d61"><td class="mdescLeft">&#160;</td><td class="mdescRight">&lt;&lt;public&gt;&gt; Called on post-fork hook on guest task that was forked (parent)  <a href="../../d5/d85/group__tcmi__guesttask__class.html#gaa439390162db6c39e89ece50c0119d61">More...</a><br/></td></tr>
<tr class="separator:gaa439390162db6c39e89ece50c0119d61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6af3f9afe2a77220f2407c4c79648018"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d85/group__tcmi__guesttask__class.html#ga6af3f9afe2a77220f2407c4c79648018">tcmi_guesttask_post_fork_set_tid</a> (void *<a class="el" href="../../db/d61/group__tcmi__penman__class.html#gae3924f624412b270d461d2543744407e">self</a>, struct <a class="el" href="../../d1/d5d/group__tcmi__method__wrapper__class.html#d3/d01/structtcmi__method__wrapper">tcmi_method_wrapper</a> *wr)</td></tr>
<tr class="memdesc:ga6af3f9afe2a77220f2407c4c79648018"><td class="mdescLeft">&#160;</td><td class="mdescRight">&lt;&lt;public&gt;&gt; Used to set proper tid after a new process was forked.  <a href="../../d5/d85/group__tcmi__guesttask__class.html#ga6af3f9afe2a77220f2407c4c79648018">More...</a><br/></td></tr>
<tr class="separator:ga6af3f9afe2a77220f2407c4c79648018"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8adddfca18c4106695fe90181fec0378"><td class="memItemLeft" align="right" valign="top">static enum tcmi_task_type&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d25/kernel__3_87_81_2src_2tcmi_2task_2tcmi__guesttask_8c.html#ga8adddfca18c4106695fe90181fec0378">tcmi_guesttask_get_type</a> (void)</td></tr>
<tr class="memdesc:ga8adddfca18c4106695fe90181fec0378"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return type of task.  <a href="#ga8adddfca18c4106695fe90181fec0378">More...</a><br/></td></tr>
<tr class="separator:ga8adddfca18c4106695fe90181fec0378"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ga5df59fd8e4298423a9bb56f2b859fc5f"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../de/d2f/group__tcmi__task__class.html#d5/d04/structtcmi__task__ops">tcmi_task_ops</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d85/group__tcmi__guesttask__class.html#ga5df59fd8e4298423a9bb56f2b859fc5f">guesttask_ops</a></td></tr>
<tr class="memdesc:ga5df59fd8e4298423a9bb56f2b859fc5f"><td class="mdescLeft">&#160;</td><td class="mdescRight">TCMI task operations that support polymorphism.  <a href="../../d5/d85/group__tcmi__guesttask__class.html#ga5df59fd8e4298423a9bb56f2b859fc5f">More...</a><br/></td></tr>
<tr class="separator:ga5df59fd8e4298423a9bb56f2b859fc5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="aca3fbc4497c16cf9248f1e8553d87950"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TCMI_GUESTTASK_PRIVATE</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d3/d25/kernel__3_87_81_2src_2tcmi_2task_2tcmi__guesttask_8c_source.html#l00037">37</a> of file <a class="el" href="../../d3/d25/kernel__3_87_81_2src_2tcmi_2task_2tcmi__guesttask_8c_source.html">tcmi_guesttask.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga0d7c79c7e1a2ef3a36c46056621576f2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int tcmi_guesttask_do_signal </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../de/d2f/group__tcmi__task__class.html#d1/dd2/structtcmi__task">tcmi_task</a> *&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>signr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">siginfo_t *&#160;</td>
          <td class="paramname"><em>info</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>&lt;&lt;private&gt;&gt; Processes a specified signal. </p>
<p>Currently only SIGKILL signal is handled that causes the task to terminate returned status for the method pump - TCMI_TASK_KILL_ME. Final solution should do a full signal handling and communicate with the shadow too.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*self</td><td>- pointer to this task instance </td></tr>
    <tr><td class="paramname">signr</td><td>- signal that is to be processed </td></tr>
    <tr><td class="paramname">*info</td><td>- info for signal to be processed</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TCMI_TASK_KEEP_PUMPING on any signal but SIGKILL </dd></dl>

<p>Definition at line <a class="el" href="../../d3/d25/kernel__3_87_81_2src_2tcmi_2task_2tcmi__guesttask_8c_source.html#l00272">272</a> of file <a class="el" href="../../d3/d25/kernel__3_87_81_2src_2tcmi_2task_2tcmi__guesttask_8c_source.html">tcmi_guesttask.c</a>.</p>

<p>References <a class="el" href="../../de/d8f/kernel__2_86_833_81_2src_2dbg_8h_source.html#l00220">mdbg</a>, <a class="el" href="../../d8/d48/kernel__2_86_833_81_2src_2tcmi_2task_2tcmi__task_8h_source.html#l00252">TCMI_TASK_KEEP_PUMPING</a>, and <a class="el" href="../../d8/d48/kernel__2_86_833_81_2src_2tcmi_2task_2tcmi__task_8h_source.html#l00367">tcmi_task_set_exit_code()</a>.</p>
<div class="fragment"><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;{</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    <span class="keywordtype">int</span> res = <a class="code" href="../../de/d2f/group__tcmi__task__class.html#ggaa81f1a7178bfcf01d74e57d6bbcb869bafa7c813a4364ccccdc1edfd29839c675">TCMI_TASK_KEEP_PUMPING</a>;</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    <a class="code" href="../../de/d8f/kernel__2_86_833_81_2src_2dbg_8h.html#a881516d8ffc635f7f0e87468340c80dc">mdbg</a>(INFO2, <span class="stringliteral">&quot;Stub is processing signal %lu&quot;</span>, signr);</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    <span class="keywordflow">if</span> (signr == SIGKILL || signr == SIGQUIT || signr == SIGINT) {</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;        <a class="code" href="../../de/d2f/group__tcmi__task__class.html#gad2304b37598ad3c64f6a24f0ed0064de" title="&lt;&lt;public&gt;&gt; Exit code setter.">tcmi_task_set_exit_code</a>(<span class="keyword">self</span>, signr);</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;        <span class="comment">// We have to return keep pumping, because following do_exit call will invoke exit hook and it should be handled by the method pump!</span></div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;        res = <a class="code" href="../../de/d2f/group__tcmi__task__class.html#ggaa81f1a7178bfcf01d74e57d6bbcb869bafa7c813a4364ccccdc1edfd29839c675">TCMI_TASK_KEEP_PUMPING</a>;</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    }</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    <span class="keywordflow">return</span> res;</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;}</div>
</div><!-- fragment -->
<p><div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../d3/d25/kernel__3_87_81_2src_2tcmi_2task_2tcmi__guesttask_8c_ga0d7c79c7e1a2ef3a36c46056621576f2_cgraph.png" border="0" usemap="#d3/d25/kernel__3_87_81_2src_2tcmi_2task_2tcmi__guesttask_8c_ga0d7c79c7e1a2ef3a36c46056621576f2_cgraph" alt=""/></div>
<map name="d3/d25/kernel__3_87_81_2src_2tcmi_2task_2tcmi__guesttask_8c_ga0d7c79c7e1a2ef3a36c46056621576f2_cgraph" id="d3/d25/kernel__3_87_81_2src_2tcmi_2task_2tcmi__guesttask_8c_ga0d7c79c7e1a2ef3a36c46056621576f2_cgraph">
<area shape="rect" id="node2" href="../../de/d2f/group__tcmi__task__class.html#gad2304b37598ad3c64f6a24f0ed0064de" title="&lt;&lt;public&gt;&gt; Exit code setter." alt="" coords="227,5,394,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gac8d8c619e9dc86a39ebce00d01030831"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int tcmi_guesttask_emigrate_p </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../de/d2f/group__tcmi__task__class.html#d1/dd2/structtcmi__task">tcmi_task</a> *&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>&lt;&lt;private&gt;&gt; Emigrates a task to a PEN. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*self</td><td>- pointer to this task instance </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>result of the task specific emigrate method or TCMI_TASK_KEEP_PUMPING </dd></dl>

<p>Definition at line <a class="el" href="../../d3/d25/kernel__3_87_81_2src_2tcmi_2task_2tcmi__guesttask_8c_source.html#l00136">136</a> of file <a class="el" href="../../d3/d25/kernel__3_87_81_2src_2tcmi_2task_2tcmi__guesttask_8c_source.html">tcmi_guesttask.c</a>.</p>

<p>References <a class="el" href="../../d8/d48/kernel__2_86_833_81_2src_2tcmi_2task_2tcmi__task_8h_source.html#l00252">TCMI_TASK_KEEP_PUMPING</a>.</p>
<div class="fragment"><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;{</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    <span class="keywordtype">int</span> res = <a class="code" href="../../de/d2f/group__tcmi__task__class.html#ggaa81f1a7178bfcf01d74e57d6bbcb869bafa7c813a4364ccccdc1edfd29839c675">TCMI_TASK_KEEP_PUMPING</a>;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;<span class="comment">/*  struct tcmi_guesttask *self_tsk = TCMI_GUESTTASK(self);*/</span></div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    <span class="keywordflow">return</span> res;</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga21fc3a398e6663b285ea3ef21f81629f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int tcmi_guesttask_exit </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../de/d2f/group__tcmi__task__class.html#d1/dd2/structtcmi__task">tcmi_task</a> *&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>code</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>&lt;&lt;private&gt;&gt; Exit notification for the shadow on CCN. </p>
<p>This method is scheduled by the exit system call hook that also invokes the migration mode handler. It sends an exit process control message to the shadow. No response is expected, the message content is the exit code. The method terminates with TCMI_TASK_REMOVE_AND_LET_ME_GO - explained below</p>
<dl class="section return"><dt>Returns</dt><dd>TCMI_TASK_REMOVE_AND_LET_ME_GO, so that the migration component destroys this task. It doesn't itentionally return TCMI_TASK_KILL_ME as it would cause another round of exit, this time using complete_and_exit() </dd></dl>
<p>Sync proxyfs files only if peer is alive, else this call makes no sense </p>

<p>Definition at line <a class="el" href="../../d3/d25/kernel__3_87_81_2src_2tcmi_2task_2tcmi__guesttask_8c_source.html#l00237">237</a> of file <a class="el" href="../../d3/d25/kernel__3_87_81_2src_2tcmi_2task_2tcmi__guesttask_8c_source.html">tcmi_guesttask.c</a>.</p>

<p>References <a class="el" href="../../de/d8f/kernel__2_86_833_81_2src_2dbg_8h_source.html#l00220">mdbg</a>, <a class="el" href="../../d9/d21/kernel__2_86_833_81_2src_2proxyfs_2proxyfs__helper_8h_source.html#l00208">proxyfs_sync_files_on_exit()</a>, <a class="el" href="../../d9/d03/kernel__2_86_833_81_2src_2proxyfs_2proxyfs__server_8c_source.html#l00059">self</a>, <a class="el" href="../../d8/d5e/kernel__2_86_833_81_2src_2tcmi_2comm_2tcmi__exit__procmsg_8c_source.html#l00092">tcmi_exit_procmsg_new_tx()</a>, <a class="el" href="../../df/d27/kernel__2_86_833_81_2src_2tcmi_2comm_2tcmi__msg_8h_source.html#l00212">tcmi_msg_put()</a>, <a class="el" href="../../d8/d48/kernel__2_86_833_81_2src_2tcmi_2task_2tcmi__task_8h_source.html#l00422">tcmi_task_remote_pid()</a>, <a class="el" href="../../d8/d48/kernel__2_86_833_81_2src_2tcmi_2task_2tcmi__task_8h_source.html#l00257">TCMI_TASK_REMOVE_AND_LET_ME_GO</a>, and <a class="el" href="../../d8/d48/kernel__2_86_833_81_2src_2tcmi_2task_2tcmi__task_8h_source.html#l00524">tcmi_task_send_anonymous_msg()</a>.</p>
<div class="fragment"><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;{</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d6/dc2/group__tcmi__msg__class.html#d0/d5b/structtcmi__msg" title="A coumpound structure that carries a generic TCMI message.">tcmi_msg</a> *m;</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    <span class="comment"></span></div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;<span class="comment">    /** Sync proxyfs files only if peer is alive, else this call makes no sense */</span></div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    <span class="keywordflow">if</span> ( !self-&gt;<a class="code" href="../../de/d2f/group__tcmi__task__class.html#abe0af04d790416a4840a39d2ef5465ea" title="Flag used to inform the task that its peer is lost and it should terminate.">peer_lost</a> )</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;        <a class="code" href="../../d9/d21/kernel__2_86_833_81_2src_2proxyfs_2proxyfs__helper_8h.html#a9c20f5bd7542a43136e9ac435aa9dee5" title="Synchronizes all files open by &quot;current&quot; process.">proxyfs_sync_files_on_exit</a>();</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <a class="code" href="../../de/d8f/kernel__2_86_833_81_2src_2dbg_8h.html#a881516d8ffc635f7f0e87468340c80dc">mdbg</a>(INFO2, <span class="stringliteral">&quot;Stub process &#39;%s&#39; local PID=%d terminating&quot;</span>, </div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;          current-&gt;comm, current-&gt;pid);</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    <span class="keywordflow">if</span> (!(m = <a class="code" href="../../d4/d5a/group__tcmi__exit__procmsg__class.html#ga4d0e9afc9e69c4260b898e672262aa04" title="&lt;&gt;&gt; Exit message tx constructor.">tcmi_exit_procmsg_new_tx</a>(<a class="code" href="../../de/d2f/group__tcmi__task__class.html#ga2f054ae4772c0921004eebdb48d39dcf" title="&lt;&lt;public&gt;&gt; Remote PID accessor.">tcmi_task_remote_pid</a>(<span class="keyword">self</span>), code))) {</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;        <a class="code" href="../../de/d8f/kernel__2_86_833_81_2src_2dbg_8h.html#a881516d8ffc635f7f0e87468340c80dc">mdbg</a>(ERR3, <span class="stringliteral">&quot;Can&#39;t create error message&quot;</span>);</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;        <span class="keywordflow">goto</span> exit0;</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    }</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    <span class="comment">/* send it as anonymous since no response is expected. */</span></div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    <a class="code" href="../../de/d2f/group__tcmi__task__class.html#ga4e660ea948542a5a057e25640a762efc" title="&lt;&lt;public&gt;&gt; Sends a specified message.">tcmi_task_send_anonymous_msg</a>(<span class="keyword">self</span>, m);</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    <span class="comment">/* dispose the message not needed anymore. */</span></div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    <a class="code" href="../../d6/dc2/group__tcmi__msg__class.html#gac86a4090b7e1902ef603cb03191d6281" title="&lt;&lt;public&gt;&gt; Decrements reference counter, if it reaches 0 the custom free method is called if defined...">tcmi_msg_put</a>(m);</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160; exit0:</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../de/d2f/group__tcmi__task__class.html#ggaa81f1a7178bfcf01d74e57d6bbcb869bade59423de18b4fdc67a09f36b7cd71aa">TCMI_TASK_REMOVE_AND_LET_ME_GO</a>;</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;}</div>
</div><!-- fragment -->
<p><div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../d3/d25/kernel__3_87_81_2src_2tcmi_2task_2tcmi__guesttask_8c_ga21fc3a398e6663b285ea3ef21f81629f_cgraph.png" border="0" usemap="#d3/d25/kernel__3_87_81_2src_2tcmi_2task_2tcmi__guesttask_8c_ga21fc3a398e6663b285ea3ef21f81629f_cgraph" alt=""/></div>
<map name="d3/d25/kernel__3_87_81_2src_2tcmi_2task_2tcmi__guesttask_8c_ga21fc3a398e6663b285ea3ef21f81629f_cgraph" id="d3/d25/kernel__3_87_81_2src_2tcmi_2task_2tcmi__guesttask_8c_ga21fc3a398e6663b285ea3ef21f81629f_cgraph">
<area shape="rect" id="node2" href="../../d9/d21/kernel__2_86_833_81_2src_2proxyfs_2proxyfs__helper_8h.html#a9c20f5bd7542a43136e9ac435aa9dee5" title="Synchronizes all files open by &quot;current&quot; process." alt="" coords="238,5,367,46"/><area shape="rect" id="node3" href="../../d4/d5a/group__tcmi__exit__procmsg__class.html#ga4d0e9afc9e69c4260b898e672262aa04" title="&lt;&gt;&gt; Exit message tx constructor." alt="" coords="213,71,393,97"/><area shape="rect" id="node4" href="../../d6/dc2/group__tcmi__msg__class.html#gac86a4090b7e1902ef603cb03191d6281" title="&lt;&lt;public&gt;&gt; Decrements reference counter, if it reaches 0 the custom free method is called if defined..." alt="" coords="251,121,355,148"/><area shape="rect" id="node6" href="../../de/d2f/group__tcmi__task__class.html#ga2f054ae4772c0921004eebdb48d39dcf" title="&lt;&lt;public&gt;&gt; Remote PID accessor." alt="" coords="227,172,378,199"/><area shape="rect" id="node7" href="../../de/d2f/group__tcmi__task__class.html#ga4e660ea948542a5a057e25640a762efc" title="&lt;&lt;public&gt;&gt; Sends a specified message." alt="" coords="193,223,413,249"/><area shape="rect" id="node5" href="../../d4/d8c/group__tcmi__transaction__class.html#ga2748d267a8fddd1ced86e73ba8efd079" title="&lt;&lt;public&gt;&gt; Releases the instance." alt="" coords="485,121,627,148"/><area shape="rect" id="node8" href="../../d6/dc2/group__tcmi__msg__class.html#ga7a8fe8cbfd4b25c15589c8599f66e574" title="&lt;&lt;public&gt;&gt; Sends a message via a specified connection." alt="" coords="462,223,650,249"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga8adddfca18c4106695fe90181fec0378"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static enum tcmi_task_type tcmi_guesttask_get_type </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return type of task. </p>
<p>Only for setting task type to kernel task_struct. Polymorphism cannot be used in kernel, bacause <a class="el" href="../../de/d2f/group__tcmi__task__class.html#d1/dd2/structtcmi__task" title="Compound structure that gathers necessary process information.">tcmi_task</a> is defined outside of kernel. </p>

<p>Definition at line <a class="el" href="../../d3/d25/kernel__3_87_81_2src_2tcmi_2task_2tcmi__guesttask_8c_source.html#l00421">421</a> of file <a class="el" href="../../d3/d25/kernel__3_87_81_2src_2tcmi_2task_2tcmi__guesttask_8c_source.html">tcmi_guesttask.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;                                                        {</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    <span class="keywordflow">return</span> guest;</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga43e0985d5863cbc32047f46a1d910824"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int tcmi_guesttask_migrateback_p </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../de/d2f/group__tcmi__task__class.html#d1/dd2/structtcmi__task">tcmi_task</a> *&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d60/kernel__3_87_81_2src_2tcmi_2migration_2tcmi__npm__params_8h.html#db/d53/structtcmi__npm__params">tcmi_npm_params</a> *&#160;</td>
          <td class="paramname"><em>npm_params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Internal helper method for performing both npm/ppm physical migration back to ccn. </p>
<dl class="section return"><dt>Returns</dt><dd>0 on success, error code otherwise </dd></dl>

<p>Definition at line <a class="el" href="../../d3/d25/kernel__3_87_81_2src_2tcmi_2task_2tcmi__guesttask_8c_source.html#l00149">149</a> of file <a class="el" href="../../d3/d25/kernel__3_87_81_2src_2tcmi_2task_2tcmi__guesttask_8c_source.html">tcmi_guesttask.c</a>.</p>

<p>References <a class="el" href="../../d7/d4a/kernel__2_86_833_81_2src_2director_2director_8c_source.html#l00118">director_migrated_home()</a>, <a class="el" href="../../de/d8f/kernel__2_86_833_81_2src_2dbg_8h_source.html#l00220">mdbg</a>, <a class="el" href="../../df/d27/kernel__2_86_833_81_2src_2tcmi_2comm_2tcmi__msg_8h_source.html#l00114">req</a>, <a class="el" href="../../df/d27/kernel__2_86_833_81_2src_2tcmi_2comm_2tcmi__msg_8h_source.html#l00212">tcmi_msg_put()</a>, <a class="el" href="../../d4/d43/kernel__2_86_833_81_2src_2tcmi_2comm_2tcmi__ppm__p__migr__back__guestreq__procmsg_8c_source.html#l00096">tcmi_ppm_p_migr_back_guestreq_procmsg_new_tx()</a>, <a class="el" href="../../d8/d48/kernel__2_86_833_81_2src_2tcmi_2task_2tcmi__task_8h_source.html#l00648">tcmi_task_check_peer_lost()</a>, <a class="el" href="../../d8/d48/kernel__2_86_833_81_2src_2tcmi_2task_2tcmi__task_8h_source.html#l00400">tcmi_task_ckpt_name()</a>, <a class="el" href="../../d8/d48/kernel__2_86_833_81_2src_2tcmi_2task_2tcmi__task_8h_source.html#l00411">tcmi_task_local_pid()</a>, <a class="el" href="../../d8/d48/kernel__2_86_833_81_2src_2tcmi_2task_2tcmi__task_8h_source.html#l00422">tcmi_task_remote_pid()</a>, <a class="el" href="../../d8/d48/kernel__2_86_833_81_2src_2tcmi_2task_2tcmi__task_8h_source.html#l00524">tcmi_task_send_anonymous_msg()</a>, <a class="el" href="../../dd/d82/kernel__2_86_833_81_2src_2tcmi_2task_2tcmi__taskhelper_8h_source.html#l00620">tcmi_taskhelper_checkpoint()</a>, and <a class="el" href="../../dd/d82/kernel__2_86_833_81_2src_2tcmi_2task_2tcmi__taskhelper_8h_source.html#l00728">tcmi_taskhelper_flushfiles()</a>.</p>

<p>Referenced by <a class="el" href="../../d3/d25/kernel__3_87_81_2src_2tcmi_2task_2tcmi__guesttask_8c_source.html#l00201">tcmi_guesttask_migrateback_ppm_p()</a>.</p>
<div class="fragment"><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;                                                                                                    {</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d6/dc2/group__tcmi__msg__class.html#d0/d5b/structtcmi__msg" title="A coumpound structure that carries a generic TCMI message.">tcmi_msg</a> *<a class="code" href="../../df/d27/kernel__2_86_833_81_2src_2tcmi_2comm_2tcmi__msg_8h.html#a523c18bfd05e923b099719721b24db7d" title="request transaction ID">req</a>;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    <a class="code" href="../../de/d8f/kernel__2_86_833_81_2src_2dbg_8h.html#a881516d8ffc635f7f0e87468340c80dc">mdbg</a>(INFO2, <span class="stringliteral">&quot;Process &#39;%s&#39; - guest local PID %d, migrating back (npm params: %p)&quot;</span>, current-&gt;comm, <a class="code" href="../../de/d2f/group__tcmi__task__class.html#ga0232aeae006148ffa6c760e7f1979865" title="&lt;&lt;public&gt;&gt; Local PID accessor.">tcmi_task_local_pid</a>(<span class="keyword">self</span>), npm_params);</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d2/daf/group__tcmi__taskhelper__class.html#ga6c7491a9027159fd5a293bae24689a3c" title="&lt;&lt;public&gt;&gt; Creates a new checkpoint of the process.">tcmi_taskhelper_checkpoint</a>(<span class="keyword">self</span>, npm_params) &lt; 0) {</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;        <a class="code" href="../../de/d8f/kernel__2_86_833_81_2src_2dbg_8h.html#a881516d8ffc635f7f0e87468340c80dc">mdbg</a>(ERR3, <span class="stringliteral">&quot;Failed to create a checkpoint&quot;</span>);</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        <span class="keywordflow">goto</span> exit0;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    }</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    <a class="code" href="../../d2/daf/group__tcmi__taskhelper__class.html#ga403923e3422bd06870e36c8951def7fb" title="&lt;&lt;public&gt;&gt; Flushing files is required prior to issuing a migrate request.">tcmi_taskhelper_flushfiles</a>();</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <span class="keywordflow">if</span> (!(req = <a class="code" href="../../d4/d84/group__tcmi__ppm__p__migr__back__guestreq__procmsg__class.html#gab81fab79aef64096fe5ec4a5cb95ac56" title="&lt;&lt;public&gt;&gt; Guest request for migration back tx constructor.">tcmi_ppm_p_migr_back_guestreq_procmsg_new_tx</a>(<a class="code" href="../../de/d2f/group__tcmi__task__class.html#ga2f054ae4772c0921004eebdb48d39dcf" title="&lt;&lt;public&gt;&gt; Remote PID accessor.">tcmi_task_remote_pid</a>(<span class="keyword">self</span>), <a class="code" href="../../de/d2f/group__tcmi__task__class.html#ga44b0c0c985d4c3954c6e35d748d9638b" title="&lt;&lt;public&gt;&gt; Task checkpoint pathname accessor.">tcmi_task_ckpt_name</a>(<span class="keyword">self</span>)))) {</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;        <a class="code" href="../../de/d8f/kernel__2_86_833_81_2src_2dbg_8h.html#a881516d8ffc635f7f0e87468340c80dc">mdbg</a>(ERR3, <span class="stringliteral">&quot;Error creating a migration back message&quot;</span>);</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;        <span class="keywordflow">goto</span> exit0;</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    }</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../de/d2f/group__tcmi__task__class.html#gac04862f389dea22fbd5b8dc8f642ca9c" title="Simple error checking method to be used after communication operations to detect lost peer...">tcmi_task_check_peer_lost</a>(<span class="keyword">self</span>, <a class="code" href="../../de/d2f/group__tcmi__task__class.html#ga4e660ea948542a5a057e25640a762efc" title="&lt;&lt;public&gt;&gt; Sends a specified message.">tcmi_task_send_anonymous_msg</a>(<span class="keyword">self</span>, req)) &lt; 0) {</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;        <a class="code" href="../../de/d8f/kernel__2_86_833_81_2src_2dbg_8h.html#a881516d8ffc635f7f0e87468340c80dc">mdbg</a>(ERR3, <span class="stringliteral">&quot;Failed to send message!!&quot;</span>);</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;        <span class="keywordflow">goto</span> exit1;</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    }</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    <a class="code" href="../../d7/d4a/kernel__2_86_833_81_2src_2director_2director_8c.html#a9fd5fd27dc9136a646bb89efa3c909f7" title="Called, when a task migrates home.">director_migrated_home</a>(<a class="code" href="../../de/d2f/group__tcmi__task__class.html#ga0232aeae006148ffa6c760e7f1979865" title="&lt;&lt;public&gt;&gt; Local PID accessor.">tcmi_task_local_pid</a>(<span class="keyword">self</span>));</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    </div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160; exit1:</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    <a class="code" href="../../d6/dc2/group__tcmi__msg__class.html#gac86a4090b7e1902ef603cb03191d6281" title="&lt;&lt;public&gt;&gt; Decrements reference counter, if it reaches 0 the custom free method is called if defined...">tcmi_msg_put</a>(req);</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160; exit0:</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <span class="keywordflow">return</span> -EFAULT;</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;}</div>
</div><!-- fragment -->
<p><div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../d3/d25/kernel__3_87_81_2src_2tcmi_2task_2tcmi__guesttask_8c_ga43e0985d5863cbc32047f46a1d910824_cgraph.png" border="0" usemap="#d3/d25/kernel__3_87_81_2src_2tcmi_2task_2tcmi__guesttask_8c_ga43e0985d5863cbc32047f46a1d910824_cgraph" alt=""/></div>
<map name="d3/d25/kernel__3_87_81_2src_2tcmi_2task_2tcmi__guesttask_8c_ga43e0985d5863cbc32047f46a1d910824_cgraph" id="d3/d25/kernel__3_87_81_2src_2tcmi_2task_2tcmi__guesttask_8c_ga43e0985d5863cbc32047f46a1d910824_cgraph">
<area shape="rect" id="node2" href="../../d7/d4a/kernel__2_86_833_81_2src_2director_2director_8c.html#a9fd5fd27dc9136a646bb89efa3c909f7" title="Called, when a task migrates home." alt="" coords="286,5,447,32"/><area shape="rect" id="node3" href="../../d6/dc2/group__tcmi__msg__class.html#gac86a4090b7e1902ef603cb03191d6281" title="&lt;&lt;public&gt;&gt; Decrements reference counter, if it reaches 0 the custom free method is called if defined..." alt="" coords="315,56,419,83"/><area shape="rect" id="node5" href="../../d4/d84/group__tcmi__ppm__p__migr__back__guestreq__procmsg__class.html#gab81fab79aef64096fe5ec4a5cb95ac56" title="&lt;&lt;public&gt;&gt; Guest request for migration back tx constructor." alt="" coords="275,107,459,149"/><area shape="rect" id="node6" href="../../de/d2f/group__tcmi__task__class.html#gac04862f389dea22fbd5b8dc8f642ca9c" title="Simple error checking method to be used after communication operations to detect lost peer..." alt="" coords="276,173,457,200"/><area shape="rect" id="node11" href="../../de/d2f/group__tcmi__task__class.html#ga44b0c0c985d4c3954c6e35d748d9638b" title="&lt;&lt;public&gt;&gt; Task checkpoint pathname accessor." alt="" coords="291,224,442,251"/><area shape="rect" id="node10" href="../../de/d2f/group__tcmi__task__class.html#ga0232aeae006148ffa6c760e7f1979865" title="&lt;&lt;public&gt;&gt; Local PID accessor." alt="" coords="1001,268,1138,295"/><area shape="rect" id="node12" href="../../de/d2f/group__tcmi__task__class.html#ga2f054ae4772c0921004eebdb48d39dcf" title="&lt;&lt;public&gt;&gt; Remote PID accessor." alt="" coords="291,325,442,352"/><area shape="rect" id="node13" href="../../de/d2f/group__tcmi__task__class.html#ga4e660ea948542a5a057e25640a762efc" title="&lt;&lt;public&gt;&gt; Sends a specified message." alt="" coords="257,376,477,403"/><area shape="rect" id="node15" href="../../d2/daf/group__tcmi__taskhelper__class.html#ga6c7491a9027159fd5a293bae24689a3c" title="&lt;&lt;public&gt;&gt; Creates a new checkpoint of the process." alt="" coords="275,427,459,453"/><area shape="rect" id="node20" href="../../d2/daf/group__tcmi__taskhelper__class.html#ga403923e3422bd06870e36c8951def7fb" title="&lt;&lt;public&gt;&gt; Flushing files is required prior to issuing a migrate request." alt="" coords="281,477,452,504"/><area shape="rect" id="node4" href="../../d4/d8c/group__tcmi__transaction__class.html#ga2748d267a8fddd1ced86e73ba8efd079" title="&lt;&lt;public&gt;&gt; Releases the instance." alt="" coords="558,56,701,83"/><area shape="rect" id="node7" href="../../de/d2f/group__tcmi__task__class.html#gad2d3dad02cf555da12cb2926cebb25f6" title="Notifies task that it peer is lost and sends a kill signal to that task." alt="" coords="539,199,719,225"/><area shape="rect" id="node8" href="../../de/d2f/group__tcmi__task__class.html#gac263213bf219960dea9c7d4b4e6f3b34" title="Returns a task_struct associated with the tcmi_task." alt="" coords="782,212,951,239"/><area shape="rect" id="node9" href="../../d7/d75/kernel__2_86_833_81_2src_2tcmi_2lib_2util_8h.html#a5f449355b8f54aaed664de85f89092ea" title="task_find_by_pid" alt="" coords="1010,212,1129,239"/><area shape="rect" id="node14" href="../../d6/dc2/group__tcmi__msg__class.html#ga7a8fe8cbfd4b25c15589c8599f66e574" title="&lt;&lt;public&gt;&gt; Sends a message via a specified connection." alt="" coords="535,325,723,352"/><area shape="rect" id="node16" href="../../de/d2f/group__tcmi__task__class.html#ga24a9d8c612da1a4484b1b3a28a181c15" title="&lt;&lt;public&gt;&gt; Prepares execution of a file given the arrays of arguments and environment." alt="" coords="541,376,717,403"/><area shape="rect" id="node17" href="../../d4/dcf/group__tcmi__ckptcom__class.html#gaf223b90f9bab6b4b553448917adbbd08" title="&lt;&lt;public&gt;&gt; Creates a non&#45;preemptive process checkpoint." alt="" coords="526,427,733,453"/><area shape="rect" id="node18" href="../../de/d2f/group__tcmi__task__class.html#gade1e8f7b12614ca0fecbc40aaae9a6c5" title="&lt;&lt;public&gt;&gt; Process context accessor." alt="" coords="565,477,694,504"/><area shape="rect" id="node19" href="../../d4/dcf/group__tcmi__ckptcom__class.html#ga87d900819b5cc6bbe1144e22d4e03836" title="&lt;&lt;public&gt;&gt; Creates a preemptive process checkpoint." alt="" coords="526,528,733,555"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga1f99fbedfc6a18e6cfb4d6502f1a8825"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int tcmi_guesttask_migrateback_ppm_p </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../de/d2f/group__tcmi__task__class.html#d1/dd2/structtcmi__task">tcmi_task</a> *&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>&lt;&lt;private&gt;&gt; Migrates a task back to CCN using PPM with physical checkpoint image. </p>
<p>This requires:</p>
<ul>
<li>creating a new checkpoint of the current process (task helper job)</li>
<li>flush open files of the current process (prevents write conflicts after checkpoint restart)</li>
<li>communicating the checkpoint name to the shadow</li>
<li>terminating (via KILL_ME status)</li>
</ul>
<p>There are two modes how the migration back can be initiated:</p>
<ol type="1">
<li>PEN decides to migrate the task back - in that case, the migration back message is sent as a request (trans_id is set to invalid)</li>
<li>CCN decides to migrate the task back - the migration back message is sent back as a response and as such is associated with a transaction. This method handles the first case. : The second method is also handled here, but not exactly as described.. CCN send asynchronous request to migrate back and then the guest initiates the processing of migration back.. we should likely rework it on transactional case described above</li>
</ol>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*self</td><td>- pointer to this task instance </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TCMI_KILL_ME in either case (should it fail or not) as we want the task away from the PEN. </dd></dl>

<p>Definition at line <a class="el" href="../../d3/d25/kernel__3_87_81_2src_2tcmi_2task_2tcmi__guesttask_8c_source.html#l00201">201</a> of file <a class="el" href="../../d3/d25/kernel__3_87_81_2src_2tcmi_2task_2tcmi__guesttask_8c_source.html">tcmi_guesttask.c</a>.</p>

<p>References <a class="el" href="../../d3/d25/kernel__3_87_81_2src_2tcmi_2task_2tcmi__guesttask_8c_source.html#l00149">tcmi_guesttask_migrateback_p()</a>, and <a class="el" href="../../d8/d48/kernel__2_86_833_81_2src_2tcmi_2task_2tcmi__task_8h_source.html#l00255">TCMI_TASK_KILL_ME</a>.</p>
<div class="fragment"><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;{</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <a class="code" href="../../d3/d25/kernel__3_87_81_2src_2tcmi_2task_2tcmi__guesttask_8c.html#ga43e0985d5863cbc32047f46a1d910824" title="Internal helper method for performing both npm/ppm physical migration back to ccn.">tcmi_guesttask_migrateback_p</a>(<span class="keyword">self</span>, NULL);</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <span class="comment">// Migration back was requested so we kill in either case</span></div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../de/d2f/group__tcmi__task__class.html#ggaa81f1a7178bfcf01d74e57d6bbcb869bad619e483cc5231333ada87518fb2b301">TCMI_TASK_KILL_ME</a>;</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;}</div>
</div><!-- fragment -->
<p><div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../d3/d25/kernel__3_87_81_2src_2tcmi_2task_2tcmi__guesttask_8c_ga1f99fbedfc6a18e6cfb4d6502f1a8825_cgraph.png" border="0" usemap="#d3/d25/kernel__3_87_81_2src_2tcmi_2task_2tcmi__guesttask_8c_ga1f99fbedfc6a18e6cfb4d6502f1a8825_cgraph" alt=""/></div>
<map name="d3/d25/kernel__3_87_81_2src_2tcmi_2task_2tcmi__guesttask_8c_ga1f99fbedfc6a18e6cfb4d6502f1a8825_cgraph" id="d3/d25/kernel__3_87_81_2src_2tcmi_2task_2tcmi__guesttask_8c_ga1f99fbedfc6a18e6cfb4d6502f1a8825_cgraph">
<area shape="rect" id="node2" href="../../d3/d25/kernel__3_87_81_2src_2tcmi_2task_2tcmi__guesttask_8c.html#ga43e0985d5863cbc32047f46a1d910824" title="Internal helper method for performing both npm/ppm physical migration back to ccn." alt="" coords="243,249,445,276"/><area shape="rect" id="node3" href="../../d7/d4a/kernel__2_86_833_81_2src_2director_2director_8c.html#a9fd5fd27dc9136a646bb89efa3c909f7" title="Called, when a task migrates home." alt="" coords="523,5,685,32"/><area shape="rect" id="node4" href="../../d6/dc2/group__tcmi__msg__class.html#gac86a4090b7e1902ef603cb03191d6281" title="&lt;&lt;public&gt;&gt; Decrements reference counter, if it reaches 0 the custom free method is called if defined..." alt="" coords="552,56,656,83"/><area shape="rect" id="node6" href="../../d4/d84/group__tcmi__ppm__p__migr__back__guestreq__procmsg__class.html#gab81fab79aef64096fe5ec4a5cb95ac56" title="&lt;&lt;public&gt;&gt; Guest request for migration back tx constructor." alt="" coords="512,107,696,149"/><area shape="rect" id="node7" href="../../de/d2f/group__tcmi__task__class.html#gac04862f389dea22fbd5b8dc8f642ca9c" title="Simple error checking method to be used after communication operations to detect lost peer..." alt="" coords="513,173,695,200"/><area shape="rect" id="node12" href="../../de/d2f/group__tcmi__task__class.html#ga44b0c0c985d4c3954c6e35d748d9638b" title="&lt;&lt;public&gt;&gt; Task checkpoint pathname accessor." alt="" coords="529,224,679,251"/><area shape="rect" id="node11" href="../../de/d2f/group__tcmi__task__class.html#ga0232aeae006148ffa6c760e7f1979865" title="&lt;&lt;public&gt;&gt; Local PID accessor." alt="" coords="1238,268,1375,295"/><area shape="rect" id="node13" href="../../de/d2f/group__tcmi__task__class.html#ga2f054ae4772c0921004eebdb48d39dcf" title="&lt;&lt;public&gt;&gt; Remote PID accessor." alt="" coords="529,325,679,352"/><area shape="rect" id="node14" href="../../de/d2f/group__tcmi__task__class.html#ga4e660ea948542a5a057e25640a762efc" title="&lt;&lt;public&gt;&gt; Sends a specified message." alt="" coords="494,376,714,403"/><area shape="rect" id="node16" href="../../d2/daf/group__tcmi__taskhelper__class.html#ga6c7491a9027159fd5a293bae24689a3c" title="&lt;&lt;public&gt;&gt; Creates a new checkpoint of the process." alt="" coords="512,427,696,453"/><area shape="rect" id="node21" href="../../d2/daf/group__tcmi__taskhelper__class.html#ga403923e3422bd06870e36c8951def7fb" title="&lt;&lt;public&gt;&gt; Flushing files is required prior to issuing a migrate request." alt="" coords="519,477,689,504"/><area shape="rect" id="node5" href="../../d4/d8c/group__tcmi__transaction__class.html#ga2748d267a8fddd1ced86e73ba8efd079" title="&lt;&lt;public&gt;&gt; Releases the instance." alt="" coords="795,56,938,83"/><area shape="rect" id="node8" href="../../de/d2f/group__tcmi__task__class.html#gad2d3dad02cf555da12cb2926cebb25f6" title="Notifies task that it peer is lost and sends a kill signal to that task." alt="" coords="777,199,957,225"/><area shape="rect" id="node9" href="../../de/d2f/group__tcmi__task__class.html#gac263213bf219960dea9c7d4b4e6f3b34" title="Returns a task_struct associated with the tcmi_task." alt="" coords="1019,212,1189,239"/><area shape="rect" id="node10" href="../../d7/d75/kernel__2_86_833_81_2src_2tcmi_2lib_2util_8h.html#a5f449355b8f54aaed664de85f89092ea" title="task_find_by_pid" alt="" coords="1247,212,1366,239"/><area shape="rect" id="node15" href="../../d6/dc2/group__tcmi__msg__class.html#ga7a8fe8cbfd4b25c15589c8599f66e574" title="&lt;&lt;public&gt;&gt; Sends a message via a specified connection." alt="" coords="773,325,961,352"/><area shape="rect" id="node17" href="../../de/d2f/group__tcmi__task__class.html#ga24a9d8c612da1a4484b1b3a28a181c15" title="&lt;&lt;public&gt;&gt; Prepares execution of a file given the arrays of arguments and environment." alt="" coords="779,376,955,403"/><area shape="rect" id="node18" href="../../d4/dcf/group__tcmi__ckptcom__class.html#gaf223b90f9bab6b4b553448917adbbd08" title="&lt;&lt;public&gt;&gt; Creates a non&#45;preemptive process checkpoint." alt="" coords="763,427,970,453"/><area shape="rect" id="node19" href="../../de/d2f/group__tcmi__task__class.html#gade1e8f7b12614ca0fecbc40aaae9a6c5" title="&lt;&lt;public&gt;&gt; Process context accessor." alt="" coords="802,477,931,504"/><area shape="rect" id="node20" href="../../d4/dcf/group__tcmi__ckptcom__class.html#ga87d900819b5cc6bbe1144e22d4e03836" title="&lt;&lt;public&gt;&gt; Creates a preemptive process checkpoint." alt="" coords="763,528,970,555"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga0855b260ad0e6d9be756d54d5b566d5d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int tcmi_guesttask_process_msg </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../de/d2f/group__tcmi__task__class.html#d1/dd2/structtcmi__task">tcmi_task</a> *&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d6/dc2/group__tcmi__msg__class.html#d0/d5b/structtcmi__msg">tcmi_msg</a> *&#160;</td>
          <td class="paramname"><em>m</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>&lt;&lt;private&gt;&gt; Processes a message specified by the caller. </p>
<p>It handles:</p>
<ul>
<li>physical emigration request - this is special - as the guest should turn eventually into a migrated process.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*self</td><td>- pointer to this task instance </td></tr>
    <tr><td class="paramname">*m</td><td>- message to be processed </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>depends on the type of message that has been processed </dd></dl>

<p>Definition at line <a class="el" href="../../d3/d25/kernel__3_87_81_2src_2tcmi_2task_2tcmi__guesttask_8c_source.html#l00101">101</a> of file <a class="el" href="../../d3/d25/kernel__3_87_81_2src_2tcmi_2task_2tcmi__guesttask_8c_source.html">tcmi_guesttask.c</a>.</p>

<p>References <a class="el" href="../../de/d8f/kernel__2_86_833_81_2src_2dbg_8h_source.html#l00220">mdbg</a>, <a class="el" href="../../de/d8f/kernel__2_86_833_81_2src_2dbg_8h_source.html#l00223">memory_sanity_check</a>, <a class="el" href="../../d3/d25/kernel__3_87_81_2src_2tcmi_2task_2tcmi__guesttask_8c_source.html#l00307">tcmi_guesttask_process_p_emigrate_msg()</a>, <a class="el" href="../../d3/d2d/kernel__2_86_833_81_2src_2tcmi_2migration_2tcmi__migcom_8c_source.html#l00409">tcmi_migcom_migrate_home_ppm_p()</a>, <a class="el" href="../../df/d27/kernel__2_86_833_81_2src_2tcmi_2comm_2tcmi__msg_8h_source.html#l00231">tcmi_msg_id()</a>, <a class="el" href="../../df/d27/kernel__2_86_833_81_2src_2tcmi_2comm_2tcmi__msg_8h_source.html#l00212">tcmi_msg_put()</a>, <a class="el" href="../../de/df5/kernel__2_86_833_81_2src_2tcmi_2comm_2tcmi__messages__id_8h_source.html#l00122">TCMI_P_EMIGRATE_MSG_ID</a>, <a class="el" href="../../de/df5/kernel__2_86_833_81_2src_2tcmi_2comm_2tcmi__messages__id_8h_source.html#l00136">TCMI_PPM_P_MIGR_BACK_SHADOWREQ_PROCMSG_ID</a>, <a class="el" href="../../d8/d48/kernel__2_86_833_81_2src_2tcmi_2task_2tcmi__task_8h_source.html#l00252">TCMI_TASK_KEEP_PUMPING</a>, and <a class="el" href="../../d8/d48/kernel__2_86_833_81_2src_2tcmi_2task_2tcmi__task_8h_source.html#l00411">tcmi_task_local_pid()</a>.</p>
<div class="fragment"><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;{</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <span class="keywordtype">int</span> res = <a class="code" href="../../de/d2f/group__tcmi__task__class.html#ggaa81f1a7178bfcf01d74e57d6bbcb869bafa7c813a4364ccccdc1edfd29839c675">TCMI_TASK_KEEP_PUMPING</a>;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    <span class="comment">/* struct tcmi_guesttask *self_tsk = TCMI_GUESTTASK(self); */</span></div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<a class="code" href="../../de/d8f/kernel__2_86_833_81_2src_2dbg_8h.html#a9c4ed0974203b4d07545e0f6904da15e">memory_sanity_check</a>(<span class="stringliteral">&quot;On process message&quot;</span>);</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="../../d6/dc2/group__tcmi__msg__class.html#ga73489766817f528da25369a3f4c713a1" title="&lt;&lt;public&gt;&gt; Message ID accessor.">tcmi_msg_id</a>(m)) {</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;        <span class="comment">/* task PPM phys. migration request */</span></div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d8/d9d/group__tcmi__messages__id.html#ggadc29c2ff13d900c2f185ee95427fb06caa8805a547c5695d62df4ae7e7b91e845">TCMI_P_EMIGRATE_MSG_ID</a>:</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;        res = <a class="code" href="../../d3/d25/kernel__3_87_81_2src_2tcmi_2task_2tcmi__guesttask_8c.html#ga16ed0a2983a1fc31c158cb1327af6580" title="&lt;&lt;private&gt;&gt; Processes the physical emigrate process message (both NPM and PPM)">tcmi_guesttask_process_p_emigrate_msg</a>(<span class="keyword">self</span>, m);</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d8/d9d/group__tcmi__messages__id.html#gga61dadd085c1777f559549e05962b2c9ea45c0e477e22d4de0a617c7dd19b75f16">TCMI_PPM_P_MIGR_BACK_SHADOWREQ_PROCMSG_ID</a>:</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;        <span class="comment">/* dispose the message not needed anymore. */</span></div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;        <a class="code" href="../../d6/dc2/group__tcmi__msg__class.html#gac86a4090b7e1902ef603cb03191d6281" title="&lt;&lt;public&gt;&gt; Decrements reference counter, if it reaches 0 the custom free method is called if defined...">tcmi_msg_put</a>(m);</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;        <span class="comment">/* Is there some better way to invoke self migration home? If we call directly migrate back of this task the method queue won&#39;t be flushed as in the case of this call. */</span></div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;        <a class="code" href="../../da/d93/group__tcmi__migcom__class.html#gadc5871d3fb9ab2901eabc69f9e3accc4" title="&lt;&lt;public&gt;&gt; Migrates a task back to its home node using preemptive migration with physical checkpoint ...">tcmi_migcom_migrate_home_ppm_p</a>(<a class="code" href="../../de/d2f/group__tcmi__task__class.html#ga0232aeae006148ffa6c760e7f1979865" title="&lt;&lt;public&gt;&gt; Local PID accessor.">tcmi_task_local_pid</a>(<span class="keyword">self</span>));</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;        <a class="code" href="../../de/d8f/kernel__2_86_833_81_2src_2dbg_8h.html#a881516d8ffc635f7f0e87468340c80dc">mdbg</a>(ERR3, <span class="stringliteral">&quot;Unexpected message from the guest task: %x&quot;</span>, <a class="code" href="../../d6/dc2/group__tcmi__msg__class.html#ga73489766817f528da25369a3f4c713a1" title="&lt;&lt;public&gt;&gt; Message ID accessor.">tcmi_msg_id</a>(m));</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    }</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<a class="code" href="../../de/d8f/kernel__2_86_833_81_2src_2dbg_8h.html#a9c4ed0974203b4d07545e0f6904da15e">memory_sanity_check</a>(<span class="stringliteral">&quot;After process message&quot;</span>);</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    <span class="keywordflow">return</span> res;</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;}</div>
</div><!-- fragment -->
<p><div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../d3/d25/kernel__3_87_81_2src_2tcmi_2task_2tcmi__guesttask_8c_ga0855b260ad0e6d9be756d54d5b566d5d_cgraph.png" border="0" usemap="#d3/d25/kernel__3_87_81_2src_2tcmi_2task_2tcmi__guesttask_8c_ga0855b260ad0e6d9be756d54d5b566d5d_cgraph" alt=""/></div>
<map name="d3/d25/kernel__3_87_81_2src_2tcmi_2task_2tcmi__guesttask_8c_ga0855b260ad0e6d9be756d54d5b566d5d_cgraph" id="d3/d25/kernel__3_87_81_2src_2tcmi_2task_2tcmi__guesttask_8c_ga0855b260ad0e6d9be756d54d5b566d5d_cgraph">
<area shape="rect" id="node2" href="../../d3/d25/kernel__3_87_81_2src_2tcmi_2task_2tcmi__guesttask_8c.html#ga16ed0a2983a1fc31c158cb1327af6580" title="&lt;&lt;private&gt;&gt; Processes the physical emigrate process message (both NPM and PPM)" alt="" coords="251,334,415,375"/><area shape="rect" id="node25" href="../../da/d93/group__tcmi__migcom__class.html#gadc5871d3fb9ab2901eabc69f9e3accc4" title="&lt;&lt;public&gt;&gt; Migrates a task back to its home node using preemptive migration with physical checkpoint ..." alt="" coords="258,494,409,535"/><area shape="rect" id="node26" href="../../d6/dc2/group__tcmi__msg__class.html#ga73489766817f528da25369a3f4c713a1" title="&lt;&lt;public&gt;&gt; Message ID accessor." alt="" coords="285,560,381,587"/><area shape="rect" id="node23" href="../../d6/dc2/group__tcmi__msg__class.html#gac86a4090b7e1902ef603cb03191d6281" title="&lt;&lt;public&gt;&gt; Decrements reference counter, if it reaches 0 the custom free method is called if defined..." alt="" coords="523,611,627,637"/><area shape="rect" id="node7" href="../../de/d2f/group__tcmi__task__class.html#ga0232aeae006148ffa6c760e7f1979865" title="&lt;&lt;public&gt;&gt; Local PID accessor." alt="" coords="1190,461,1327,488"/><area shape="rect" id="node3" href="../../df/df9/group__tcmi__p__emigrate__msg__class.html#ga4a20154039e0b8fe71be244c0cdb0919" title="&lt;&lt;public&gt;&gt; Remote PID accessor." alt="" coords="499,107,650,149"/><area shape="rect" id="node4" href="../../de/d2f/group__tcmi__task__class.html#ga60a2a872664867b7a86ec278b570fef2" title="&lt;&lt;public&gt;&gt; Remote PID setter." alt="" coords="487,173,662,200"/><area shape="rect" id="node8" href="../../df/df9/group__tcmi__p__emigrate__msg__class.html#ga63d0332412d2add383784a9b9ef2062d" title="&lt;&lt;public&gt;&gt; Checkpoint name accessor." alt="" coords="499,225,650,266"/><area shape="rect" id="node9" href="../../de/d2f/group__tcmi__task__class.html#ga2f054ae4772c0921004eebdb48d39dcf" title="&lt;&lt;public&gt;&gt; Remote PID accessor." alt="" coords="499,291,650,317"/><area shape="rect" id="node10" href="../../d2/daf/group__tcmi__taskhelper__class.html#ga1ff741911c123bcd7eb94d193f3bdc59" title="&lt;&lt;public&gt;&gt; Schedules a task restart from a given checkpoint image." alt="" coords="495,341,654,368"/><area shape="rect" id="node14" href="../../d2/d60/group__tcmi__err__procmsg__class.html#gae5322efeefc565378866b96c6cb101b3" title="&lt;&lt;public&gt;&gt; Error message constructor for transferring." alt="" coords="487,392,662,419"/><area shape="rect" id="node15" href="../../d6/dc2/group__tcmi__msg__class.html#ga5a09e9d377637eba6c3df1236fc97926" title="&lt;&lt;public&gt;&gt; Request transaction ID accessor." alt="" coords="514,443,635,469"/><area shape="rect" id="node16" href="../../d1/dc2/group__tcmi__guest__started__procmsg__class.html#ga68c13e4eb03cdbc808140006bcb5a2f7" title="&lt;&lt;public&gt;&gt; Guest started process message tx constructor." alt="" coords="508,494,641,535"/><area shape="rect" id="node17" href="../../de/d2f/group__tcmi__task__class.html#gac04862f389dea22fbd5b8dc8f642ca9c" title="Simple error checking method to be used after communication operations to detect lost peer..." alt="" coords="484,5,665,32"/><area shape="rect" id="node21" href="../../de/d2f/group__tcmi__task__class.html#ga4e660ea948542a5a057e25640a762efc" title="&lt;&lt;public&gt;&gt; Sends a specified message." alt="" coords="465,56,685,83"/><area shape="rect" id="node5" href="../../d1/de7/group__tcmi__ctlfs__file__class.html#gac720ca77312808db7cbbc645be8e3541" title="&lt;&lt;public&gt;&gt; Creates a new instance of a file." alt="" coords="755,173,901,200"/><area shape="rect" id="node6" href="../../de/d2f/group__tcmi__task__class.html#ga401654abdc812f0a923d05c95b412fb1" title="tcmi_task_show_remote\l_pid_rev" alt="" coords="975,355,1137,397"/><area shape="rect" id="node11" href="../../de/d2f/group__tcmi__task__class.html#ga24a9d8c612da1a4484b1b3a28a181c15" title="&lt;&lt;public&gt;&gt; Prepares execution of a file given the arrays of arguments and environment." alt="" coords="740,392,916,419"/><area shape="rect" id="node12" href="../../de/d2f/group__tcmi__task__class.html#ga2bf62635c09738ef0c1385ea258bec2f" title="&lt;&lt;public&gt;&gt; Flushes all pending methods in the queue submits a method for execution." alt="" coords="757,275,899,317"/><area shape="rect" id="node13" href="../../de/d2f/group__tcmi__task__class.html#gab1a418ac9d8b708dcee524671db07518" title="&lt;&lt;public&gt;&gt; Executes the file that has been previously setup for execution." alt="" coords="765,341,891,368"/><area shape="rect" id="node18" href="../../de/d2f/group__tcmi__task__class.html#gad2d3dad02cf555da12cb2926cebb25f6" title="Notifies task that it peer is lost and sends a kill signal to that task." alt="" coords="738,5,918,32"/><area shape="rect" id="node19" href="../../de/d2f/group__tcmi__task__class.html#gac263213bf219960dea9c7d4b4e6f3b34" title="Returns a task_struct associated with the tcmi_task." alt="" coords="971,155,1141,181"/><area shape="rect" id="node20" href="../../d7/d75/kernel__2_86_833_81_2src_2tcmi_2lib_2util_8h.html#a5f449355b8f54aaed664de85f89092ea" title="task_find_by_pid" alt="" coords="1199,155,1318,181"/><area shape="rect" id="node22" href="../../d6/dc2/group__tcmi__msg__class.html#ga7a8fe8cbfd4b25c15589c8599f66e574" title="&lt;&lt;public&gt;&gt; Sends a message via a specified connection." alt="" coords="734,56,922,83"/><area shape="rect" id="node24" href="../../d4/d8c/group__tcmi__transaction__class.html#ga2748d267a8fddd1ced86e73ba8efd079" title="&lt;&lt;public&gt;&gt; Releases the instance." alt="" coords="757,611,899,637"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga16ed0a2983a1fc31c158cb1327af6580"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int tcmi_guesttask_process_p_emigrate_msg </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../de/d2f/group__tcmi__task__class.html#d1/dd2/structtcmi__task">tcmi_task</a> *&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d6/dc2/group__tcmi__msg__class.html#d0/d5b/structtcmi__msg">tcmi_msg</a> *&#160;</td>
          <td class="paramname"><em>m</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>&lt;&lt;private&gt;&gt; Processes the physical emigrate process message (both NPM and PPM) </p>
<p>The remote PID is extracted from the emigration message and stored in the guest task. The checkpoint name is also extracted and passed to the task helper to schedule a restart. This also sets the checkpoint image as the most recent checkpoint of the task.</p>
<p>A response is sent back that will contain the guest task local PID. This PID is needed for further communication between the shadow and guest tasks.</p>
<p>The restart is only scheduled and will be processed upon next iteration of the method pump.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*self</td><td>- this guest task instance </td></tr>
    <tr><td class="paramname">*m</td><td>- Physical emigration message that will be proceseed </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TCMI_TASK_KEEP_PUMPING if the restart has been successfully scheduled </dd></dl>

<p>Definition at line <a class="el" href="../../d3/d25/kernel__3_87_81_2src_2tcmi_2task_2tcmi__guesttask_8c_source.html#l00307">307</a> of file <a class="el" href="../../d3/d25/kernel__3_87_81_2src_2tcmi_2task_2tcmi__guesttask_8c_source.html">tcmi_guesttask.c</a>.</p>

<p>References <a class="el" href="../../de/d8f/kernel__2_86_833_81_2src_2dbg_8h_source.html#l00220">mdbg</a>, <a class="el" href="../../de/d8f/kernel__2_86_833_81_2src_2dbg_8h_source.html#l00223">memory_sanity_check</a>, <a class="el" href="../../df/d27/kernel__2_86_833_81_2src_2tcmi_2comm_2tcmi__msg_8h_source.html#l00116">resp</a>, <a class="el" href="../../db/d66/kernel__2_86_833_81_2src_2tcmi_2comm_2tcmi__err__procmsg_8c_source.html#l00095">tcmi_err_procmsg_new_tx()</a>, <a class="el" href="../../de/df5/kernel__2_86_833_81_2src_2tcmi_2comm_2tcmi__messages__id_8h_source.html#l00134">TCMI_GUEST_STARTED_PROCMSG_ID</a>, <a class="el" href="../../dc/d34/kernel__2_86_833_81_2src_2tcmi_2comm_2tcmi__guest__started__procmsg_8c_source.html#l00094">tcmi_guest_started_procmsg_new_tx()</a>, <a class="el" href="../../df/d27/kernel__2_86_833_81_2src_2tcmi_2comm_2tcmi__msg_8h_source.html#l00212">tcmi_msg_put()</a>, <a class="el" href="../../df/d27/kernel__2_86_833_81_2src_2tcmi_2comm_2tcmi__msg_8h_source.html#l00255">tcmi_msg_req_id()</a>, <a class="el" href="../../d9/d05/kernel__2_86_833_81_2src_2tcmi_2comm_2tcmi__p__emigrate__msg_8h_source.html#l00106">TCMI_P_EMIGRATE_MSG</a>, <a class="el" href="../../d9/d05/kernel__2_86_833_81_2src_2tcmi_2comm_2tcmi__p__emigrate__msg_8h_source.html#l00136">tcmi_p_emigrate_msg_ckpt_name()</a>, <a class="el" href="../../d9/d05/kernel__2_86_833_81_2src_2tcmi_2comm_2tcmi__p__emigrate__msg_8h_source.html#l00114">tcmi_p_emigrate_msg_reply_pid()</a>, <a class="el" href="../../d8/d48/kernel__2_86_833_81_2src_2tcmi_2task_2tcmi__task_8h_source.html#l00648">tcmi_task_check_peer_lost()</a>, <a class="el" href="../../d8/d48/kernel__2_86_833_81_2src_2tcmi_2task_2tcmi__task_8h_source.html#l00252">TCMI_TASK_KEEP_PUMPING</a>, <a class="el" href="../../d8/d48/kernel__2_86_833_81_2src_2tcmi_2task_2tcmi__task_8h_source.html#l00255">TCMI_TASK_KILL_ME</a>, <a class="el" href="../../d8/d48/kernel__2_86_833_81_2src_2tcmi_2task_2tcmi__task_8h_source.html#l00411">tcmi_task_local_pid()</a>, <a class="el" href="../../d8/d48/kernel__2_86_833_81_2src_2tcmi_2task_2tcmi__task_8h_source.html#l00422">tcmi_task_remote_pid()</a>, <a class="el" href="../../d8/d48/kernel__2_86_833_81_2src_2tcmi_2task_2tcmi__task_8h_source.html#l00524">tcmi_task_send_anonymous_msg()</a>, <a class="el" href="../../d8/d48/kernel__2_86_833_81_2src_2tcmi_2task_2tcmi__task_8h_source.html#l00453">tcmi_task_set_remote_pid()</a>, and <a class="el" href="../../dd/d82/kernel__2_86_833_81_2src_2tcmi_2task_2tcmi__taskhelper_8h_source.html#l00700">tcmi_taskhelper_restart()</a>.</p>

<p>Referenced by <a class="el" href="../../d3/d25/kernel__3_87_81_2src_2tcmi_2task_2tcmi__guesttask_8c_source.html#l00101">tcmi_guesttask_process_msg()</a>.</p>
<div class="fragment"><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;{</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d6/dc2/group__tcmi__msg__class.html#d0/d5b/structtcmi__msg" title="A coumpound structure that carries a generic TCMI message.">tcmi_msg</a> *<a class="code" href="../../df/d27/kernel__2_86_833_81_2src_2tcmi_2comm_2tcmi__msg_8h.html#adb26817b6c4a9eeb3f68c832f24d5471" title="response transaction ID">resp</a>;</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    pid_t remote_pid;</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    <span class="keywordtype">char</span> *ckpt_name;</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    <span class="comment">/* extract the remote PID */</span></div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    remote_pid = <a class="code" href="../../df/df9/group__tcmi__p__emigrate__msg__class.html#ga4a20154039e0b8fe71be244c0cdb0919" title="&lt;&lt;public&gt;&gt; Remote PID accessor.">tcmi_p_emigrate_msg_reply_pid</a>(<a class="code" href="../../df/df9/group__tcmi__p__emigrate__msg__class.html#gaff84a941c39a708a128fb640ede3e9b4" title="Casts to the tcmi_p_emigrate_msg instance.">TCMI_P_EMIGRATE_MSG</a>(m));</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    <a class="code" href="../../de/d2f/group__tcmi__task__class.html#ga60a2a872664867b7a86ec278b570fef2" title="&lt;&lt;public&gt;&gt; Remote PID setter.">tcmi_task_set_remote_pid</a>(<span class="keyword">self</span>, remote_pid);</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    <span class="comment">/* extract the checkpoint name */</span></div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    ckpt_name =  <a class="code" href="../../df/df9/group__tcmi__p__emigrate__msg__class.html#ga63d0332412d2add383784a9b9ef2062d" title="&lt;&lt;public&gt;&gt; Checkpoint name accessor.">tcmi_p_emigrate_msg_ckpt_name</a>(<a class="code" href="../../df/df9/group__tcmi__p__emigrate__msg__class.html#gaff84a941c39a708a128fb640ede3e9b4" title="Casts to the tcmi_p_emigrate_msg instance.">TCMI_P_EMIGRATE_MSG</a>(m));</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;        </div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    <a class="code" href="../../de/d8f/kernel__2_86_833_81_2src_2dbg_8h.html#a881516d8ffc635f7f0e87468340c80dc">mdbg</a>(INFO2, <span class="stringliteral">&quot;Processing emigration request, remote PID=%d, checkpoint: &#39;%s&#39;&quot;</span>, <a class="code" href="../../de/d2f/group__tcmi__task__class.html#ga2f054ae4772c0921004eebdb48d39dcf" title="&lt;&lt;public&gt;&gt; Remote PID accessor.">tcmi_task_remote_pid</a>(<span class="keyword">self</span>), ckpt_name);</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;<a class="code" href="../../de/d8f/kernel__2_86_833_81_2src_2dbg_8h.html#a9c4ed0974203b4d07545e0f6904da15e">memory_sanity_check</a>(<span class="stringliteral">&quot;On processing&quot;</span>);</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    <span class="comment">/* schedules process restart from a checkpoint image */</span></div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d2/daf/group__tcmi__taskhelper__class.html#ga1ff741911c123bcd7eb94d193f3bdc59" title="&lt;&lt;public&gt;&gt; Schedules a task restart from a given checkpoint image.">tcmi_taskhelper_restart</a>(<span class="keyword">self</span>, ckpt_name) &lt; 0) {</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;        <span class="comment">/* report a problem */</span></div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;        <span class="keywordflow">if</span> (!(resp = <a class="code" href="../../d2/d60/group__tcmi__err__procmsg__class.html#gae5322efeefc565378866b96c6cb101b3" title="&lt;&lt;public&gt;&gt; Error message constructor for transferring.">tcmi_err_procmsg_new_tx</a>(<a class="code" href="../../d8/d9d/group__tcmi__messages__id.html#gga61dadd085c1777f559549e05962b2c9ea1fff522372aae1c3fa549658ef13d5ab">TCMI_GUEST_STARTED_PROCMSG_ID</a>, </div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;                             <a class="code" href="../../d6/dc2/group__tcmi__msg__class.html#ga5a09e9d377637eba6c3df1236fc97926" title="&lt;&lt;public&gt;&gt; Request transaction ID accessor.">tcmi_msg_req_id</a>(m), -ENOEXEC,</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;                             <a class="code" href="../../de/d2f/group__tcmi__task__class.html#ga2f054ae4772c0921004eebdb48d39dcf" title="&lt;&lt;public&gt;&gt; Remote PID accessor.">tcmi_task_remote_pid</a>(<span class="keyword">self</span>)))) {</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;                            </div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;            <a class="code" href="../../de/d8f/kernel__2_86_833_81_2src_2dbg_8h.html#a881516d8ffc635f7f0e87468340c80dc">mdbg</a>(ERR3, <span class="stringliteral">&quot;Cannot create a guest error response!!&quot;</span>);</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;            <span class="keywordflow">goto</span> exit0;</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;        } </div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;        <a class="code" href="../../de/d8f/kernel__2_86_833_81_2src_2dbg_8h.html#a9c4ed0974203b4d07545e0f6904da15e">memory_sanity_check</a>(<span class="stringliteral">&quot;After restart&quot;</span>);</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    }   </div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    <span class="comment">/* restart successfully scheduled, respond with our local PID */</span></div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;        <span class="keywordflow">if</span> (!(resp = <a class="code" href="../../d1/dc2/group__tcmi__guest__started__procmsg__class.html#ga68c13e4eb03cdbc808140006bcb5a2f7" title="&lt;&lt;public&gt;&gt; Guest started process message tx constructor.">tcmi_guest_started_procmsg_new_tx</a>(<a class="code" href="../../d6/dc2/group__tcmi__msg__class.html#ga5a09e9d377637eba6c3df1236fc97926" title="&lt;&lt;public&gt;&gt; Request transaction ID accessor.">tcmi_msg_req_id</a>(m), </div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;                                  <a class="code" href="../../de/d2f/group__tcmi__task__class.html#ga2f054ae4772c0921004eebdb48d39dcf" title="&lt;&lt;public&gt;&gt; Remote PID accessor.">tcmi_task_remote_pid</a>(<span class="keyword">self</span>), </div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;                                  <a class="code" href="../../de/d2f/group__tcmi__task__class.html#ga0232aeae006148ffa6c760e7f1979865" title="&lt;&lt;public&gt;&gt; Local PID accessor.">tcmi_task_local_pid</a>(<span class="keyword">self</span>)))) {</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;            <a class="code" href="../../de/d8f/kernel__2_86_833_81_2src_2dbg_8h.html#a881516d8ffc635f7f0e87468340c80dc">mdbg</a>(ERR3, <span class="stringliteral">&quot;Cannot create a guest response!!&quot;</span>);</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;            <span class="keywordflow">goto</span> exit0;</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;        }</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;        <a class="code" href="../../de/d8f/kernel__2_86_833_81_2src_2dbg_8h.html#a9c4ed0974203b4d07545e0f6904da15e">memory_sanity_check</a>(<span class="stringliteral">&quot;After restart 2&quot;</span>);</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    }</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    <span class="comment">/* preliminary announce - the guest has been started (execve still might fail) */</span></div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    <a class="code" href="../../de/d2f/group__tcmi__task__class.html#gac04862f389dea22fbd5b8dc8f642ca9c" title="Simple error checking method to be used after communication operations to detect lost peer...">tcmi_task_check_peer_lost</a>(<span class="keyword">self</span>, <a class="code" href="../../de/d2f/group__tcmi__task__class.html#ga4e660ea948542a5a057e25640a762efc" title="&lt;&lt;public&gt;&gt; Sends a specified message.">tcmi_task_send_anonymous_msg</a>(<span class="keyword">self</span>, resp));</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    <a class="code" href="../../d6/dc2/group__tcmi__msg__class.html#gac86a4090b7e1902ef603cb03191d6281" title="&lt;&lt;public&gt;&gt; Decrements reference counter, if it reaches 0 the custom free method is called if defined...">tcmi_msg_put</a>(resp);</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    </div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    </div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../de/d2f/group__tcmi__task__class.html#ggaa81f1a7178bfcf01d74e57d6bbcb869bafa7c813a4364ccccdc1edfd29839c675">TCMI_TASK_KEEP_PUMPING</a>;</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;        </div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    <span class="comment">/* error handling */</span></div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160; exit0:</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../de/d2f/group__tcmi__task__class.html#ggaa81f1a7178bfcf01d74e57d6bbcb869bad619e483cc5231333ada87518fb2b301">TCMI_TASK_KILL_ME</a>;</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;}</div>
</div><!-- fragment -->
<p><div id="dynsection-6" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../d3/d25/kernel__3_87_81_2src_2tcmi_2task_2tcmi__guesttask_8c_ga16ed0a2983a1fc31c158cb1327af6580_cgraph.png" border="0" usemap="#d3/d25/kernel__3_87_81_2src_2tcmi_2task_2tcmi__guesttask_8c_ga16ed0a2983a1fc31c158cb1327af6580_cgraph" alt=""/></div>
<map name="d3/d25/kernel__3_87_81_2src_2tcmi_2task_2tcmi__guesttask_8c_ga16ed0a2983a1fc31c158cb1327af6580_cgraph" id="d3/d25/kernel__3_87_81_2src_2tcmi_2task_2tcmi__guesttask_8c_ga16ed0a2983a1fc31c158cb1327af6580_cgraph">
<area shape="rect" id="node2" href="../../d2/d60/group__tcmi__err__procmsg__class.html#gae5322efeefc565378866b96c6cb101b3" title="&lt;&lt;public&gt;&gt; Error message constructor for transferring." alt="" coords="242,5,417,32"/><area shape="rect" id="node3" href="../../d1/dc2/group__tcmi__guest__started__procmsg__class.html#ga68c13e4eb03cdbc808140006bcb5a2f7" title="&lt;&lt;public&gt;&gt; Guest started process message tx constructor." alt="" coords="263,57,396,98"/><area shape="rect" id="node4" href="../../d6/dc2/group__tcmi__msg__class.html#gac86a4090b7e1902ef603cb03191d6281" title="&lt;&lt;public&gt;&gt; Decrements reference counter, if it reaches 0 the custom free method is called if defined..." alt="" coords="277,123,381,149"/><area shape="rect" id="node6" href="../../d6/dc2/group__tcmi__msg__class.html#ga5a09e9d377637eba6c3df1236fc97926" title="&lt;&lt;public&gt;&gt; Request transaction ID accessor." alt="" coords="269,173,390,200"/><area shape="rect" id="node7" href="../../df/df9/group__tcmi__p__emigrate__msg__class.html#ga63d0332412d2add383784a9b9ef2062d" title="&lt;&lt;public&gt;&gt; Checkpoint name accessor." alt="" coords="254,225,405,266"/><area shape="rect" id="node8" href="../../df/df9/group__tcmi__p__emigrate__msg__class.html#ga4a20154039e0b8fe71be244c0cdb0919" title="&lt;&lt;public&gt;&gt; Remote PID accessor." alt="" coords="254,290,405,331"/><area shape="rect" id="node9" href="../../de/d2f/group__tcmi__task__class.html#gac04862f389dea22fbd5b8dc8f642ca9c" title="Simple error checking method to be used after communication operations to detect lost peer..." alt="" coords="239,356,420,383"/><area shape="rect" id="node13" href="../../de/d2f/group__tcmi__task__class.html#ga0232aeae006148ffa6c760e7f1979865" title="&lt;&lt;public&gt;&gt; Local PID accessor." alt="" coords="945,407,1082,433"/><area shape="rect" id="node14" href="../../de/d2f/group__tcmi__task__class.html#ga2f054ae4772c0921004eebdb48d39dcf" title="&lt;&lt;public&gt;&gt; Remote PID accessor." alt="" coords="254,457,405,484"/><area shape="rect" id="node15" href="../../de/d2f/group__tcmi__task__class.html#ga4e660ea948542a5a057e25640a762efc" title="&lt;&lt;public&gt;&gt; Sends a specified message." alt="" coords="219,508,439,535"/><area shape="rect" id="node17" href="../../de/d2f/group__tcmi__task__class.html#ga60a2a872664867b7a86ec278b570fef2" title="&lt;&lt;public&gt;&gt; Remote PID setter." alt="" coords="242,559,417,585"/><area shape="rect" id="node20" href="../../d2/daf/group__tcmi__taskhelper__class.html#ga1ff741911c123bcd7eb94d193f3bdc59" title="&lt;&lt;public&gt;&gt; Schedules a task restart from a given checkpoint image." alt="" coords="250,639,409,665"/><area shape="rect" id="node5" href="../../d4/d8c/group__tcmi__transaction__class.html#ga2748d267a8fddd1ced86e73ba8efd079" title="&lt;&lt;public&gt;&gt; Releases the instance." alt="" coords="511,123,654,149"/><area shape="rect" id="node10" href="../../de/d2f/group__tcmi__task__class.html#gad2d3dad02cf555da12cb2926cebb25f6" title="Notifies task that it peer is lost and sends a kill signal to that task." alt="" coords="493,356,673,383"/><area shape="rect" id="node11" href="../../de/d2f/group__tcmi__task__class.html#gac263213bf219960dea9c7d4b4e6f3b34" title="Returns a task_struct associated with the tcmi_task." alt="" coords="726,356,895,383"/><area shape="rect" id="node12" href="../../d7/d75/kernel__2_86_833_81_2src_2tcmi_2lib_2util_8h.html#a5f449355b8f54aaed664de85f89092ea" title="task_find_by_pid" alt="" coords="954,356,1073,383"/><area shape="rect" id="node16" href="../../d6/dc2/group__tcmi__msg__class.html#ga7a8fe8cbfd4b25c15589c8599f66e574" title="&lt;&lt;public&gt;&gt; Sends a message via a specified connection." alt="" coords="489,457,677,484"/><area shape="rect" id="node18" href="../../d1/de7/group__tcmi__ctlfs__file__class.html#gac720ca77312808db7cbbc645be8e3541" title="&lt;&lt;public&gt;&gt; Creates a new instance of a file." alt="" coords="510,508,655,535"/><area shape="rect" id="node19" href="../../de/d2f/group__tcmi__task__class.html#ga401654abdc812f0a923d05c95b412fb1" title="tcmi_task_show_remote\l_pid_rev" alt="" coords="729,505,892,546"/><area shape="rect" id="node21" href="../../de/d2f/group__tcmi__task__class.html#ga24a9d8c612da1a4484b1b3a28a181c15" title="&lt;&lt;public&gt;&gt; Prepares execution of a file given the arrays of arguments and environment." alt="" coords="495,609,671,636"/><area shape="rect" id="node22" href="../../de/d2f/group__tcmi__task__class.html#ga2bf62635c09738ef0c1385ea258bec2f" title="&lt;&lt;public&gt;&gt; Flushes all pending methods in the queue submits a method for execution." alt="" coords="512,661,653,702"/><area shape="rect" id="node23" href="../../de/d2f/group__tcmi__task__class.html#gab1a418ac9d8b708dcee524671db07518" title="&lt;&lt;public&gt;&gt; Executes the file that has been previously setup for execution." alt="" coords="519,727,646,753"/></map>
</div>
</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_08d237fc27d4ecd563f71c5d52f2fecc.html">sources</a></li><li class="navelem"><a class="el" href="../../dir_08cfbe165ea603e6d179ff1f702f26c2.html">kernel_3.7.1</a></li><li class="navelem"><a class="el" href="../../dir_54993795d38a4b0939659b8e486bb0f5.html">src</a></li><li class="navelem"><a class="el" href="../../dir_d6db29d45a6ebf6e3bfdbb75b7b3a396.html">tcmi</a></li><li class="navelem"><a class="el" href="../../dir_71d58f3053c02109282c88f1307d7766.html">task</a></li><li class="navelem"><a class="el" href="../../d3/d25/kernel__3_87_81_2src_2tcmi_2task_2tcmi__guesttask_8c.html">tcmi_guesttask.c</a></li>
    <li class="footer">Generated on Mon Apr 1 2013 16:10:54 for Clondike by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.3.1 </li>
  </ul>
</div>
</body>
</html>
