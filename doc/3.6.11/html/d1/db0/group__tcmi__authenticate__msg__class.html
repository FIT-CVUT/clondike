<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3.1"/>
<title>Clondike: tcmi_authenticate_msg class</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Clondike
   </div>
   <div id="projectbrief">Supported to Linux kernel 3.6.11</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('d1/db0/group__tcmi__authenticate__msg__class.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">tcmi_authenticate_msg class<div class="ingroups"><a class="el" href="../../d6/dc2/group__tcmi__msg__class.html">tcmi_msg class</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>This message is send by PEN when it wants authenticate to CCN.  
<a href="#details">More...</a></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="../../closed.png" alt="+"/> Collaboration diagram for tcmi_authenticate_msg class:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<center><table><tr><td><img src="../../d1/db0/group__tcmi__authenticate__msg__class.png" border="0" alt="" usemap="#d1_2db0_2group____tcmi____authenticate____msg____class"/>
<map name="d1_2db0_2group____tcmi____authenticate____msg____class" id="d1_2db0_2group____tcmi____authenticate____msg____class">
<area shape="rect" id="node1" href="../../d6/dc2/group__tcmi__msg__class.html" title="This class represents a generic message in TCMI communication protocol." alt="" coords="5,12,120,39"/></map>
</td></tr></table></center>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:df/dc2/structtcmi__authenticate__msg"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/db0/group__tcmi__authenticate__msg__class.html#df/dc2/structtcmi__authenticate__msg">tcmi_authenticate_msg</a></td></tr>
<tr class="memdesc:df/dc2/structtcmi__authenticate__msg"><td class="mdescLeft">&#160;</td><td class="mdescRight">Authentication message structure.  <a href="../../d1/db0/group__tcmi__authenticate__msg__class.html#df/dc2/structtcmi__authenticate__msg">More...</a><br/></td></tr>
<tr class="separator:df/dc2/structtcmi__authenticate__msg"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:gab11e06123db66e00d6c900bc478352bb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/db0/group__tcmi__authenticate__msg__class.html#gab11e06123db66e00d6c900bc478352bb">TCMI_AUTHENTICATE_MSG_DSC</a>&#160;&#160;&#160;<a class="el" href="../../d6/dc2/group__tcmi__msg__class.html#ga82cf8f5f561f28f5bebf952eb796df73">TCMI_MSG_DSC</a>(<a class="el" href="../../d8/d9d/group__tcmi__messages__id.html#ggadc29c2ff13d900c2f185ee95427fb06cac280e8716e2541ac7099c11f0049e8bf">TCMI_AUTHENTICATE_MSG_ID</a>, <a class="el" href="../../d1/db0/group__tcmi__authenticate__msg__class.html#ga738c315c054db97770227af46a249488">tcmi_authenticate_msg_new_rx</a>, NULL)</td></tr>
<tr class="memdesc:gab11e06123db66e00d6c900bc478352bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">&lt;&lt;public&gt;&gt; Message descriptor for the factory class, there is no error handling as this is the starting request  <a href="#gab11e06123db66e00d6c900bc478352bb">More...</a><br/></td></tr>
<tr class="separator:gab11e06123db66e00d6c900bc478352bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf5a71bb4f9344b49e53fe4bfdbd7737f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/db0/group__tcmi__authenticate__msg__class.html#gaf5a71bb4f9344b49e53fe4bfdbd7737f">TCMI_AUTHENTICATE_MSG</a>(m)&#160;&#160;&#160;((struct <a class="el" href="../../d1/db0/group__tcmi__authenticate__msg__class.html#df/dc2/structtcmi__authenticate__msg">tcmi_authenticate_msg</a>*)m)</td></tr>
<tr class="memdesc:gaf5a71bb4f9344b49e53fe4bfdbd7737f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Casts to the <a class="el" href="../../d1/db0/group__tcmi__authenticate__msg__class.html#df/dc2/structtcmi__authenticate__msg" title="Authentication message structure.">tcmi_authenticate_msg</a> instance.  <a href="#gaf5a71bb4f9344b49e53fe4bfdbd7737f">More...</a><br/></td></tr>
<tr class="separator:gaf5a71bb4f9344b49e53fe4bfdbd7737f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga9481a886b479de1af0d382a5659a228f"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/db0/group__tcmi__authenticate__msg__class.html#ga9481a886b479de1af0d382a5659a228f">tcmi_authenticate_msg_recv</a> (struct <a class="el" href="../../d6/dc2/group__tcmi__msg__class.html#d0/d5b/structtcmi__msg">tcmi_msg</a> *<a class="el" href="../../db/d61/group__tcmi__penman__class.html#gae3924f624412b270d461d2543744407e">self</a>, struct <a class="el" href="../../d6/d8e/group__kkc__sock__class.html#da/d0d/structkkc__sock">kkc_sock</a> *sock)</td></tr>
<tr class="memdesc:ga9481a886b479de1af0d382a5659a228f"><td class="mdescLeft">&#160;</td><td class="mdescRight">&lt;&lt;private&gt;&gt; Receives the message via a specified connection.  <a href="#ga9481a886b479de1af0d382a5659a228f">More...</a><br/></td></tr>
<tr class="separator:ga9481a886b479de1af0d382a5659a228f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga27b272136e3e11f0d85673ac4de86010"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/db0/group__tcmi__authenticate__msg__class.html#ga27b272136e3e11f0d85673ac4de86010">tcmi_authenticate_msg_send</a> (struct <a class="el" href="../../d6/dc2/group__tcmi__msg__class.html#d0/d5b/structtcmi__msg">tcmi_msg</a> *<a class="el" href="../../db/d61/group__tcmi__penman__class.html#gae3924f624412b270d461d2543744407e">self</a>, struct <a class="el" href="../../d6/d8e/group__kkc__sock__class.html#da/d0d/structkkc__sock">kkc_sock</a> *sock)</td></tr>
<tr class="memdesc:ga27b272136e3e11f0d85673ac4de86010"><td class="mdescLeft">&#160;</td><td class="mdescRight">&lt;&lt;private&gt;&gt; Sends the message via a specified connection.  <a href="#ga27b272136e3e11f0d85673ac4de86010">More...</a><br/></td></tr>
<tr class="separator:ga27b272136e3e11f0d85673ac4de86010"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9306211a652a08e82824dc325de5e0d0"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/db0/group__tcmi__authenticate__msg__class.html#ga9306211a652a08e82824dc325de5e0d0">tcmi_authenticate_msg_send_free</a> (struct <a class="el" href="../../d6/dc2/group__tcmi__msg__class.html#d0/d5b/structtcmi__msg">tcmi_msg</a> *<a class="el" href="../../db/d61/group__tcmi__penman__class.html#gae3924f624412b270d461d2543744407e">self</a>)</td></tr>
<tr class="memdesc:ga9306211a652a08e82824dc325de5e0d0"><td class="mdescLeft">&#160;</td><td class="mdescRight">&lt;&lt;private&gt;&gt; Frees custom message resources.  <a href="#ga9306211a652a08e82824dc325de5e0d0">More...</a><br/></td></tr>
<tr class="separator:ga9306211a652a08e82824dc325de5e0d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga738c315c054db97770227af46a249488"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d6/dc2/group__tcmi__msg__class.html#d0/d5b/structtcmi__msg">tcmi_msg</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/db0/group__tcmi__authenticate__msg__class.html#ga738c315c054db97770227af46a249488">tcmi_authenticate_msg_new_rx</a> (u_int32_t msg_id)</td></tr>
<tr class="memdesc:ga738c315c054db97770227af46a249488"><td class="mdescLeft">&#160;</td><td class="mdescRight">&lt;&lt;public&gt;&gt; Authentication message consutructor for receiving.  <a href="#ga738c315c054db97770227af46a249488">More...</a><br/></td></tr>
<tr class="separator:ga738c315c054db97770227af46a249488"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga90a5660dc2cee4e2f349b572ef273ff5"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d6/dc2/group__tcmi__msg__class.html#d0/d5b/structtcmi__msg">tcmi_msg</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/db0/group__tcmi__authenticate__msg__class.html#ga90a5660dc2cee4e2f349b572ef273ff5">tcmi_authenticate_msg_new_tx</a> (struct <a class="el" href="../../d0/db7/group__tcmi__slotvec__class.html#da/ded/structtcmi__slotvec">tcmi_slotvec</a> *transactions, u_int32_t pen_id, enum <a class="el" href="../../d2/def/arch__ids_8h.html#adbc45da5aabb1eb49345f13d3eed13a9">arch_ids</a> pen_arch, char *auth_data, int <a class="el" href="../../d8/d08/tcmi__ppm__p__emigrate__msg_8h.html#af8fd9ce16b371c8a3bf5e0b37a69419f">size</a>)</td></tr>
<tr class="memdesc:ga90a5660dc2cee4e2f349b572ef273ff5"><td class="mdescLeft">&#160;</td><td class="mdescRight">&lt;&lt;public&gt;&gt; Authentication message constructor for transferring.  <a href="#ga90a5660dc2cee4e2f349b572ef273ff5">More...</a><br/></td></tr>
<tr class="separator:ga90a5660dc2cee4e2f349b572ef273ff5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1ca157e54c52f3829daee3141d3032f3"><td class="memItemLeft" align="right" valign="top">static u_int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/db0/group__tcmi__authenticate__msg__class.html#ga1ca157e54c52f3829daee3141d3032f3">tcmi_authenticate_msg_pen_id</a> (struct <a class="el" href="../../d1/db0/group__tcmi__authenticate__msg__class.html#df/dc2/structtcmi__authenticate__msg">tcmi_authenticate_msg</a> *<a class="el" href="../../db/d61/group__tcmi__penman__class.html#gae3924f624412b270d461d2543744407e">self</a>)</td></tr>
<tr class="memdesc:ga1ca157e54c52f3829daee3141d3032f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">&lt;&lt;public&gt;&gt; PEN id getter  <a href="#ga1ca157e54c52f3829daee3141d3032f3">More...</a><br/></td></tr>
<tr class="separator:ga1ca157e54c52f3829daee3141d3032f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6d2403c7ed2cb03ee09fc84a10aaf197"><td class="memItemLeft" align="right" valign="top">static enum <a class="el" href="../../d2/def/arch__ids_8h.html#adbc45da5aabb1eb49345f13d3eed13a9">arch_ids</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/db0/group__tcmi__authenticate__msg__class.html#ga6d2403c7ed2cb03ee09fc84a10aaf197">tcmi_authenticate_msg_arch</a> (struct <a class="el" href="../../d1/db0/group__tcmi__authenticate__msg__class.html#df/dc2/structtcmi__authenticate__msg">tcmi_authenticate_msg</a> *<a class="el" href="../../db/d61/group__tcmi__penman__class.html#gae3924f624412b270d461d2543744407e">self</a>)</td></tr>
<tr class="memdesc:ga6d2403c7ed2cb03ee09fc84a10aaf197"><td class="mdescLeft">&#160;</td><td class="mdescRight">&lt;&lt;public&gt;&gt; PEN architecture getter  <a href="#ga6d2403c7ed2cb03ee09fc84a10aaf197">More...</a><br/></td></tr>
<tr class="separator:ga6d2403c7ed2cb03ee09fc84a10aaf197"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga335adeaf099503285463a3e0676281d3"><td class="memItemLeft" align="right" valign="top">static u_int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/db0/group__tcmi__authenticate__msg__class.html#ga335adeaf099503285463a3e0676281d3">tcmi_authenticate_msg_auth_data_size</a> (struct <a class="el" href="../../d1/db0/group__tcmi__authenticate__msg__class.html#df/dc2/structtcmi__authenticate__msg">tcmi_authenticate_msg</a> *<a class="el" href="../../db/d61/group__tcmi__penman__class.html#gae3924f624412b270d461d2543744407e">self</a>)</td></tr>
<tr class="memdesc:ga335adeaf099503285463a3e0676281d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">&lt;&lt;public&gt;&gt; PEN authentication data length getter  <a href="#ga335adeaf099503285463a3e0676281d3">More...</a><br/></td></tr>
<tr class="separator:ga335adeaf099503285463a3e0676281d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3a6a076472862335c1f5386d9ec9a565"><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/db0/group__tcmi__authenticate__msg__class.html#ga3a6a076472862335c1f5386d9ec9a565">tcmi_authenticate_msg_auth_data</a> (struct <a class="el" href="../../d1/db0/group__tcmi__authenticate__msg__class.html#df/dc2/structtcmi__authenticate__msg">tcmi_authenticate_msg</a> *<a class="el" href="../../db/d61/group__tcmi__penman__class.html#gae3924f624412b270d461d2543744407e">self</a>)</td></tr>
<tr class="memdesc:ga3a6a076472862335c1f5386d9ec9a565"><td class="mdescLeft">&#160;</td><td class="mdescRight">&lt;&lt;public&gt;&gt; PEN authentication data getter  <a href="#ga3a6a076472862335c1f5386d9ec9a565">More...</a><br/></td></tr>
<tr class="separator:ga3a6a076472862335c1f5386d9ec9a565"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ga745469d2eb7cbf943f09e989a074a9eb"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d6/dc2/group__tcmi__msg__class.html#d8/de4/structtcmi__msg__ops">tcmi_msg_ops</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/db0/group__tcmi__authenticate__msg__class.html#ga745469d2eb7cbf943f09e989a074a9eb">authenticate_msg_ops</a></td></tr>
<tr class="memdesc:ga745469d2eb7cbf943f09e989a074a9eb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Message operations that support polymorphism.  <a href="#ga745469d2eb7cbf943f09e989a074a9eb">More...</a><br/></td></tr>
<tr class="separator:ga745469d2eb7cbf943f09e989a074a9eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>This message is send by PEN when it wants authenticate to CCN. </p>
<hr/><h2 class="groupheader">Data Structure Documentation</h2>
<a name="df/dc2/structtcmi__authenticate__msg" id="df/dc2/structtcmi__authenticate__msg"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct tcmi_authenticate_msg</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>Authentication message structure. </p>

<p>Definition at line <a class="el" href="../../d5/dac/tcmi__authenticate__msg_8h_source.html#l00021">21</a> of file <a class="el" href="../../d5/dac/tcmi__authenticate__msg_8h_source.html">tcmi_authenticate_msg.h</a>.</p>
</div><div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="../../closed.png" alt="+"/> Collaboration diagram for tcmi_authenticate_msg:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../d9/d4c/structtcmi__authenticate__msg__coll__graph.png" border="0" usemap="#tcmi__authenticate__msg_coll__map" alt="Collaboration graph"/></div>
<map name="tcmi__authenticate__msg_coll__map" id="tcmi__authenticate__msg_coll__map">
<area shape="rect" id="node2" href="../../d6/dc2/group__tcmi__msg__class.html#d0/d5b/structtcmi__msg" title="A coumpound structure that carries a generic TCMI message." alt="" coords="57,739,175,845"/><area shape="rect" id="node3" href="../../d6/dc2/group__tcmi__msg__class.html#d8/de4/structtcmi__msg__ops" title="Message operations that support polymorphism." alt="" coords="5,516,112,623"/><area shape="rect" id="node4" href="../../d4/d8c/group__tcmi__transaction__class.html#d7/d6e/structtcmi__transaction" title="Compound structure holding transaction attributes." alt="" coords="137,465,255,674"/><area shape="rect" id="node5" href="../../d0/db7/group__tcmi__slotvec__class.html#da/ded/structtcmi__slotvec" title="A slot vector compound structure." alt="" coords="89,235,199,400"/><area shape="rect" id="node6" href="../../da/d0c/group__tcmi__slot__class.html#d9/dbb/structtcmi__slot" title="A slot compound structure." alt="" coords="151,5,261,171"/></map>
</div>
<table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a class="anchor" id="abee5c4614c0c511665205b86a3a882fb"></a>char *</td>
<td class="fieldname">
auth_data</td>
<td class="fielddoc">
Authentication data. <p>Opaque to the kernel part, this is purely user space responsibilithy to provide and parse those. </p>
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a8d3abe09510bc47b7d023dac0119f57b"></a>enum <a class="el" href="../../d2/def/arch__ids_8h.html#adbc45da5aabb1eb49345f13d3eed13a9">arch_ids</a></td>
<td class="fieldname">
pen_arch</td>
<td class="fielddoc">
Architecture of PEN. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a71f6360d05708112f6df5fdeafdce65e"></a>u_int32_t</td>
<td class="fieldname">
pen_id</td>
<td class="fielddoc">
Id of the requestor PEN. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="ac61fb75dd6c799adb30df05a67322077"></a>u_int32_t</td>
<td class="fieldname">
size</td>
<td class="fielddoc">
Size of authentication data. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a0c104e239d861b9a99dbc00946feea9e"></a>struct <a class="el" href="../../d6/dc2/group__tcmi__msg__class.html#d0/d5b/structtcmi__msg">tcmi_msg</a></td>
<td class="fieldname">
super</td>
<td class="fielddoc">
parent class instance. </td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="gaf5a71bb4f9344b49e53fe4bfdbd7737f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TCMI_AUTHENTICATE_MSG</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">m</td><td>)</td>
          <td>&#160;&#160;&#160;((struct <a class="el" href="../../d1/db0/group__tcmi__authenticate__msg__class.html#df/dc2/structtcmi__authenticate__msg">tcmi_authenticate_msg</a>*)m)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Casts to the <a class="el" href="../../d1/db0/group__tcmi__authenticate__msg__class.html#df/dc2/structtcmi__authenticate__msg" title="Authentication message structure.">tcmi_authenticate_msg</a> instance. </p>

<p>Definition at line <a class="el" href="../../d5/dac/tcmi__authenticate__msg_8h_source.html#l00051">51</a> of file <a class="el" href="../../d5/dac/tcmi__authenticate__msg_8h_source.html">tcmi_authenticate_msg.h</a>.</p>

<p>Referenced by <a class="el" href="../../d0/d99/tcmi__authenticate__msg_8c_source.html#l00025">tcmi_authenticate_msg_new_rx()</a>, <a class="el" href="../../d0/d99/tcmi__authenticate__msg_8c_source.html#l00065">tcmi_authenticate_msg_new_tx()</a>, <a class="el" href="../../d0/d99/tcmi__authenticate__msg_8c_source.html#l00120">tcmi_authenticate_msg_recv()</a>, <a class="el" href="../../d0/d99/tcmi__authenticate__msg_8c_source.html#l00175">tcmi_authenticate_msg_send()</a>, <a class="el" href="../../d0/d99/tcmi__authenticate__msg_8c_source.html#l00222">tcmi_authenticate_msg_send_free()</a>, and <a class="el" href="../../dd/d56/tcmi__ccnmigman_8c_source.html#l00214">tcmi_ccnmigman_process_msg()</a>.</p>

</div>
</div>
<a class="anchor" id="gab11e06123db66e00d6c900bc478352bb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TCMI_AUTHENTICATE_MSG_DSC&#160;&#160;&#160;<a class="el" href="../../d6/dc2/group__tcmi__msg__class.html#ga82cf8f5f561f28f5bebf952eb796df73">TCMI_MSG_DSC</a>(<a class="el" href="../../d8/d9d/group__tcmi__messages__id.html#ggadc29c2ff13d900c2f185ee95427fb06cac280e8716e2541ac7099c11f0049e8bf">TCMI_AUTHENTICATE_MSG_ID</a>, <a class="el" href="../../d1/db0/group__tcmi__authenticate__msg__class.html#ga738c315c054db97770227af46a249488">tcmi_authenticate_msg_new_rx</a>, NULL)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>&lt;&lt;public&gt;&gt; Message descriptor for the factory class, there is no error handling as this is the starting request </p>

<p>Definition at line <a class="el" href="../../d5/dac/tcmi__authenticate__msg_8h_source.html#l00048">48</a> of file <a class="el" href="../../d5/dac/tcmi__authenticate__msg_8h_source.html">tcmi_authenticate_msg.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga6d2403c7ed2cb03ee09fc84a10aaf197"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static enum <a class="el" href="../../d2/def/arch__ids_8h.html#adbc45da5aabb1eb49345f13d3eed13a9">arch_ids</a> tcmi_authenticate_msg_arch </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d1/db0/group__tcmi__authenticate__msg__class.html#df/dc2/structtcmi__authenticate__msg">tcmi_authenticate_msg</a> *&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>&lt;&lt;public&gt;&gt; PEN architecture getter </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*self</td><td>- this message instance </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>PEN architecture </dd></dl>

<p>Definition at line <a class="el" href="../../d5/dac/tcmi__authenticate__msg_8h_source.html#l00070">70</a> of file <a class="el" href="../../d5/dac/tcmi__authenticate__msg_8h_source.html">tcmi_authenticate_msg.h</a>.</p>

<p>Referenced by <a class="el" href="../../dd/d56/tcmi__ccnmigman_8c_source.html#l00214">tcmi_ccnmigman_process_msg()</a>.</p>
<div class="fragment"><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;{</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">self</span>-&gt;pen_arch;</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga3a6a076472862335c1f5386d9ec9a565"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static char* tcmi_authenticate_msg_auth_data </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d1/db0/group__tcmi__authenticate__msg__class.html#df/dc2/structtcmi__authenticate__msg">tcmi_authenticate_msg</a> *&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>&lt;&lt;public&gt;&gt; PEN authentication data getter </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*self</td><td>- this message instance </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Authentication data </dd></dl>

<p>Definition at line <a class="el" href="../../d5/dac/tcmi__authenticate__msg_8h_source.html#l00092">92</a> of file <a class="el" href="../../d5/dac/tcmi__authenticate__msg_8h_source.html">tcmi_authenticate_msg.h</a>.</p>

<p>Referenced by <a class="el" href="../../dd/d56/tcmi__ccnmigman_8c_source.html#l00214">tcmi_ccnmigman_process_msg()</a>.</p>
<div class="fragment"><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;{</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">self</span>-&gt;auth_data;</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga335adeaf099503285463a3e0676281d3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static u_int32_t tcmi_authenticate_msg_auth_data_size </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d1/db0/group__tcmi__authenticate__msg__class.html#df/dc2/structtcmi__authenticate__msg">tcmi_authenticate_msg</a> *&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>&lt;&lt;public&gt;&gt; PEN authentication data length getter </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*self</td><td>- this message instance </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Authentication data length </dd></dl>

<p>Definition at line <a class="el" href="../../d5/dac/tcmi__authenticate__msg_8h_source.html#l00081">81</a> of file <a class="el" href="../../d5/dac/tcmi__authenticate__msg_8h_source.html">tcmi_authenticate_msg.h</a>.</p>

<p>Referenced by <a class="el" href="../../dd/d56/tcmi__ccnmigman_8c_source.html#l00214">tcmi_ccnmigman_process_msg()</a>.</p>
<div class="fragment"><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;{</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">self</span>-&gt;size;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga738c315c054db97770227af46a249488"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d6/dc2/group__tcmi__msg__class.html#d0/d5b/structtcmi__msg">tcmi_msg</a>* tcmi_authenticate_msg_new_rx </td>
          <td>(</td>
          <td class="paramtype">u_int32_t&#160;</td>
          <td class="paramname"><em>msg_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">read</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>&lt;&lt;public&gt;&gt; Authentication message consutructor for receiving. </p>
<p>&lt;&lt;public&gt;&gt; Authentication message consutructor for receiving.</p>
<p>This method is called by the factory class.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg_id</td><td>- message ID that will be used for this message instance. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a new message or NULL. </dd></dl>

<p>Definition at line <a class="el" href="../../d0/d99/tcmi__authenticate__msg_8c_source.html#l00025">25</a> of file <a class="el" href="../../d0/d99/tcmi__authenticate__msg_8c_source.html">tcmi_authenticate_msg.c</a>.</p>

<p>References <a class="el" href="../../d0/d99/tcmi__authenticate__msg_8c_source.html#l00232">authenticate_msg_ops</a>, <a class="el" href="../../d6/d01/dbg_8h_source.html#l00210">mdbg</a>, <a class="el" href="../../d5/dac/tcmi__authenticate__msg_8h_source.html#l00051">TCMI_AUTHENTICATE_MSG</a>, <a class="el" href="../../dd/dd5/tcmi__messages__id_8h_source.html#l00119">TCMI_AUTHENTICATE_MSG_ID</a>, <a class="el" href="../../d1/d6d/tcmi__msg_8h_source.html#l00159">TCMI_MSG</a>, and <a class="el" href="../../db/dc8/tcmi__msg_8c_source.html#l00065">tcmi_msg_init_rx()</a>.</p>
<div class="fragment"><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;{</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/db0/group__tcmi__authenticate__msg__class.html#df/dc2/structtcmi__authenticate__msg" title="Authentication message structure.">tcmi_authenticate_msg</a> *msg;</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;    <span class="comment">/* Check if the factory is building what it really thinks. */</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    <span class="keywordflow">if</span> (msg_id != <a class="code" href="../../d8/d9d/group__tcmi__messages__id.html#ggadc29c2ff13d900c2f185ee95427fb06cac280e8716e2541ac7099c11f0049e8bf">TCMI_AUTHENTICATE_MSG_ID</a>) {</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;        <a class="code" href="../../d6/d01/dbg_8h.html#a881516d8ffc635f7f0e87468340c80dc">mdbg</a>(ERR3, <span class="stringliteral">&quot;Factory specified message ID(%x) doesn&#39;t match real ID(%x)&quot;</span>,</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;             msg_id, <a class="code" href="../../d8/d9d/group__tcmi__messages__id.html#ggadc29c2ff13d900c2f185ee95427fb06cac280e8716e2541ac7099c11f0049e8bf">TCMI_AUTHENTICATE_MSG_ID</a>);</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;        <span class="keywordflow">goto</span> exit0;</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    }</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    <span class="comment">/* Allocate the instance */</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    <span class="keywordflow">if</span> (!(msg = <a class="code" href="../../d1/db0/group__tcmi__authenticate__msg__class.html#gaf5a71bb4f9344b49e53fe4bfdbd7737f" title="Casts to the tcmi_authenticate_msg instance.">TCMI_AUTHENTICATE_MSG</a>(kmalloc(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d1/db0/group__tcmi__authenticate__msg__class.html#df/dc2/structtcmi__authenticate__msg" title="Authentication message structure.">tcmi_authenticate_msg</a>), GFP_KERNEL)))) {</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;        <a class="code" href="../../d6/d01/dbg_8h.html#a881516d8ffc635f7f0e87468340c80dc">mdbg</a>(ERR3, <span class="stringliteral">&quot;Can&#39;t allocate auth request message&quot;</span>);</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;        <span class="keywordflow">goto</span> exit0;</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    }</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    </div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    <span class="comment">/* Initialized the message for receiving. */</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d6/dc2/group__tcmi__msg__class.html#ga0f81cf27b94206abc95c5b0002f66d2c" title="&lt;&lt;public&gt;&gt; Initializes the message for receiving.">tcmi_msg_init_rx</a>(<a class="code" href="../../d6/dc2/group__tcmi__msg__class.html#ga91f3fd64c88d27100f1e4c7125a73a0e" title="Casts to the tcmi_msg instance.">TCMI_MSG</a>(msg), <a class="code" href="../../d8/d9d/group__tcmi__messages__id.html#ggadc29c2ff13d900c2f185ee95427fb06cac280e8716e2541ac7099c11f0049e8bf">TCMI_AUTHENTICATE_MSG_ID</a>, &amp;<a class="code" href="../../d1/db0/group__tcmi__authenticate__msg__class.html#ga745469d2eb7cbf943f09e989a074a9eb" title="Message operations that support polymorphism.">authenticate_msg_ops</a>)) {</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;        <a class="code" href="../../d6/d01/dbg_8h.html#a881516d8ffc635f7f0e87468340c80dc">mdbg</a>(ERR3, <span class="stringliteral">&quot;Error initializing authenticate request message %x&quot;</span>, msg_id);</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;        <span class="keywordflow">goto</span> exit1;</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    }</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d6/dc2/group__tcmi__msg__class.html#ga91f3fd64c88d27100f1e4c7125a73a0e" title="Casts to the tcmi_msg instance.">TCMI_MSG</a>(msg);</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    <span class="comment">/* error handling */</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160; exit1:</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    kfree(msg);</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160; exit0:</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;}</div>
</div><!-- fragment -->
<p><div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../d1/db0/group__tcmi__authenticate__msg__class_ga738c315c054db97770227af46a249488_cgraph.png" border="0" usemap="#d1/db0/group__tcmi__authenticate__msg__class_ga738c315c054db97770227af46a249488_cgraph" alt=""/></div>
<map name="d1/db0/group__tcmi__authenticate__msg__class_ga738c315c054db97770227af46a249488_cgraph" id="d1/db0/group__tcmi__authenticate__msg__class_ga738c315c054db97770227af46a249488_cgraph">
<area shape="rect" id="node2" href="../../d6/dc2/group__tcmi__msg__class.html#ga0f81cf27b94206abc95c5b0002f66d2c" title="&lt;&lt;public&gt;&gt; Initializes the message for receiving." alt="" coords="211,12,333,39"/><area shape="rect" id="node3" href="../../db/dc8/tcmi__msg_8c.html#a5c394462e393c496f11d949b265b8a9e" title="Shared initialization fuction of both rx and tx messages." alt="" coords="381,12,531,39"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga90a5660dc2cee4e2f349b572ef273ff5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d6/dc2/group__tcmi__msg__class.html#d0/d5b/structtcmi__msg">tcmi_msg</a>* tcmi_authenticate_msg_new_tx </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d0/db7/group__tcmi__slotvec__class.html#da/ded/structtcmi__slotvec">tcmi_slotvec</a> *&#160;</td>
          <td class="paramname"><em>transactions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u_int32_t&#160;</td>
          <td class="paramname"><em>pen_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="../../d2/def/arch__ids_8h.html#adbc45da5aabb1eb49345f13d3eed13a9">arch_ids</a>&#160;</td>
          <td class="paramname"><em>pen_arch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>auth_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">read</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>&lt;&lt;public&gt;&gt; Authentication message constructor for transferring. </p>
<p>&lt;&lt;public&gt;&gt; Authentication message constructor for transferring.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*transactions</td><td>- storage for the new transaction </td></tr>
    <tr><td class="paramname">pen_id</td><td>Id of the requesting PEN </td></tr>
    <tr><td class="paramname">pen_arch</td><td>Architecture of PEN </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a new message ready for the transfer or NULL. </dd></dl>

<p>Definition at line <a class="el" href="../../d0/d99/tcmi__authenticate__msg_8c_source.html#l00065">65</a> of file <a class="el" href="../../d0/d99/tcmi__authenticate__msg_8c_source.html">tcmi_authenticate_msg.c</a>.</p>

<p>References <a class="el" href="../../d5/dac/tcmi__authenticate__msg_8h_source.html#l00030">tcmi_authenticate_msg::auth_data</a>, <a class="el" href="../../d0/d99/tcmi__authenticate__msg_8c_source.html#l00232">authenticate_msg_ops</a>, <a class="el" href="../../d6/d01/dbg_8h_source.html#l00210">mdbg</a>, <a class="el" href="../../d5/dac/tcmi__authenticate__msg_8h_source.html#l00027">tcmi_authenticate_msg::pen_arch</a>, <a class="el" href="../../d5/dac/tcmi__authenticate__msg_8h_source.html#l00025">tcmi_authenticate_msg::pen_id</a>, <a class="el" href="../../d5/dac/tcmi__authenticate__msg_8h_source.html#l00032">tcmi_authenticate_msg::size</a>, <a class="el" href="../../d5/d20/tcmi__p__emigrate__msg_8h_source.html#l00085">size</a>, <a class="el" href="../../d5/dac/tcmi__authenticate__msg_8h_source.html#l00051">TCMI_AUTHENTICATE_MSG</a>, <a class="el" href="../../dd/dd5/tcmi__messages__id_8h_source.html#l00119">TCMI_AUTHENTICATE_MSG_ID</a>, <a class="el" href="../../dd/dd5/tcmi__messages__id_8h_source.html#l00120">TCMI_AUTHENTICATE_RESP_MSG_ID</a>, <a class="el" href="../../d1/d6d/tcmi__msg_8h_source.html#l00156">TCMI_DEFAULT_MSG_TIMEOUT</a>, <a class="el" href="../../d1/d6d/tcmi__msg_8h_source.html#l00159">TCMI_MSG</a>, <a class="el" href="../../db/dc8/tcmi__msg_8c_source.html#l00089">tcmi_msg_init_tx()</a>, and <a class="el" href="../../dd/d1d/tcmi__transaction_8h_source.html#l00099">TCMI_TRANSACTION_INVAL_ID</a>.</p>

<p>Referenced by <a class="el" href="../../d9/ded/tcmi__penmigman_8c_source.html#l00108">tcmi_penmigman_auth_ccn()</a>.</p>
<div class="fragment"><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;{</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/db0/group__tcmi__authenticate__msg__class.html#df/dc2/structtcmi__authenticate__msg" title="Authentication message structure.">tcmi_authenticate_msg</a> *msg;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <span class="keywordflow">if</span> (!(msg = <a class="code" href="../../d1/db0/group__tcmi__authenticate__msg__class.html#gaf5a71bb4f9344b49e53fe4bfdbd7737f" title="Casts to the tcmi_authenticate_msg instance.">TCMI_AUTHENTICATE_MSG</a>(kmalloc(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d1/db0/group__tcmi__authenticate__msg__class.html#df/dc2/structtcmi__authenticate__msg" title="Authentication message structure.">tcmi_authenticate_msg</a>), GFP_KERNEL)))) {</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;        <a class="code" href="../../d6/d01/dbg_8h.html#a881516d8ffc635f7f0e87468340c80dc">mdbg</a>(ERR3, <span class="stringliteral">&quot;Can&#39;t allocate authenticate request message&quot;</span>);</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;        <span class="keywordflow">goto</span> exit0;</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    }</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    </div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    msg-&gt;<a class="code" href="../../d1/db0/group__tcmi__authenticate__msg__class.html#a71f6360d05708112f6df5fdeafdce65e" title="Id of the requestor PEN.">pen_id</a> = <a class="code" href="../../d1/db0/group__tcmi__authenticate__msg__class.html#a71f6360d05708112f6df5fdeafdce65e" title="Id of the requestor PEN.">pen_id</a>;</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    msg-&gt;<a class="code" href="../../d1/db0/group__tcmi__authenticate__msg__class.html#a8d3abe09510bc47b7d023dac0119f57b" title="Architecture of PEN.">pen_arch</a> = <a class="code" href="../../d1/db0/group__tcmi__authenticate__msg__class.html#a8d3abe09510bc47b7d023dac0119f57b" title="Architecture of PEN.">pen_arch</a>;   </div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    msg-&gt;<a class="code" href="../../d1/db0/group__tcmi__authenticate__msg__class.html#ac61fb75dd6c799adb30df05a67322077" title="Size of authentication data.">size</a> = <a class="code" href="../../d5/d20/tcmi__p__emigrate__msg_8h.html#af8fd9ce16b371c8a3bf5e0b37a69419f" title="size of the checkpoint name in bytes (including trailing zero)">size</a>;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    <span class="keywordflow">if</span> ( <a class="code" href="../../d5/d20/tcmi__p__emigrate__msg_8h.html#af8fd9ce16b371c8a3bf5e0b37a69419f" title="size of the checkpoint name in bytes (including trailing zero)">size</a> &gt; 0 ) {</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;        <span class="keywordflow">if</span> (!(msg-&gt;<a class="code" href="../../d1/db0/group__tcmi__authenticate__msg__class.html#abee5c4614c0c511665205b86a3a882fb" title="Authentication data.">auth_data</a> = (<span class="keywordtype">char</span>*)kmalloc(<a class="code" href="../../d5/d20/tcmi__p__emigrate__msg_8h.html#af8fd9ce16b371c8a3bf5e0b37a69419f" title="size of the checkpoint name in bytes (including trailing zero)">size</a>, GFP_KERNEL))) {</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;            <a class="code" href="../../d6/d01/dbg_8h.html#a881516d8ffc635f7f0e87468340c80dc">mdbg</a>(ERR3, <span class="stringliteral">&quot;Can&#39;t allocate memory for checkpoint name&quot;</span>);</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;            <span class="keywordflow">goto</span> exit1;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;        }</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;        memcpy(msg-&gt;<a class="code" href="../../d1/db0/group__tcmi__authenticate__msg__class.html#abee5c4614c0c511665205b86a3a882fb" title="Authentication data.">auth_data</a>, <a class="code" href="../../d1/db0/group__tcmi__authenticate__msg__class.html#abee5c4614c0c511665205b86a3a882fb" title="Authentication data.">auth_data</a>, <a class="code" href="../../d5/d20/tcmi__p__emigrate__msg_8h.html#af8fd9ce16b371c8a3bf5e0b37a69419f" title="size of the checkpoint name in bytes (including trailing zero)">size</a>);</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;        msg-&gt;<a class="code" href="../../d1/db0/group__tcmi__authenticate__msg__class.html#abee5c4614c0c511665205b86a3a882fb" title="Authentication data.">auth_data</a> = NULL;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    }</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <span class="comment">/* Initialize the message for transfer */</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d6/dc2/group__tcmi__msg__class.html#gace79df438ec4f7c8f7cee3bfe42f6d93" title="&lt;&lt;public&gt;&gt; Initializes the message for transferring.">tcmi_msg_init_tx</a>(<a class="code" href="../../d6/dc2/group__tcmi__msg__class.html#ga91f3fd64c88d27100f1e4c7125a73a0e" title="Casts to the tcmi_msg instance.">TCMI_MSG</a>(msg), <a class="code" href="../../d8/d9d/group__tcmi__messages__id.html#ggadc29c2ff13d900c2f185ee95427fb06cac280e8716e2541ac7099c11f0049e8bf">TCMI_AUTHENTICATE_MSG_ID</a>, &amp;<a class="code" href="../../d1/db0/group__tcmi__authenticate__msg__class.html#ga745469d2eb7cbf943f09e989a074a9eb" title="Message operations that support polymorphism.">authenticate_msg_ops</a>, </div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;                 transactions, <a class="code" href="../../d8/d9d/group__tcmi__messages__id.html#ggadc29c2ff13d900c2f185ee95427fb06caedb4f23136a59cd9caf5c956bdf8a0a9">TCMI_AUTHENTICATE_RESP_MSG_ID</a>,</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;                 <a class="code" href="../../d6/dc2/group__tcmi__msg__class.html#gaad9433ff1400610e1ee4ba0e9de766bc" title="Message transaction default timeout set to 60 seconds.">TCMI_DEFAULT_MSG_TIMEOUT</a>, <a class="code" href="../../d4/d8c/group__tcmi__transaction__class.html#gac546d01fab4d43f08caecc3f4fd7a90f" title="denotes an invalid transaction ID">TCMI_TRANSACTION_INVAL_ID</a>)) {</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;        <a class="code" href="../../d6/d01/dbg_8h.html#a881516d8ffc635f7f0e87468340c80dc">mdbg</a>(ERR3, <span class="stringliteral">&quot;Error initializing authenticate request message message&quot;</span>);</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;        <span class="keywordflow">goto</span> exit2;</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    }</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d6/dc2/group__tcmi__msg__class.html#ga91f3fd64c88d27100f1e4c7125a73a0e" title="Casts to the tcmi_msg instance.">TCMI_MSG</a>(msg);</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <span class="comment">/* error handling */</span></div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160; exit2:</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    kfree(msg-&gt;<a class="code" href="../../d1/db0/group__tcmi__authenticate__msg__class.html#abee5c4614c0c511665205b86a3a882fb" title="Authentication data.">auth_data</a>);</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160; exit1:</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    kfree(msg);</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160; exit0:</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    </div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;}</div>
</div><!-- fragment -->
<p><div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../d1/db0/group__tcmi__authenticate__msg__class_ga90a5660dc2cee4e2f349b572ef273ff5_cgraph.png" border="0" usemap="#d1/db0/group__tcmi__authenticate__msg__class_ga90a5660dc2cee4e2f349b572ef273ff5_cgraph" alt=""/></div>
<map name="d1/db0/group__tcmi__authenticate__msg__class_ga90a5660dc2cee4e2f349b572ef273ff5_cgraph" id="d1/db0/group__tcmi__authenticate__msg__class_ga90a5660dc2cee4e2f349b572ef273ff5_cgraph">
<area shape="rect" id="node2" href="../../d6/dc2/group__tcmi__msg__class.html#gace79df438ec4f7c8f7cee3bfe42f6d93" title="&lt;&lt;public&gt;&gt; Initializes the message for transferring." alt="" coords="211,183,333,209"/><area shape="rect" id="node3" href="../../db/dc8/tcmi__msg_8c.html#a5c394462e393c496f11d949b265b8a9e" title="Shared initialization fuction of both rx and tx messages." alt="" coords="381,132,531,159"/><area shape="rect" id="node4" href="../../d4/d8c/group__tcmi__transaction__class.html#gada9d9436def8919a10997233cd6b5ea1" title="&lt;&lt;public&gt;&gt; Creates a new transaction." alt="" coords="382,183,530,209"/><area shape="rect" id="node10" href="../../d4/d8c/group__tcmi__transaction__class.html#gaac666feaaab1fe5c341237a3e0283501" title="&lt;&lt;public&gt;&gt; Transaction ID accessor." alt="" coords="991,259,1126,285"/><area shape="rect" id="node5" href="../../d4/d8c/group__tcmi__transaction__class.html#gad66082869d71dbe73b9a0b60cb2f437c" title="&lt;&lt;private&gt;&gt; Generates a transaction ID." alt="" coords="579,157,741,184"/><area shape="rect" id="node6" href="../../d0/db7/group__tcmi__slotvec__class.html#ga463d8dd03bd30b24c3ebfed5a0239d8a" title="&lt;&lt;public&gt;&gt; Hashmask accessor." alt="" coords="579,208,741,235"/><area shape="rect" id="node7" href="../../d4/d8c/group__tcmi__transaction__class.html#ga244e6188e1c4f9e1faba20d0892f5441" title="&lt;&lt;private&gt;&gt; Callback for the kernel timer that handles transaction timeouts." alt="" coords="583,107,737,133"/><area shape="rect" id="node19" href="../../d0/db7/group__tcmi__slotvec__class.html#ga4f973395848150fbebecf3cc292c80ba" title="&lt;&lt;public&gt;&gt; The index where the insertion takes place has to be a valid slot." alt="" coords="790,56,941,83"/><area shape="rect" id="node8" href="../../d4/d8c/group__tcmi__transaction__class.html#ga2748d267a8fddd1ced86e73ba8efd079" title="&lt;&lt;public&gt;&gt; Releases the instance." alt="" coords="794,157,937,184"/><area shape="rect" id="node9" href="../../d0/db7/group__tcmi__slotvec__class.html#ga5b4586b2e897ec306862a0b6901f39e7" title="&lt;&lt;public&gt;&gt; Locks the instance data." alt="" coords="996,157,1121,184"/><area shape="rect" id="node11" href="../../da/d0c/group__tcmi__slot__class.html#ga1d6232adcf00094597a66d9f5740d5f8" title="&lt;&lt;public&gt;&gt; Removes a given node from a slot." alt="" coords="997,107,1120,133"/><area shape="rect" id="node18" href="../../d0/db7/group__tcmi__slotvec__class.html#ga4df343d549736d3dc994ad0f43529a57" title="&lt;&lt;public&gt;&gt; Unlocks the instance data." alt="" coords="989,208,1128,235"/><area shape="rect" id="node12" href="../../da/d0c/group__tcmi__slot__class.html#ga29d8101c5815a6519567c548da4a3c7e" title="&lt;&lt;public&gt;&gt; Removes a given node from a slot." alt="" coords="1177,157,1314,184"/><area shape="rect" id="node16" href="../../da/d0c/group__tcmi__slot__class.html#ga109d6d783ebf06046f364f970f84da1f" title="&lt;&lt;public&gt;&gt; Locks the slot data." alt="" coords="1192,107,1299,133"/><area shape="rect" id="node17" href="../../da/d0c/group__tcmi__slot__class.html#ga5447231fec5f42040c40307eb2e6a13c" title="&lt;&lt;public&gt;&gt; Unlocks the instance data" alt="" coords="1185,56,1305,83"/><area shape="rect" id="node13" href="../../da/d0c/group__tcmi__slot__class.html#ga6dd63ff2854a9939a5aa094f6543a5d1" title="&lt;&lt;public&gt;&gt; Checks if the slot is empty." alt="" coords="1385,157,1503,184"/><area shape="rect" id="node14" href="../../da/d0c/group__tcmi__slot__class.html#ga2550a3e6624b54e323c73cb1d06e6cd0" title="&lt;&lt;public&gt;&gt; Moves a slot among unused_slots." alt="" coords="1363,81,1525,108"/><area shape="rect" id="node15" href="../../da/d0c/group__tcmi__slot__class.html#ga8d6885be2677819158e0d956f0cca5b2" title="&lt;&lt;private&gt;&gt; Moves a slot into the specified list." alt="" coords="1573,44,1685,71"/><area shape="rect" id="node20" href="../../d0/db7/group__tcmi__slotvec__class.html#ga876670f605631a5deb930412dae02b28" title="&lt;&lt;public&gt;&gt; Accesses a slot at a given index." alt="" coords="1003,5,1115,32"/><area shape="rect" id="node21" href="../../da/d0c/group__tcmi__slot__class.html#gaefe294678d9d6922b3af1e452a318fa1" title="&lt;&lt;public&gt;&gt; Inserts a new node into the slot." alt="" coords="1001,56,1116,83"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga1ca157e54c52f3829daee3141d3032f3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static u_int32_t tcmi_authenticate_msg_pen_id </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d1/db0/group__tcmi__authenticate__msg__class.html#df/dc2/structtcmi__authenticate__msg">tcmi_authenticate_msg</a> *&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>&lt;&lt;public&gt;&gt; PEN id getter </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*self</td><td>- this message instance </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>PEN id </dd></dl>

<p>Definition at line <a class="el" href="../../d5/dac/tcmi__authenticate__msg_8h_source.html#l00059">59</a> of file <a class="el" href="../../d5/dac/tcmi__authenticate__msg_8h_source.html">tcmi_authenticate_msg.h</a>.</p>

<p>Referenced by <a class="el" href="../../dd/d56/tcmi__ccnmigman_8c_source.html#l00214">tcmi_ccnmigman_process_msg()</a>.</p>
<div class="fragment"><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;{</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">self</span>-&gt;pen_id;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga9481a886b479de1af0d382a5659a228f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int tcmi_authenticate_msg_recv </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d6/dc2/group__tcmi__msg__class.html#d0/d5b/structtcmi__msg">tcmi_msg</a> *&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d6/d8e/group__kkc__sock__class.html#da/d0d/structkkc__sock">kkc_sock</a> *&#160;</td>
          <td class="paramname"><em>sock</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>&lt;&lt;private&gt;&gt; Receives the message via a specified connection. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*self</td><td>- this message instance </td></tr>
    <tr><td class="paramname">*sock</td><td>- KKC socket used for receiving message data </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 when successfully received. </dd></dl>

<p>Definition at line <a class="el" href="../../d0/d99/tcmi__authenticate__msg_8c_source.html#l00120">120</a> of file <a class="el" href="../../d0/d99/tcmi__authenticate__msg_8c_source.html">tcmi_authenticate_msg.c</a>.</p>

<p>References <a class="el" href="../../d5/dac/tcmi__authenticate__msg_8h_source.html#l00030">tcmi_authenticate_msg::auth_data</a>, <a class="el" href="../../df/dfa/kkc__sock_8h_source.html#l00066">KKC_SOCK_BLOCK</a>, <a class="el" href="../../d7/d5c/kkc__sock_8c_source.html#l00162">kkc_sock_recv()</a>, <a class="el" href="../../d6/d01/dbg_8h_source.html#l00210">mdbg</a>, <a class="el" href="../../d5/dac/tcmi__authenticate__msg_8h_source.html#l00027">tcmi_authenticate_msg::pen_arch</a>, <a class="el" href="../../d5/dac/tcmi__authenticate__msg_8h_source.html#l00025">tcmi_authenticate_msg::pen_id</a>, <a class="el" href="../../d5/dac/tcmi__authenticate__msg_8h_source.html#l00032">tcmi_authenticate_msg::size</a>, and <a class="el" href="../../d5/dac/tcmi__authenticate__msg_8h_source.html#l00051">TCMI_AUTHENTICATE_MSG</a>.</p>
<div class="fragment"><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;{</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <span class="keywordtype">int</span> err = -EINVAL;</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/db0/group__tcmi__authenticate__msg__class.html#df/dc2/structtcmi__authenticate__msg" title="Authentication message structure.">tcmi_authenticate_msg</a> *self_msg = <a class="code" href="../../d1/db0/group__tcmi__authenticate__msg__class.html#gaf5a71bb4f9344b49e53fe4bfdbd7737f" title="Casts to the tcmi_authenticate_msg instance.">TCMI_AUTHENTICATE_MSG</a>(<span class="keyword">self</span>);</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    <a class="code" href="../../d6/d01/dbg_8h.html#a881516d8ffc635f7f0e87468340c80dc">mdbg</a>(INFO2, <span class="stringliteral">&quot;Authenticate request message received&quot;</span>);</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    </div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    <span class="keywordflow">if</span> ((err = <a class="code" href="../../d6/d8e/group__kkc__sock__class.html#gadafc7c835c7d6d94be66f61a050108b7" title="&lt;&lt;public&gt;&gt; Receives requested number of bytes of data.">kkc_sock_recv</a>(sock, &amp;self_msg-&gt;<a class="code" href="../../d1/db0/group__tcmi__authenticate__msg__class.html#a71f6360d05708112f6df5fdeafdce65e" title="Id of the requestor PEN.">pen_id</a>, </div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;                 <span class="keyword">sizeof</span>(self_msg-&gt;<a class="code" href="../../d1/db0/group__tcmi__authenticate__msg__class.html#a71f6360d05708112f6df5fdeafdce65e" title="Id of the requestor PEN.">pen_id</a>), <a class="code" href="../../d6/d8e/group__kkc__sock__class.html#gga285317c87701990317a59884b3db40daa0766d1e1bec0bb50862530f5a53c9c70">KKC_SOCK_BLOCK</a>)) &lt; 0) {</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;        <a class="code" href="../../d6/d01/dbg_8h.html#a881516d8ffc635f7f0e87468340c80dc">mdbg</a>(ERR3, <span class="stringliteral">&quot;Failed to receive pen id&quot;</span>);</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        <span class="keywordflow">goto</span> exit0;</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    }</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    <span class="keywordflow">if</span> ((err = <a class="code" href="../../d6/d8e/group__kkc__sock__class.html#gadafc7c835c7d6d94be66f61a050108b7" title="&lt;&lt;public&gt;&gt; Receives requested number of bytes of data.">kkc_sock_recv</a>(sock, &amp;self_msg-&gt;<a class="code" href="../../d1/db0/group__tcmi__authenticate__msg__class.html#a8d3abe09510bc47b7d023dac0119f57b" title="Architecture of PEN.">pen_arch</a>, </div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;                 <span class="keyword">sizeof</span>(self_msg-&gt;<a class="code" href="../../d1/db0/group__tcmi__authenticate__msg__class.html#a8d3abe09510bc47b7d023dac0119f57b" title="Architecture of PEN.">pen_arch</a>), <a class="code" href="../../d6/d8e/group__kkc__sock__class.html#gga285317c87701990317a59884b3db40daa0766d1e1bec0bb50862530f5a53c9c70">KKC_SOCK_BLOCK</a>)) &lt; 0) {</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;        <a class="code" href="../../d6/d01/dbg_8h.html#a881516d8ffc635f7f0e87468340c80dc">mdbg</a>(ERR3, <span class="stringliteral">&quot;Failed to receive pen arch&quot;</span>);</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;        <span class="keywordflow">goto</span> exit0;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    }</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <span class="keywordflow">if</span> ((err = <a class="code" href="../../d6/d8e/group__kkc__sock__class.html#gadafc7c835c7d6d94be66f61a050108b7" title="&lt;&lt;public&gt;&gt; Receives requested number of bytes of data.">kkc_sock_recv</a>(sock, &amp;self_msg-&gt;<a class="code" href="../../d1/db0/group__tcmi__authenticate__msg__class.html#ac61fb75dd6c799adb30df05a67322077" title="Size of authentication data.">size</a>, </div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;                 <span class="keyword">sizeof</span>(self_msg-&gt;<a class="code" href="../../d1/db0/group__tcmi__authenticate__msg__class.html#ac61fb75dd6c799adb30df05a67322077" title="Size of authentication data.">size</a>), <a class="code" href="../../d6/d8e/group__kkc__sock__class.html#gga285317c87701990317a59884b3db40daa0766d1e1bec0bb50862530f5a53c9c70">KKC_SOCK_BLOCK</a>)) &lt; 0) {</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;        <a class="code" href="../../d6/d01/dbg_8h.html#a881516d8ffc635f7f0e87468340c80dc">mdbg</a>(ERR3, <span class="stringliteral">&quot;Failed to receive size of auth data&quot;</span>);</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;        <span class="keywordflow">goto</span> exit0;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    }</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <span class="keywordflow">if</span> ( self_msg-&gt;<a class="code" href="../../d1/db0/group__tcmi__authenticate__msg__class.html#ac61fb75dd6c799adb30df05a67322077" title="Size of authentication data.">size</a> &gt; 0 ) {</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;        <span class="keywordflow">if</span> (!(self_msg-&gt;<a class="code" href="../../d1/db0/group__tcmi__authenticate__msg__class.html#abee5c4614c0c511665205b86a3a882fb" title="Authentication data.">auth_data</a> = (<span class="keywordtype">char</span>*)kmalloc(self_msg-&gt;<a class="code" href="../../d1/db0/group__tcmi__authenticate__msg__class.html#ac61fb75dd6c799adb30df05a67322077" title="Size of authentication data.">size</a>, GFP_KERNEL))) {</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;            <a class="code" href="../../d6/d01/dbg_8h.html#a881516d8ffc635f7f0e87468340c80dc">mdbg</a>(ERR3, <span class="stringliteral">&quot;Can&#39;t allocate memory for auth data.&quot;</span>);</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;            <span class="keywordflow">goto</span> exit0;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        }</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    </div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;        <span class="comment">/* Receive the authentication data */</span>   </div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;        <span class="keywordflow">if</span> ((err = <a class="code" href="../../d6/d8e/group__kkc__sock__class.html#gadafc7c835c7d6d94be66f61a050108b7" title="&lt;&lt;public&gt;&gt; Receives requested number of bytes of data.">kkc_sock_recv</a>(sock, self_msg-&gt;<a class="code" href="../../d1/db0/group__tcmi__authenticate__msg__class.html#abee5c4614c0c511665205b86a3a882fb" title="Authentication data.">auth_data</a>, </div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;                    self_msg-&gt;<a class="code" href="../../d1/db0/group__tcmi__authenticate__msg__class.html#ac61fb75dd6c799adb30df05a67322077" title="Size of authentication data.">size</a>, <a class="code" href="../../d6/d8e/group__kkc__sock__class.html#gga285317c87701990317a59884b3db40daa0766d1e1bec0bb50862530f5a53c9c70">KKC_SOCK_BLOCK</a>)) &lt; 0) {</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;            <a class="code" href="../../d6/d01/dbg_8h.html#a881516d8ffc635f7f0e87468340c80dc">mdbg</a>(ERR3, <span class="stringliteral">&quot;Failed to receive checkpoint name&quot;</span>);</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;            <span class="keywordflow">goto</span> exit0;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        }   </div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;        self_msg-&gt;<a class="code" href="../../d1/db0/group__tcmi__authenticate__msg__class.html#abee5c4614c0c511665205b86a3a882fb" title="Authentication data.">auth_data</a> = NULL;</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    }</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    <span class="comment">/* error handling*/</span></div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160; exit0:</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    <span class="keywordflow">return</span> err;</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;}</div>
</div><!-- fragment -->
<p><div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../d1/db0/group__tcmi__authenticate__msg__class_ga9481a886b479de1af0d382a5659a228f_cgraph.png" border="0" usemap="#d1/db0/group__tcmi__authenticate__msg__class_ga9481a886b479de1af0d382a5659a228f_cgraph" alt=""/></div>
<map name="d1/db0/group__tcmi__authenticate__msg__class_ga9481a886b479de1af0d382a5659a228f_cgraph" id="d1/db0/group__tcmi__authenticate__msg__class_ga9481a886b479de1af0d382a5659a228f_cgraph">
<area shape="rect" id="node2" href="../../d6/d8e/group__kkc__sock__class.html#gadafc7c835c7d6d94be66f61a050108b7" title="&lt;&lt;public&gt;&gt; Receives requested number of bytes of data." alt="" coords="241,5,349,32"/><area shape="rect" id="node3" href="../../d6/d8e/group__kkc__sock__class.html#gaff5e8804c93f0cb2a4b5e2e12f64e743" title="&lt;&lt;private&gt;&gt; Transfers a required number of bytes." alt="" coords="398,5,541,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga27b272136e3e11f0d85673ac4de86010"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int tcmi_authenticate_msg_send </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d6/dc2/group__tcmi__msg__class.html#d0/d5b/structtcmi__msg">tcmi_msg</a> *&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d6/d8e/group__kkc__sock__class.html#da/d0d/structkkc__sock">kkc_sock</a> *&#160;</td>
          <td class="paramname"><em>sock</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>&lt;&lt;private&gt;&gt; Sends the message via a specified connection. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*self</td><td>- this message instance </td></tr>
    <tr><td class="paramname">*sock</td><td>- KKC socket used for sending message data </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 when successfully sent. </dd></dl>

<p>Definition at line <a class="el" href="../../d0/d99/tcmi__authenticate__msg_8c_source.html#l00175">175</a> of file <a class="el" href="../../d0/d99/tcmi__authenticate__msg_8c_source.html">tcmi_authenticate_msg.c</a>.</p>

<p>References <a class="el" href="../../d5/dac/tcmi__authenticate__msg_8h_source.html#l00030">tcmi_authenticate_msg::auth_data</a>, <a class="el" href="../../df/dfa/kkc__sock_8h_source.html#l00066">KKC_SOCK_BLOCK</a>, <a class="el" href="../../d7/d5c/kkc__sock_8c_source.html#l00135">kkc_sock_send()</a>, <a class="el" href="../../d6/d01/dbg_8h_source.html#l00210">mdbg</a>, <a class="el" href="../../d5/dac/tcmi__authenticate__msg_8h_source.html#l00027">tcmi_authenticate_msg::pen_arch</a>, <a class="el" href="../../d5/dac/tcmi__authenticate__msg_8h_source.html#l00025">tcmi_authenticate_msg::pen_id</a>, <a class="el" href="../../d5/dac/tcmi__authenticate__msg_8h_source.html#l00032">tcmi_authenticate_msg::size</a>, and <a class="el" href="../../d5/dac/tcmi__authenticate__msg_8h_source.html#l00051">TCMI_AUTHENTICATE_MSG</a>.</p>
<div class="fragment"><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;{</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <span class="keywordtype">int</span> err;</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/db0/group__tcmi__authenticate__msg__class.html#df/dc2/structtcmi__authenticate__msg" title="Authentication message structure.">tcmi_authenticate_msg</a> *self_msg = <a class="code" href="../../d1/db0/group__tcmi__authenticate__msg__class.html#gaf5a71bb4f9344b49e53fe4bfdbd7737f" title="Casts to the tcmi_authenticate_msg instance.">TCMI_AUTHENTICATE_MSG</a>(<span class="keyword">self</span>);</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <span class="comment">/* Receive the remote PID and checkpoint name size */</span>   </div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <span class="keywordflow">if</span> ((err = <a class="code" href="../../d6/d8e/group__kkc__sock__class.html#gad734b131e2ab00e8d7fa30737fc2f5ad" title="&lt;&lt;public&gt;&gt; Sends out specified data.">kkc_sock_send</a>(sock, &amp;self_msg-&gt;<a class="code" href="../../d1/db0/group__tcmi__authenticate__msg__class.html#a71f6360d05708112f6df5fdeafdce65e" title="Id of the requestor PEN.">pen_id</a>, </div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;                 <span class="keyword">sizeof</span>(self_msg-&gt;<a class="code" href="../../d1/db0/group__tcmi__authenticate__msg__class.html#a71f6360d05708112f6df5fdeafdce65e" title="Id of the requestor PEN.">pen_id</a>), <a class="code" href="../../d6/d8e/group__kkc__sock__class.html#gga285317c87701990317a59884b3db40daa0766d1e1bec0bb50862530f5a53c9c70">KKC_SOCK_BLOCK</a>)) &lt; 0) {</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;        <a class="code" href="../../d6/d01/dbg_8h.html#a881516d8ffc635f7f0e87468340c80dc">mdbg</a>(ERR3, <span class="stringliteral">&quot;Failed to send pen id&quot;</span>);</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;        <span class="keywordflow">goto</span> exit0;</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    }</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    <span class="keywordflow">if</span> ((err = <a class="code" href="../../d6/d8e/group__kkc__sock__class.html#gad734b131e2ab00e8d7fa30737fc2f5ad" title="&lt;&lt;public&gt;&gt; Sends out specified data.">kkc_sock_send</a>(sock, &amp;self_msg-&gt;<a class="code" href="../../d1/db0/group__tcmi__authenticate__msg__class.html#a8d3abe09510bc47b7d023dac0119f57b" title="Architecture of PEN.">pen_arch</a>, </div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;                 <span class="keyword">sizeof</span>(self_msg-&gt;<a class="code" href="../../d1/db0/group__tcmi__authenticate__msg__class.html#a8d3abe09510bc47b7d023dac0119f57b" title="Architecture of PEN.">pen_arch</a>), <a class="code" href="../../d6/d8e/group__kkc__sock__class.html#gga285317c87701990317a59884b3db40daa0766d1e1bec0bb50862530f5a53c9c70">KKC_SOCK_BLOCK</a>)) &lt; 0) {</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;        <a class="code" href="../../d6/d01/dbg_8h.html#a881516d8ffc635f7f0e87468340c80dc">mdbg</a>(ERR3, <span class="stringliteral">&quot;Failed to send pen arch&quot;</span>);</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;        <span class="keywordflow">goto</span> exit0;</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    }</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <span class="keywordflow">if</span> ((err = <a class="code" href="../../d6/d8e/group__kkc__sock__class.html#gad734b131e2ab00e8d7fa30737fc2f5ad" title="&lt;&lt;public&gt;&gt; Sends out specified data.">kkc_sock_send</a>(sock, &amp;self_msg-&gt;<a class="code" href="../../d1/db0/group__tcmi__authenticate__msg__class.html#ac61fb75dd6c799adb30df05a67322077" title="Size of authentication data.">size</a>, </div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;                 <span class="keyword">sizeof</span>(self_msg-&gt;<a class="code" href="../../d1/db0/group__tcmi__authenticate__msg__class.html#ac61fb75dd6c799adb30df05a67322077" title="Size of authentication data.">size</a>), <a class="code" href="../../d6/d8e/group__kkc__sock__class.html#gga285317c87701990317a59884b3db40daa0766d1e1bec0bb50862530f5a53c9c70">KKC_SOCK_BLOCK</a>)) &lt; 0) {</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;        <a class="code" href="../../d6/d01/dbg_8h.html#a881516d8ffc635f7f0e87468340c80dc">mdbg</a>(ERR3, <span class="stringliteral">&quot;Failed to send auth data size&quot;</span>);</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;        <span class="keywordflow">goto</span> exit0;</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    }</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <span class="keywordflow">if</span> ( self_msg-&gt;<a class="code" href="../../d1/db0/group__tcmi__authenticate__msg__class.html#ac61fb75dd6c799adb30df05a67322077" title="Size of authentication data.">size</a> &gt; 0 ) {</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;        <span class="comment">/* Send the authentication data */</span>  </div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;        <span class="keywordflow">if</span> ((err = <a class="code" href="../../d6/d8e/group__kkc__sock__class.html#gad734b131e2ab00e8d7fa30737fc2f5ad" title="&lt;&lt;public&gt;&gt; Sends out specified data.">kkc_sock_send</a>(sock, self_msg-&gt;<a class="code" href="../../d1/db0/group__tcmi__authenticate__msg__class.html#abee5c4614c0c511665205b86a3a882fb" title="Authentication data.">auth_data</a>, </div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;                    self_msg-&gt;<a class="code" href="../../d1/db0/group__tcmi__authenticate__msg__class.html#ac61fb75dd6c799adb30df05a67322077" title="Size of authentication data.">size</a>, <a class="code" href="../../d6/d8e/group__kkc__sock__class.html#gga285317c87701990317a59884b3db40daa0766d1e1bec0bb50862530f5a53c9c70">KKC_SOCK_BLOCK</a>)) &lt; 0) {</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;            <a class="code" href="../../d6/d01/dbg_8h.html#a881516d8ffc635f7f0e87468340c80dc">mdbg</a>(ERR3, <span class="stringliteral">&quot;Failed to send authentication data&quot;</span>);</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;            <span class="keywordflow">goto</span> exit0;</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;        }</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    }</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    <a class="code" href="../../d6/d01/dbg_8h.html#a881516d8ffc635f7f0e87468340c80dc">mdbg</a>(INFO2, <span class="stringliteral">&quot;Authenticate request message sent. Pen ID=%d Arch=%d Auth data length=%d&quot;</span>, self_msg-&gt;<a class="code" href="../../d1/db0/group__tcmi__authenticate__msg__class.html#a71f6360d05708112f6df5fdeafdce65e" title="Id of the requestor PEN.">pen_id</a>, self_msg-&gt;<a class="code" href="../../d1/db0/group__tcmi__authenticate__msg__class.html#a8d3abe09510bc47b7d023dac0119f57b" title="Architecture of PEN.">pen_arch</a>, self_msg-&gt;<a class="code" href="../../d1/db0/group__tcmi__authenticate__msg__class.html#ac61fb75dd6c799adb30df05a67322077" title="Size of authentication data.">size</a>);</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    <span class="comment">/* error handling */</span></div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160; exit0:</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    <span class="keywordflow">return</span> err;</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;}</div>
</div><!-- fragment -->
<p><div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../d1/db0/group__tcmi__authenticate__msg__class_ga27b272136e3e11f0d85673ac4de86010_cgraph.png" border="0" usemap="#d1/db0/group__tcmi__authenticate__msg__class_ga27b272136e3e11f0d85673ac4de86010_cgraph" alt=""/></div>
<map name="d1/db0/group__tcmi__authenticate__msg__class_ga27b272136e3e11f0d85673ac4de86010_cgraph" id="d1/db0/group__tcmi__authenticate__msg__class_ga27b272136e3e11f0d85673ac4de86010_cgraph">
<area shape="rect" id="node2" href="../../d6/d8e/group__kkc__sock__class.html#gad734b131e2ab00e8d7fa30737fc2f5ad" title="&lt;&lt;public&gt;&gt; Sends out specified data." alt="" coords="246,5,359,32"/><area shape="rect" id="node3" href="../../d6/d8e/group__kkc__sock__class.html#gaff5e8804c93f0cb2a4b5e2e12f64e743" title="&lt;&lt;private&gt;&gt; Transfers a required number of bytes." alt="" coords="409,5,551,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga9306211a652a08e82824dc325de5e0d0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void tcmi_authenticate_msg_send_free </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d6/dc2/group__tcmi__msg__class.html#d0/d5b/structtcmi__msg">tcmi_msg</a> *&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>&lt;&lt;private&gt;&gt; Frees custom message resources. </p>
<p>The checkpoint image name string is released from memory.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*self</td><td>- this message instance </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../d0/d99/tcmi__authenticate__msg_8c_source.html#l00222">222</a> of file <a class="el" href="../../d0/d99/tcmi__authenticate__msg_8c_source.html">tcmi_authenticate_msg.c</a>.</p>

<p>References <a class="el" href="../../d5/dac/tcmi__authenticate__msg_8h_source.html#l00030">tcmi_authenticate_msg::auth_data</a>, <a class="el" href="../../d6/d01/dbg_8h_source.html#l00210">mdbg</a>, and <a class="el" href="../../d5/dac/tcmi__authenticate__msg_8h_source.html#l00051">TCMI_AUTHENTICATE_MSG</a>.</p>
<div class="fragment"><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;{</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d1/db0/group__tcmi__authenticate__msg__class.html#df/dc2/structtcmi__authenticate__msg" title="Authentication message structure.">tcmi_authenticate_msg</a> *self_msg = <a class="code" href="../../d1/db0/group__tcmi__authenticate__msg__class.html#gaf5a71bb4f9344b49e53fe4bfdbd7737f" title="Casts to the tcmi_authenticate_msg instance.">TCMI_AUTHENTICATE_MSG</a>(<span class="keyword">self</span>);   </div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    <a class="code" href="../../d6/d01/dbg_8h.html#a881516d8ffc635f7f0e87468340c80dc">mdbg</a>(INFO3, <span class="stringliteral">&quot;Freeing auth message&quot;</span>);</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    kfree(self_msg-&gt;<a class="code" href="../../d1/db0/group__tcmi__authenticate__msg__class.html#abee5c4614c0c511665205b86a3a882fb" title="Authentication data.">auth_data</a>);</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="ga745469d2eb7cbf943f09e989a074a9eb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d6/dc2/group__tcmi__msg__class.html#d8/de4/structtcmi__msg__ops">tcmi_msg_ops</a> authenticate_msg_ops</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">    .recv = <a class="code" href="../../d1/db0/group__tcmi__authenticate__msg__class.html#ga9481a886b479de1af0d382a5659a228f" title="&lt;&lt;private&gt;&gt; Receives the message via a specified connection.">tcmi_authenticate_msg_recv</a>,</div>
<div class="line">    .send = <a class="code" href="../../d1/db0/group__tcmi__authenticate__msg__class.html#ga27b272136e3e11f0d85673ac4de86010" title="&lt;&lt;private&gt;&gt; Sends the message via a specified connection.">tcmi_authenticate_msg_send</a>,</div>
<div class="line">    .free = <a class="code" href="../../d1/db0/group__tcmi__authenticate__msg__class.html#ga9306211a652a08e82824dc325de5e0d0" title="&lt;&lt;private&gt;&gt; Frees custom message resources.">tcmi_authenticate_msg_send_free</a></div>
<div class="line">}</div>
</div><!-- fragment -->
<p>Message operations that support polymorphism. </p>

<p>Definition at line <a class="el" href="../../d0/d99/tcmi__authenticate__msg_8c_source.html#l00232">232</a> of file <a class="el" href="../../d0/d99/tcmi__authenticate__msg_8c_source.html">tcmi_authenticate_msg.c</a>.</p>

<p>Referenced by <a class="el" href="../../d0/d99/tcmi__authenticate__msg_8c_source.html#l00025">tcmi_authenticate_msg_new_rx()</a>, and <a class="el" href="../../d0/d99/tcmi__authenticate__msg_8c_source.html#l00065">tcmi_authenticate_msg_new_tx()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Sun May 12 2013 19:06:05 for Clondike by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.3.1 </li>
  </ul>
</div>
</body>
</html>
