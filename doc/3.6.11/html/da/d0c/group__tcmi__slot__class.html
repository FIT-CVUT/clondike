<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3.1"/>
<title>Clondike: tcmi_slot class</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Clondike
   </div>
   <div id="projectbrief">Supported to Linux kernel 3.6.11</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('da/d0c/group__tcmi__slot__class.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">tcmi_slot class<div class="ingroups"><a class="el" href="../../dc/d84/group__tcmi__lib__group.html">lib</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>This class represents a slot that is part of a slot vector.  
<a href="#details">More...</a></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="../../closed.png" alt="+"/> Collaboration diagram for tcmi_slot class:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<center><table><tr><td><img src="../../da/d0c/group__tcmi__slot__class.png" border="0" alt="" usemap="#da_2d0c_2group____tcmi____slot____class"/>
<map name="da_2d0c_2group____tcmi____slot____class" id="da_2d0c_2group____tcmi____slot____class">
<area shape="rect" id="node1" href="../../dc/d84/group__tcmi__lib__group.html" title="Classes in this group provide basic objects used commonly throughout the whole framework." alt="" coords="6,5,45,32"/></map>
</td></tr></table></center>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:d9/dbb/structtcmi__slot"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d0c/group__tcmi__slot__class.html#d9/dbb/structtcmi__slot">tcmi_slot</a></td></tr>
<tr class="memdesc:d9/dbb/structtcmi__slot"><td class="mdescLeft">&#160;</td><td class="mdescRight">A slot compound structure.  <a href="../../da/d0c/group__tcmi__slot__class.html#d9/dbb/structtcmi__slot">More...</a><br/></td></tr>
<tr class="separator:d9/dbb/structtcmi__slot"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga25ff69a7b6d4ba8ef5b85079c0320872"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d0c/group__tcmi__slot__class.html#ga25ff69a7b6d4ba8ef5b85079c0320872">tcmi_slot_entry</a>(ptr, <a class="el" href="../../da/d20/tcmi__ckpt__vm__area_8h.html#a976c268fd0b6ffe448e05822bc0bb364">type</a>, member)&#160;&#160;&#160;hlist_entry(ptr, <a class="el" href="../../da/d20/tcmi__ckpt__vm__area_8h.html#a976c268fd0b6ffe448e05822bc0bb364">type</a>, member)</td></tr>
<tr class="memdesc:ga25ff69a7b6d4ba8ef5b85079c0320872"><td class="mdescLeft">&#160;</td><td class="mdescRight">&lt;&lt;public&gt;&gt; Extracts the actual entry from a slot node  <a href="#ga25ff69a7b6d4ba8ef5b85079c0320872">More...</a><br/></td></tr>
<tr class="separator:ga25ff69a7b6d4ba8ef5b85079c0320872"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga344314dfdafec96ad6d8398963749fa4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d0c/group__tcmi__slot__class.html#ga344314dfdafec96ad6d8398963749fa4">tcmi_slot_for_each</a>(node, slot)&#160;&#160;&#160;hlist_for_each(node, &amp;slot-&gt;head)</td></tr>
<tr class="memdesc:ga344314dfdafec96ad6d8398963749fa4"><td class="mdescLeft">&#160;</td><td class="mdescRight">&lt;&lt;public&gt;&gt; Iterates through all nodes in the slot.  <a href="#ga344314dfdafec96ad6d8398963749fa4">More...</a><br/></td></tr>
<tr class="separator:ga344314dfdafec96ad6d8398963749fa4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9ae513b589152761d653fa5ea07621fe"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d0c/group__tcmi__slot__class.html#ga9ae513b589152761d653fa5ea07621fe">tcmi_slot_for_each_entry</a>(object, node, slot, member)&#160;&#160;&#160;hlist_for_each_entry(object, node, &amp;slot-&gt;head, member)</td></tr>
<tr class="memdesc:ga9ae513b589152761d653fa5ea07621fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">&lt;&lt;public&gt;&gt; Iterates through all nodes in the slot.  <a href="#ga9ae513b589152761d653fa5ea07621fe">More...</a><br/></td></tr>
<tr class="separator:ga9ae513b589152761d653fa5ea07621fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7785c97273774df44a8bb79d61066217"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d0c/group__tcmi__slot__class.html#ga7785c97273774df44a8bb79d61066217">tcmi_slot_for_each_entry_safe</a>(object, node, node2, slot, member)&#160;&#160;&#160;hlist_for_each_entry_safe(object, node, node2, &amp;slot-&gt;head, member)</td></tr>
<tr class="memdesc:ga7785c97273774df44a8bb79d61066217"><td class="mdescLeft">&#160;</td><td class="mdescRight">&lt;&lt;public&gt;&gt; Iterates through all nodes in the slot - safe version.  <a href="#ga7785c97273774df44a8bb79d61066217">More...</a><br/></td></tr>
<tr class="separator:ga7785c97273774df44a8bb79d61066217"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4035f12ea6373f91f7624ce2b209437d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d0c/group__tcmi__slot__class.html#ga4035f12ea6373f91f7624ce2b209437d">tcmi_slot_find_first</a>(object, slot, member)</td></tr>
<tr class="memdesc:ga4035f12ea6373f91f7624ce2b209437d"><td class="mdescLeft">&#160;</td><td class="mdescRight">&lt;&lt;public&gt;&gt; Returns the first object in the slot.  <a href="#ga4035f12ea6373f91f7624ce2b209437d">More...</a><br/></td></tr>
<tr class="separator:ga4035f12ea6373f91f7624ce2b209437d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4e77d9cb5dbafc0fb6759fa09838d547"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d0c/group__tcmi__slot__class.html#ga4e77d9cb5dbafc0fb6759fa09838d547">tcmi_slot_remove_first</a>(object, slot, member)</td></tr>
<tr class="memdesc:ga4e77d9cb5dbafc0fb6759fa09838d547"><td class="mdescLeft">&#160;</td><td class="mdescRight">&lt;&lt;public&gt;&gt; Removes the first object in the slot.  <a href="#ga4e77d9cb5dbafc0fb6759fa09838d547">More...</a><br/></td></tr>
<tr class="separator:ga4e77d9cb5dbafc0fb6759fa09838d547"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga096c99c25b450d849e11c5e7aa57bb09"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d0c/group__tcmi__slot__class.html#ga096c99c25b450d849e11c5e7aa57bb09">tcmi_slot_node_unhashed</a>(n)&#160;&#160;&#160;hlist_unhashed(n)</td></tr>
<tr class="memdesc:ga096c99c25b450d849e11c5e7aa57bb09"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check for node being removed from the hlist.  <a href="#ga096c99c25b450d849e11c5e7aa57bb09">More...</a><br/></td></tr>
<tr class="separator:ga096c99c25b450d849e11c5e7aa57bb09"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga97f49e924fec185311972baf87d31897"><td class="memItemLeft" align="right" valign="top">typedef struct hlist_node&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d0c/group__tcmi__slot__class.html#ga97f49e924fec185311972baf87d31897">tcmi_slot_node_t</a></td></tr>
<tr class="memdesc:ga97f49e924fec185311972baf87d31897"><td class="mdescLeft">&#160;</td><td class="mdescRight">A slot node is in fact a hlist node.  <a href="#ga97f49e924fec185311972baf87d31897">More...</a><br/></td></tr>
<tr class="separator:ga97f49e924fec185311972baf87d31897"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga347147be22f868eacdae39a2846c0e3f"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d0c/group__tcmi__slot__class.html#ga347147be22f868eacdae39a2846c0e3f">tcmi_slot_init</a> (struct <a class="el" href="../../da/d0c/group__tcmi__slot__class.html#d9/dbb/structtcmi__slot">tcmi_slot</a> *<a class="el" href="../../db/d61/group__tcmi__penman__class.html#gae3924f624412b270d461d2543744407e">self</a>, u_int index, struct list_head *unused_slots, struct list_head *used_slots, spinlock_t *lock)</td></tr>
<tr class="memdesc:ga347147be22f868eacdae39a2846c0e3f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes a slot.  <a href="#ga347147be22f868eacdae39a2846c0e3f">More...</a><br/></td></tr>
<tr class="separator:ga347147be22f868eacdae39a2846c0e3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6dd63ff2854a9939a5aa094f6543a5d1"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d0c/group__tcmi__slot__class.html#ga6dd63ff2854a9939a5aa094f6543a5d1">tcmi_slot_empty</a> (struct <a class="el" href="../../da/d0c/group__tcmi__slot__class.html#d9/dbb/structtcmi__slot">tcmi_slot</a> *<a class="el" href="../../db/d61/group__tcmi__penman__class.html#gae3924f624412b270d461d2543744407e">self</a>)</td></tr>
<tr class="memdesc:ga6dd63ff2854a9939a5aa094f6543a5d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">&lt;&lt;public&gt;&gt; Checks if the slot is empty.  <a href="#ga6dd63ff2854a9939a5aa094f6543a5d1">More...</a><br/></td></tr>
<tr class="separator:ga6dd63ff2854a9939a5aa094f6543a5d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga821f6b686443bfc7fff52dd3b155de37"><td class="memItemLeft" align="right" valign="top">static u_int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d0c/group__tcmi__slot__class.html#ga821f6b686443bfc7fff52dd3b155de37">tcmi_slot_index</a> (struct <a class="el" href="../../da/d0c/group__tcmi__slot__class.html#d9/dbb/structtcmi__slot">tcmi_slot</a> *<a class="el" href="../../db/d61/group__tcmi__penman__class.html#gae3924f624412b270d461d2543744407e">self</a>)</td></tr>
<tr class="memdesc:ga821f6b686443bfc7fff52dd3b155de37"><td class="mdescLeft">&#160;</td><td class="mdescRight">&lt;&lt;public&gt;&gt; Slot index accessor.  <a href="#ga821f6b686443bfc7fff52dd3b155de37">More...</a><br/></td></tr>
<tr class="separator:ga821f6b686443bfc7fff52dd3b155de37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga109d6d783ebf06046f364f970f84da1f"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d0c/group__tcmi__slot__class.html#ga109d6d783ebf06046f364f970f84da1f">tcmi_slot_lock</a> (struct <a class="el" href="../../da/d0c/group__tcmi__slot__class.html#d9/dbb/structtcmi__slot">tcmi_slot</a> *<a class="el" href="../../db/d61/group__tcmi__penman__class.html#gae3924f624412b270d461d2543744407e">self</a>)</td></tr>
<tr class="memdesc:ga109d6d783ebf06046f364f970f84da1f"><td class="mdescLeft">&#160;</td><td class="mdescRight">&lt;&lt;public&gt;&gt; Locks the slot data.  <a href="#ga109d6d783ebf06046f364f970f84da1f">More...</a><br/></td></tr>
<tr class="separator:ga109d6d783ebf06046f364f970f84da1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5447231fec5f42040c40307eb2e6a13c"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d0c/group__tcmi__slot__class.html#ga5447231fec5f42040c40307eb2e6a13c">tcmi_slot_unlock</a> (struct <a class="el" href="../../da/d0c/group__tcmi__slot__class.html#d9/dbb/structtcmi__slot">tcmi_slot</a> *<a class="el" href="../../db/d61/group__tcmi__penman__class.html#gae3924f624412b270d461d2543744407e">self</a>)</td></tr>
<tr class="memdesc:ga5447231fec5f42040c40307eb2e6a13c"><td class="mdescLeft">&#160;</td><td class="mdescRight">&lt;&lt;public&gt;&gt; Unlocks the instance data  <a href="#ga5447231fec5f42040c40307eb2e6a13c">More...</a><br/></td></tr>
<tr class="separator:ga5447231fec5f42040c40307eb2e6a13c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8d6885be2677819158e0d956f0cca5b2"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d0c/group__tcmi__slot__class.html#ga8d6885be2677819158e0d956f0cca5b2">tcmi_slot_move</a> (struct <a class="el" href="../../da/d0c/group__tcmi__slot__class.html#d9/dbb/structtcmi__slot">tcmi_slot</a> *<a class="el" href="../../db/d61/group__tcmi__penman__class.html#gae3924f624412b270d461d2543744407e">self</a>, struct list_head *head)</td></tr>
<tr class="memdesc:ga8d6885be2677819158e0d956f0cca5b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">&lt;&lt;private&gt;&gt; Moves a slot into the specified list.  <a href="#ga8d6885be2677819158e0d956f0cca5b2">More...</a><br/></td></tr>
<tr class="separator:ga8d6885be2677819158e0d956f0cca5b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf4af537a62f633859494c6f299d4113c"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d0c/group__tcmi__slot__class.html#gaf4af537a62f633859494c6f299d4113c">tcmi_slot_move_tail</a> (struct <a class="el" href="../../da/d0c/group__tcmi__slot__class.html#d9/dbb/structtcmi__slot">tcmi_slot</a> *<a class="el" href="../../db/d61/group__tcmi__penman__class.html#gae3924f624412b270d461d2543744407e">self</a>, struct list_head *head)</td></tr>
<tr class="memdesc:gaf4af537a62f633859494c6f299d4113c"><td class="mdescLeft">&#160;</td><td class="mdescRight">&lt;&lt;private&gt;&gt; Moves a slot to the tail of the specified list.  <a href="#gaf4af537a62f633859494c6f299d4113c">More...</a><br/></td></tr>
<tr class="separator:gaf4af537a62f633859494c6f299d4113c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaefe294678d9d6922b3af1e452a318fa1"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d0c/group__tcmi__slot__class.html#gaefe294678d9d6922b3af1e452a318fa1">tcmi_slot_insert</a> (struct <a class="el" href="../../da/d0c/group__tcmi__slot__class.html#d9/dbb/structtcmi__slot">tcmi_slot</a> *<a class="el" href="../../db/d61/group__tcmi__penman__class.html#gae3924f624412b270d461d2543744407e">self</a>, <a class="el" href="../../da/d0c/group__tcmi__slot__class.html#ga97f49e924fec185311972baf87d31897">tcmi_slot_node_t</a> *node)</td></tr>
<tr class="memdesc:gaefe294678d9d6922b3af1e452a318fa1"><td class="mdescLeft">&#160;</td><td class="mdescRight">&lt;&lt;public&gt;&gt; Inserts a new node into the slot.  <a href="#gaefe294678d9d6922b3af1e452a318fa1">More...</a><br/></td></tr>
<tr class="separator:gaefe294678d9d6922b3af1e452a318fa1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2550a3e6624b54e323c73cb1d06e6cd0"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d0c/group__tcmi__slot__class.html#ga2550a3e6624b54e323c73cb1d06e6cd0">tcmi_slot_move_unused</a> (struct <a class="el" href="../../da/d0c/group__tcmi__slot__class.html#d9/dbb/structtcmi__slot">tcmi_slot</a> *<a class="el" href="../../db/d61/group__tcmi__penman__class.html#gae3924f624412b270d461d2543744407e">self</a>)</td></tr>
<tr class="memdesc:ga2550a3e6624b54e323c73cb1d06e6cd0"><td class="mdescLeft">&#160;</td><td class="mdescRight">&lt;&lt;public&gt;&gt; Moves a slot among unused_slots.  <a href="#ga2550a3e6624b54e323c73cb1d06e6cd0">More...</a><br/></td></tr>
<tr class="separator:ga2550a3e6624b54e323c73cb1d06e6cd0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga29d8101c5815a6519567c548da4a3c7e"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d0c/group__tcmi__slot__class.html#ga29d8101c5815a6519567c548da4a3c7e">__tcmi_slot_remove</a> (struct <a class="el" href="../../da/d0c/group__tcmi__slot__class.html#d9/dbb/structtcmi__slot">tcmi_slot</a> *<a class="el" href="../../db/d61/group__tcmi__penman__class.html#gae3924f624412b270d461d2543744407e">self</a>, <a class="el" href="../../da/d0c/group__tcmi__slot__class.html#ga97f49e924fec185311972baf87d31897">tcmi_slot_node_t</a> *node)</td></tr>
<tr class="memdesc:ga29d8101c5815a6519567c548da4a3c7e"><td class="mdescLeft">&#160;</td><td class="mdescRight">&lt;&lt;public&gt;&gt; Removes a given node from a slot.  <a href="#ga29d8101c5815a6519567c548da4a3c7e">More...</a><br/></td></tr>
<tr class="separator:ga29d8101c5815a6519567c548da4a3c7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1d6232adcf00094597a66d9f5740d5f8"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d0c/group__tcmi__slot__class.html#ga1d6232adcf00094597a66d9f5740d5f8">tcmi_slot_remove</a> (struct <a class="el" href="../../da/d0c/group__tcmi__slot__class.html#d9/dbb/structtcmi__slot">tcmi_slot</a> *<a class="el" href="../../db/d61/group__tcmi__penman__class.html#gae3924f624412b270d461d2543744407e">self</a>, <a class="el" href="../../da/d0c/group__tcmi__slot__class.html#ga97f49e924fec185311972baf87d31897">tcmi_slot_node_t</a> *node)</td></tr>
<tr class="memdesc:ga1d6232adcf00094597a66d9f5740d5f8"><td class="mdescLeft">&#160;</td><td class="mdescRight">&lt;&lt;public&gt;&gt; Removes a given node from a slot.  <a href="#ga1d6232adcf00094597a66d9f5740d5f8">More...</a><br/></td></tr>
<tr class="separator:ga1d6232adcf00094597a66d9f5740d5f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6e3a3aaea710f4174509dc2858041732"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d0c/group__tcmi__slot__class.html#ga6e3a3aaea710f4174509dc2858041732">tcmi_slot_remove_safe</a> (struct <a class="el" href="../../da/d0c/group__tcmi__slot__class.html#d9/dbb/structtcmi__slot">tcmi_slot</a> *<a class="el" href="../../db/d61/group__tcmi__penman__class.html#gae3924f624412b270d461d2543744407e">self</a>, <a class="el" href="../../da/d0c/group__tcmi__slot__class.html#ga97f49e924fec185311972baf87d31897">tcmi_slot_node_t</a> *node)</td></tr>
<tr class="memdesc:ga6e3a3aaea710f4174509dc2858041732"><td class="mdescLeft">&#160;</td><td class="mdescRight">&lt;&lt;public&gt;&gt; Removes a given node from a slot.  <a href="#ga6e3a3aaea710f4174509dc2858041732">More...</a><br/></td></tr>
<tr class="separator:ga6e3a3aaea710f4174509dc2858041732"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>This class represents a slot that is part of a slot vector. </p>
<p>The slot contains a head of a doubly linked list. This list is used for storing objects. Objects within a slot are stored(linked together by means of tcmi_slot_node_t. Each slot is identified by its number. That way, the user can locate it in the <a class="el" href="../../d0/db7/group__tcmi__slotvec__class.html">slot vector </a>.</p>
<p>Also the slots are internally linked together by the slot_list. The slot is inserted into used_ or unused_slots list. This allows fast allocation of empty slots. The unused_/used_slots list management is done by each slot on its own. The references to unused_/used_slots list are always shared by all slots within a particular slot vector.</p>
<p>An typical object that wants to be stored in a slot will look like this: </p>
<pre class="fragment">* struct object {
*   tcmi_slot_node_t node;
*       .
*       .
*      (other object data items)
* };
* 
* </pre> <hr/><h2 class="groupheader">Data Structure Documentation</h2>
<a name="d9/dbb/structtcmi__slot" id="d9/dbb/structtcmi__slot"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct tcmi_slot</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>A slot compound structure. </p>
<p>Contains the list of items stored items. Also there is another list head provided. This is for internal use by the <a class="el" href="../../d0/db7/group__tcmi__slotvec__class.html#da/ded/structtcmi__slotvec" title="A slot vector compound structure.">tcmi_slotvec</a> class. </p>

<p>Definition at line <a class="el" href="../../d3/d94/tcmi__slot_8h_source.html#l00154">154</a> of file <a class="el" href="../../d3/d94/tcmi__slot_8h_source.html">tcmi_slot.h</a>.</p>
</div><div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="../../closed.png" alt="+"/> Collaboration diagram for tcmi_slot:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../d5/dbd/structtcmi__slot__coll__graph.png" border="0" usemap="#tcmi__slot_coll__map" alt="Collaboration graph"/></div>
</div>
<table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a093ba879cbb6ee5f47346dede4d730dc"></a>struct hlist_head</td>
<td class="fieldname">
head</td>
<td class="fielddoc">
head of the list of items stored in the slot </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a0d3c81604a37e7371825d749f92783d6"></a>u_int</td>
<td class="fieldname">
index</td>
<td class="fielddoc">
The slot number. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a7695cf676f028a1e262e451c539afda6"></a>unsigned long</td>
<td class="fieldname">
lock_flags</td>
<td class="fielddoc">
Technical field used for irq safe spinlocks. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a971f70663297ddd49921817000debb59"></a>spinlock_t *</td>
<td class="fieldname">
s_lock</td>
<td class="fielddoc">
Protects the unused/used_slots lists from concurrent modification. <p>Also, this lock is used when modifying the slot itself. Maybe, it would be a good idea to have a separate lock for each slot in addition to this one. The drawback would be the increased size of the slot. I will keep it like this for now </p>
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="accb7898bbbd733b4440fdb1315c763e1"></a>struct list_head</td>
<td class="fieldname">
slot_list</td>
<td class="fielddoc">
used when linking slots in used or unused lists </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a9bf3bc399e445a460e2c65e041d09bfd"></a>struct list_head *</td>
<td class="fieldname">
unused_slots</td>
<td class="fielddoc">
Protects the slotvector from concurrent modification. <p>list of unused slots </p>
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a37a7c3909317ae449ca60bc3c82bb1b6"></a>struct list_head *</td>
<td class="fieldname">
used_slots</td>
<td class="fielddoc">
list of used slots </td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="ga25ff69a7b6d4ba8ef5b85079c0320872"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define tcmi_slot_entry</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ptr, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../da/d20/tcmi__ckpt__vm__area_8h.html#a976c268fd0b6ffe448e05822bc0bb364">type</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">member&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;hlist_entry(ptr, <a class="el" href="../../da/d20/tcmi__ckpt__vm__area_8h.html#a976c268fd0b6ffe448e05822bc0bb364">type</a>, member)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>&lt;&lt;public&gt;&gt; Extracts the actual entry from a slot node </p>

<p>Definition at line <a class="el" href="../../d3/d94/tcmi__slot_8h_source.html#l00071">71</a> of file <a class="el" href="../../d3/d94/tcmi__slot_8h_source.html">tcmi_slot.h</a>.</p>

<p>Referenced by <a class="el" href="../../d9/d86/tcmi__penman_8c_source.html#l00134">check_duplicates()</a>, <a class="el" href="../../d6/d82/tcmi__migman_8c_source.html#l00307">kill_all_tasks()</a>, <a class="el" href="../../dd/dbd/tcmi__man_8c_source.html#l00372">tcmi_man_get_non_shutdowning_migman()</a>, and <a class="el" href="../../d9/ded/tcmi__penmigman_8c_source.html#l00195">tcmi_penmigman_migrate_all_home()</a>.</p>

</div>
</div>
<a class="anchor" id="ga4035f12ea6373f91f7624ce2b209437d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define tcmi_slot_find_first</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">object, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">slot, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">member&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> {                                <a class="code" href="../../da/d0c/group__tcmi__slot__class.html#ga97f49e924fec185311972baf87d31897" title="A slot node is in fact a hlist node.">\</a></div>
<div class="line"><a class="code" href="../../da/d0c/group__tcmi__slot__class.html#ga97f49e924fec185311972baf87d31897" title="A slot node is in fact a hlist node.">	tcmi_slot_node_t</a> *__node;              \</div>
<div class="line">    tcmi_slot_for_each_entry(<span class="keywordtype">object</span>, __node, slot, member)  \</div>
<div class="line">        break;                      \</div>
<div class="line">} <span class="keywordflow">while</span>(0)</div>
</div><!-- fragment -->
<p>&lt;&lt;public&gt;&gt; Returns the first object in the slot. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">object</td><td>- will store the pointer to the object in the slot </td></tr>
    <tr><td class="paramname">slot</td><td>- from which to take the first object </td></tr>
    <tr><td class="paramname">member</td><td>- name of the list node member in the object </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../d3/d94/tcmi__slot_8h_source.html#l00120">120</a> of file <a class="el" href="../../d3/d94/tcmi__slot_8h_source.html">tcmi_slot.h</a>.</p>

<p>Referenced by <a class="el" href="../../d2/de0/tcmi__ccnman_8c_source.html#l00552">tcmi_ccnman_thread()</a>, <a class="el" href="../../dd/dbd/tcmi__man_8c_source.html#l00504">tcmi_man_emig_npm()</a>, <a class="el" href="../../dd/dbd/tcmi__man_8c_source.html#l00455">tcmi_man_emig_ppm_p()</a>, <a class="el" href="../../dd/dbd/tcmi__man_8c_source.html#l00542">tcmi_man_fork()</a>, and <a class="el" href="../../dd/dbd/tcmi__man_8c_source.html#l00173">tcmi_man_send_generic_user_message()</a>.</p>

</div>
</div>
<a class="anchor" id="ga344314dfdafec96ad6d8398963749fa4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define tcmi_slot_for_each</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">node, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">slot&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;hlist_for_each(node, &amp;slot-&gt;head)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>&lt;&lt;public&gt;&gt; Iterates through all nodes in the slot. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">node</td><td>- every iteration points to a new node </td></tr>
    <tr><td class="paramname">slot</td><td>- slot that we are iterating through </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../d3/d94/tcmi__slot_8h_source.html#l00079">79</a> of file <a class="el" href="../../d3/d94/tcmi__slot_8h_source.html">tcmi_slot.h</a>.</p>

<p>Referenced by <a class="el" href="../../d9/d86/tcmi__penman_8c_source.html#l00134">check_duplicates()</a>, <a class="el" href="../../d6/d82/tcmi__migman_8c_source.html#l00307">kill_all_tasks()</a>, <a class="el" href="../../dd/dbd/tcmi__man_8c_source.html#l00372">tcmi_man_get_non_shutdowning_migman()</a>, <a class="el" href="../../d9/ded/tcmi__penmigman_8c_source.html#l00195">tcmi_penmigman_migrate_all_home()</a>, and <a class="el" href="../../d3/d94/tcmi__slot_8h_source.html#l00361">tcmi_slot_remove_safe()</a>.</p>

</div>
</div>
<a class="anchor" id="ga9ae513b589152761d653fa5ea07621fe"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define tcmi_slot_for_each_entry</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">object, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">node, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">slot, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">member&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;hlist_for_each_entry(object, node, &amp;slot-&gt;head, member)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>&lt;&lt;public&gt;&gt; Iterates through all nodes in the slot. </p>
<p>This is intended for traversals only, no removals should take place. We still need to ensure the slot protection against concurrent manipulation from other threads.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">object</td><td>- every iteration points to a new object </td></tr>
    <tr><td class="paramname">node</td><td>- temporary storage for the current tcmi_slot_node_t </td></tr>
    <tr><td class="paramname">slot</td><td>- slot that we are iterating through </td></tr>
    <tr><td class="paramname">member</td><td>- name of the list node member in the object </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../d3/d94/tcmi__slot_8h_source.html#l00092">92</a> of file <a class="el" href="../../d3/d94/tcmi__slot_8h_source.html">tcmi_slot.h</a>.</p>

<p>Referenced by <a class="el" href="../../d4/d2c/tcmi__transaction_8c_source.html#l00280">tcmi_transaction_lookup()</a>.</p>

</div>
</div>
<a class="anchor" id="ga7785c97273774df44a8bb79d61066217"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define tcmi_slot_for_each_entry_safe</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">object, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">node, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">node2, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">slot, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">member&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;hlist_for_each_entry_safe(object, node, node2, &amp;slot-&gt;head, member)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>&lt;&lt;public&gt;&gt; Iterates through all nodes in the slot - safe version. </p>
<p>This is a version safe against removals. If the current object, will be removed during the iteration, no issues will arise. We still need to ensure the slot protection against concurrent manipulation from other threads.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">object</td><td>- every iteration points to a new object </td></tr>
    <tr><td class="paramname">node</td><td>- temporary storage for the current tcmi_slot_node_t </td></tr>
    <tr><td class="paramname">node2</td><td>- another temporary storage for the copy of the previous node tcmi_slot_node_t </td></tr>
    <tr><td class="paramname">slot</td><td>- slot that we are iterating through </td></tr>
    <tr><td class="paramname">member</td><td>- name of the list node member in the object </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../d3/d94/tcmi__slot_8h_source.html#l00109">109</a> of file <a class="el" href="../../d3/d94/tcmi__slot_8h_source.html">tcmi_slot.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga096c99c25b450d849e11c5e7aa57bb09"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define tcmi_slot_node_unhashed</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">n</td><td>)</td>
          <td>&#160;&#160;&#160;hlist_unhashed(n)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check for node being removed from the hlist. </p>

<p>Definition at line <a class="el" href="../../d3/d94/tcmi__slot_8h_source.html#l00148">148</a> of file <a class="el" href="../../d3/d94/tcmi__slot_8h_source.html">tcmi_slot.h</a>.</p>

<p>Referenced by <a class="el" href="../../d2/de0/tcmi__ccnman_8c_source.html#l00552">tcmi_ccnman_thread()</a>, and <a class="el" href="../../d6/d82/tcmi__migman_8c_source.html#l00208">tcmi_migman_unhash()</a>.</p>

</div>
</div>
<a class="anchor" id="ga4e77d9cb5dbafc0fb6759fa09838d547"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define tcmi_slot_remove_first</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">object, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">slot, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">member&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> {                                    <a class="code" href="../../da/d0c/group__tcmi__slot__class.html#ga97f49e924fec185311972baf87d31897" title="A slot node is in fact a hlist node.">\</a></div>
<div class="line"><a class="code" href="../../da/d0c/group__tcmi__slot__class.html#ga97f49e924fec185311972baf87d31897" title="A slot node is in fact a hlist node.">	tcmi_slot_node_t</a> *__node;                  \</div>
<div class="line">    tcmi_slot_for_each_entry(<span class="keywordtype">object</span>, __node, slot, member) {    \</div>
<div class="line">        __tcmi_slot_remove(slot, &amp;object-&gt;member);      \</div>
<div class="line">        break;                          \</div>
<div class="line">    }                               \</div>
<div class="line">} <span class="keywordflow">while</span>(0)</div>
</div><!-- fragment -->
<p>&lt;&lt;public&gt;&gt; Removes the first object in the slot. </p>
<p>If the slot is empty, does nothing</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">object</td><td>- will store the pointer to the object in the slot </td></tr>
    <tr><td class="paramname">slot</td><td>- from which to take the first object </td></tr>
    <tr><td class="paramname">member</td><td>- name of the list node member in the object </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../d3/d94/tcmi__slot_8h_source.html#l00135">135</a> of file <a class="el" href="../../d3/d94/tcmi__slot_8h_source.html">tcmi_slot.h</a>.</p>

<p>Referenced by <a class="el" href="../../d2/de0/tcmi__ccnman_8c_source.html#l00402">tcmi_ccnman_stop_listen_one()</a>, and <a class="el" href="../../d6/d82/tcmi__migman_8c_source.html#l00208">tcmi_migman_unhash()</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="ga97f49e924fec185311972baf87d31897"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct hlist_node <a class="el" href="../../da/d0c/group__tcmi__slot__class.html#ga97f49e924fec185311972baf87d31897">tcmi_slot_node_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A slot node is in fact a hlist node. </p>

<p>Definition at line <a class="el" href="../../d3/d94/tcmi__slot_8h_source.html#l00145">145</a> of file <a class="el" href="../../d3/d94/tcmi__slot_8h_source.html">tcmi_slot.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga29d8101c5815a6519567c548da4a3c7e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void __tcmi_slot_remove </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/d0c/group__tcmi__slot__class.html#d9/dbb/structtcmi__slot">tcmi_slot</a> *&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d0c/group__tcmi__slot__class.html#ga97f49e924fec185311972baf87d31897">tcmi_slot_node_t</a> *&#160;</td>
          <td class="paramname"><em>node</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>&lt;&lt;public&gt;&gt; Removes a given node from a slot. </p>
<p>No check is performed, whether the node belongs to this slot. If the slot becomes empty by removeing the node, it will be moved to the unused slot list.</p>
<dl class="section note"><dt>Note</dt><dd>This method assumes the s_lock is held.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*self</td><td>- pointer to this slot instance </td></tr>
    <tr><td class="paramname">*node</td><td>- pointer to the node to be removed </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../d3/d94/tcmi__slot_8h_source.html#l00321">321</a> of file <a class="el" href="../../d3/d94/tcmi__slot_8h_source.html">tcmi_slot.h</a>.</p>

<p>References <a class="el" href="../../d6/d01/dbg_8h_source.html#l00210">mdbg</a>, <a class="el" href="../../d0/dc1/proxyfs__server_8c_source.html#l00059">self</a>, <a class="el" href="../../d3/d94/tcmi__slot_8h_source.html#l00217">tcmi_slot_empty()</a>, and <a class="el" href="../../d3/d94/tcmi__slot_8h_source.html#l00306">tcmi_slot_move_unused()</a>.</p>

<p>Referenced by <a class="el" href="../../d3/d94/tcmi__slot_8h_source.html#l00339">tcmi_slot_remove()</a>, and <a class="el" href="../../d3/d94/tcmi__slot_8h_source.html#l00361">tcmi_slot_remove_safe()</a>.</p>
<div class="fragment"><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;{</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    hlist_del_init(node);</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../da/d0c/group__tcmi__slot__class.html#ga6dd63ff2854a9939a5aa094f6543a5d1" title="&lt;&lt;public&gt;&gt; Checks if the slot is empty.">tcmi_slot_empty</a>(<span class="keyword">self</span>)) {</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;        <a class="code" href="../../da/d0c/group__tcmi__slot__class.html#ga2550a3e6624b54e323c73cb1d06e6cd0" title="&lt;&lt;public&gt;&gt; Moves a slot among unused_slots.">tcmi_slot_move_unused</a>(<span class="keyword">self</span>);</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;        <a class="code" href="../../d6/d01/dbg_8h.html#a881516d8ffc635f7f0e87468340c80dc">mdbg</a>(INFO4, <span class="stringliteral">&quot;Slot %d is now empty, moving to unused slots&quot;</span>, self-&gt;<a class="code" href="../../da/d0c/group__tcmi__slot__class.html#a0d3c81604a37e7371825d749f92783d6" title="The slot number.">index</a>);</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    }</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;}</div>
</div><!-- fragment -->
<p><div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../da/d0c/group__tcmi__slot__class_ga29d8101c5815a6519567c548da4a3c7e_cgraph.png" border="0" usemap="#da/d0c/group__tcmi__slot__class_ga29d8101c5815a6519567c548da4a3c7e_cgraph" alt=""/></div>
<map name="da/d0c/group__tcmi__slot__class_ga29d8101c5815a6519567c548da4a3c7e_cgraph" id="da/d0c/group__tcmi__slot__class_ga29d8101c5815a6519567c548da4a3c7e_cgraph">
<area shape="rect" id="node2" href="../../da/d0c/group__tcmi__slot__class.html#ga6dd63ff2854a9939a5aa094f6543a5d1" title="&lt;&lt;public&gt;&gt; Checks if the slot is empty." alt="" coords="214,5,333,32"/><area shape="rect" id="node3" href="../../da/d0c/group__tcmi__slot__class.html#ga2550a3e6624b54e323c73cb1d06e6cd0" title="&lt;&lt;public&gt;&gt; Moves a slot among unused_slots." alt="" coords="193,56,354,83"/><area shape="rect" id="node4" href="../../da/d0c/group__tcmi__slot__class.html#ga8d6885be2677819158e0d956f0cca5b2" title="&lt;&lt;private&gt;&gt; Moves a slot into the specified list." alt="" coords="403,56,515,83"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga6dd63ff2854a9939a5aa094f6543a5d1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int tcmi_slot_empty </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/d0c/group__tcmi__slot__class.html#d9/dbb/structtcmi__slot">tcmi_slot</a> *&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>&lt;&lt;public&gt;&gt; Checks if the slot is empty. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*self</td><td>- pointer to this slot instance </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 - when the slot is empty </dd></dl>

<p>Definition at line <a class="el" href="../../d3/d94/tcmi__slot_8h_source.html#l00217">217</a> of file <a class="el" href="../../d3/d94/tcmi__slot_8h_source.html">tcmi_slot.h</a>.</p>

<p>References <a class="el" href="../../d0/dc1/proxyfs__server_8c_source.html#l00059">self</a>.</p>

<p>Referenced by <a class="el" href="../../d3/d94/tcmi__slot_8h_source.html#l00321">__tcmi_slot_remove()</a>, and <a class="el" href="../../d3/dc2/tcmi__slotvec_8c_source.html#l00117">tcmi_slotvec_put()</a>.</p>
<div class="fragment"><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;{</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    <span class="keywordflow">return</span> hlist_empty(&amp;self-&gt;<a class="code" href="../../da/d0c/group__tcmi__slot__class.html#a093ba879cbb6ee5f47346dede4d730dc" title="head of the list of items stored in the slot">head</a>);</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga821f6b686443bfc7fff52dd3b155de37"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static u_int tcmi_slot_index </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/d0c/group__tcmi__slot__class.html#d9/dbb/structtcmi__slot">tcmi_slot</a> *&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>&lt;&lt;public&gt;&gt; Slot index accessor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*self</td><td>- pointer to this slot instance </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>slot index </dd></dl>

<p>Definition at line <a class="el" href="../../d3/d94/tcmi__slot_8h_source.html#l00228">228</a> of file <a class="el" href="../../d3/d94/tcmi__slot_8h_source.html">tcmi_slot.h</a>.</p>

<p>Referenced by <a class="el" href="../../d2/de0/tcmi__ccnman_8c_source.html#l00302">tcmi_ccnman_listen()</a>, <a class="el" href="../../d2/de0/tcmi__ccnman_8c_source.html#l00613">tcmi_ccnman_process_sock()</a>, <a class="el" href="../../dd/dbd/tcmi__man_8c_source.html#l00504">tcmi_man_emig_npm()</a>, <a class="el" href="../../dd/dbd/tcmi__man_8c_source.html#l00455">tcmi_man_emig_ppm_p()</a>, <a class="el" href="../../dd/dbd/tcmi__man_8c_source.html#l00542">tcmi_man_fork()</a>, <a class="el" href="../../dd/dbd/tcmi__man_8c_source.html#l00173">tcmi_man_send_generic_user_message()</a>, <a class="el" href="../../d8/d88/tcmi__migman_8h_source.html#l00259">tcmi_migman_slot_index()</a>, and <a class="el" href="../../d9/d86/tcmi__penman_8c_source.html#l00167">tcmi_penman_connect()</a>.</p>
<div class="fragment"><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;{</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">self</span>-&gt;index;</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga347147be22f868eacdae39a2846c0e3f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void tcmi_slot_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/d0c/group__tcmi__slot__class.html#d9/dbb/structtcmi__slot">tcmi_slot</a> *&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u_int&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct list_head *&#160;</td>
          <td class="paramname"><em>unused_slots</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct list_head *&#160;</td>
          <td class="paramname"><em>used_slots</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">spinlock_t *&#160;</td>
          <td class="paramname"><em>lock</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initializes a slot. </p>
<p>Assigns it an index and appends it to the tail of the unused_slots list. The slot keeps track whether it is empty or not on its own. That's why we store the unused_slots and used_slots heads inside the slot. The spinlock protects those lists from concurrent modification.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*self</td><td>- pointer to this slot instance </td></tr>
    <tr><td class="paramname">index</td><td>- slot index </td></tr>
    <tr><td class="paramname">unused_slots</td><td>- head of the list of unused slots </td></tr>
    <tr><td class="paramname">used_slots</td><td>- head of the list of used slots </td></tr>
    <tr><td class="paramname">*lock</td><td>- pointer to the lock that will be used when synchronizing access to the slotvector where the slot resides. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../d3/d94/tcmi__slot_8h_source.html#l00198">198</a> of file <a class="el" href="../../d3/d94/tcmi__slot_8h_source.html">tcmi_slot.h</a>.</p>

<p>References <a class="el" href="../../d0/dc1/proxyfs__server_8c_source.html#l00059">self</a>.</p>

<p>Referenced by <a class="el" href="../../d3/dc2/tcmi__slotvec_8c_source.html#l00050">tcmi_slotvec_new()</a>.</p>
<div class="fragment"><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;{</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    <span class="keyword">self</span>-&gt;index = index;</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    INIT_LIST_HEAD(&amp;self-&gt;<a class="code" href="../../da/d0c/group__tcmi__slot__class.html#accb7898bbbd733b4440fdb1315c763e1" title="used when linking slots in used or unused lists">slot_list</a>);</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    INIT_HLIST_HEAD(&amp;self-&gt;<a class="code" href="../../da/d0c/group__tcmi__slot__class.html#a093ba879cbb6ee5f47346dede4d730dc" title="head of the list of items stored in the slot">head</a>);   </div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <span class="keyword">self</span>-&gt;unused_slots = unused_slots;</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    <span class="keyword">self</span>-&gt;used_slots = used_slots;</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <span class="keyword">self</span>-&gt;s_lock = lock;</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    list_add_tail(&amp;self-&gt;<a class="code" href="../../da/d0c/group__tcmi__slot__class.html#accb7898bbbd733b4440fdb1315c763e1" title="used when linking slots in used or unused lists">slot_list</a>, unused_slots);</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="gaefe294678d9d6922b3af1e452a318fa1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void tcmi_slot_insert </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/d0c/group__tcmi__slot__class.html#d9/dbb/structtcmi__slot">tcmi_slot</a> *&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d0c/group__tcmi__slot__class.html#ga97f49e924fec185311972baf87d31897">tcmi_slot_node_t</a> *&#160;</td>
          <td class="paramname"><em>node</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>&lt;&lt;public&gt;&gt; Inserts a new node into the slot. </p>
<p>It is necessary to acquire a lock to prevent races with other threads. The slot is also moved into the used_slots list. This might be considered as overhead operation if the slot is already in that list, but it simplifies the design. Otherwise we would need an extra flag indicating which list it is currently in. Also the operation is O(1), so the penalty is rather small.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*self</td><td>- pointer to this slot instance </td></tr>
    <tr><td class="paramname">*node</td><td>- pointer to the node to be added </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../d3/d94/tcmi__slot_8h_source.html#l00290">290</a> of file <a class="el" href="../../d3/d94/tcmi__slot_8h_source.html">tcmi_slot.h</a>.</p>

<p>References <a class="el" href="../../d6/d01/dbg_8h_source.html#l00210">mdbg</a>, <a class="el" href="../../d0/dc1/proxyfs__server_8c_source.html#l00059">self</a>, <a class="el" href="../../d3/d94/tcmi__slot_8h_source.html#l00239">tcmi_slot_lock()</a>, <a class="el" href="../../d3/d94/tcmi__slot_8h_source.html#l00261">tcmi_slot_move()</a>, and <a class="el" href="../../d3/d94/tcmi__slot_8h_source.html#l00250">tcmi_slot_unlock()</a>.</p>

<p>Referenced by <a class="el" href="../../d2/de0/tcmi__ccnman_8c_source.html#l00302">tcmi_ccnman_listen()</a>, <a class="el" href="../../d2/de0/tcmi__ccnman_8c_source.html#l00613">tcmi_ccnman_process_sock()</a>, <a class="el" href="../../d9/d86/tcmi__penman_8c_source.html#l00167">tcmi_penman_connect()</a>, <a class="el" href="../../d3/dc2/tcmi__slotvec_8c_source.html#l00199">tcmi_slotvec_insert_at()</a>, and <a class="el" href="../../d3/dc2/tcmi__slotvec_8c_source.html#l00217">tcmi_slotvec_insert_at_empty()</a>.</p>
<div class="fragment"><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;{</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    <a class="code" href="../../da/d0c/group__tcmi__slot__class.html#ga109d6d783ebf06046f364f970f84da1f" title="&lt;&lt;public&gt;&gt; Locks the slot data.">tcmi_slot_lock</a>(<span class="keyword">self</span>);</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    <a class="code" href="../../d6/d01/dbg_8h.html#a881516d8ffc635f7f0e87468340c80dc">mdbg</a>(INFO4, <span class="stringliteral">&quot;Inserted node %p into slot %d&quot;</span>, node, self-&gt;<a class="code" href="../../da/d0c/group__tcmi__slot__class.html#a0d3c81604a37e7371825d749f92783d6" title="The slot number.">index</a>);</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    INIT_HLIST_NODE(node);</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    hlist_add_head(node, &amp;self-&gt;<a class="code" href="../../da/d0c/group__tcmi__slot__class.html#a093ba879cbb6ee5f47346dede4d730dc" title="head of the list of items stored in the slot">head</a>);</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    <a class="code" href="../../da/d0c/group__tcmi__slot__class.html#ga8d6885be2677819158e0d956f0cca5b2" title="&lt;&lt;private&gt;&gt; Moves a slot into the specified list.">tcmi_slot_move</a>(<span class="keyword">self</span>, self-&gt;<a class="code" href="../../da/d0c/group__tcmi__slot__class.html#a37a7c3909317ae449ca60bc3c82bb1b6" title="list of used slots">used_slots</a>);</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    <a class="code" href="../../da/d0c/group__tcmi__slot__class.html#ga5447231fec5f42040c40307eb2e6a13c" title="&lt;&lt;public&gt;&gt; Unlocks the instance data">tcmi_slot_unlock</a>(<span class="keyword">self</span>);</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;}</div>
</div><!-- fragment -->
<p><div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../da/d0c/group__tcmi__slot__class_gaefe294678d9d6922b3af1e452a318fa1_cgraph.png" border="0" usemap="#da/d0c/group__tcmi__slot__class_gaefe294678d9d6922b3af1e452a318fa1_cgraph" alt=""/></div>
<map name="da/d0c/group__tcmi__slot__class_gaefe294678d9d6922b3af1e452a318fa1_cgraph" id="da/d0c/group__tcmi__slot__class_gaefe294678d9d6922b3af1e452a318fa1_cgraph">
<area shape="rect" id="node2" href="../../da/d0c/group__tcmi__slot__class.html#ga109d6d783ebf06046f364f970f84da1f" title="&lt;&lt;public&gt;&gt; Locks the slot data." alt="" coords="175,5,281,32"/><area shape="rect" id="node3" href="../../da/d0c/group__tcmi__slot__class.html#ga8d6885be2677819158e0d956f0cca5b2" title="&lt;&lt;private&gt;&gt; Moves a slot into the specified list." alt="" coords="172,56,284,83"/><area shape="rect" id="node4" href="../../da/d0c/group__tcmi__slot__class.html#ga5447231fec5f42040c40307eb2e6a13c" title="&lt;&lt;public&gt;&gt; Unlocks the instance data" alt="" coords="168,107,288,133"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga109d6d783ebf06046f364f970f84da1f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void tcmi_slot_lock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/d0c/group__tcmi__slot__class.html#d9/dbb/structtcmi__slot">tcmi_slot</a> *&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>&lt;&lt;public&gt;&gt; Locks the slot data. </p>
<p>Spin lock used - no sleeping allowed!</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*self</td><td>- pointer to this slot instance </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../d3/d94/tcmi__slot_8h_source.html#l00239">239</a> of file <a class="el" href="../../d3/d94/tcmi__slot_8h_source.html">tcmi_slot.h</a>.</p>

<p>References <a class="el" href="../../d0/dc1/proxyfs__server_8c_source.html#l00059">self</a>.</p>

<p>Referenced by <a class="el" href="../../d6/d82/tcmi__migman_8c_source.html#l00208">tcmi_migman_unhash()</a>, <a class="el" href="../../d3/d94/tcmi__slot_8h_source.html#l00290">tcmi_slot_insert()</a>, <a class="el" href="../../d3/d94/tcmi__slot_8h_source.html#l00339">tcmi_slot_remove()</a>, and <a class="el" href="../../d3/d94/tcmi__slot_8h_source.html#l00361">tcmi_slot_remove_safe()</a>.</p>
<div class="fragment"><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;{</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    <span class="comment">// Have to be irqsave to avoid possible safe-&gt;unsafe conflict in forks</span></div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    spin_lock_irqsave(self-&gt;<a class="code" href="../../da/d0c/group__tcmi__slot__class.html#a971f70663297ddd49921817000debb59" title="Protects the unused/used_slots lists from concurrent modification.">s_lock</a>, self-&gt;<a class="code" href="../../da/d0c/group__tcmi__slot__class.html#a7695cf676f028a1e262e451c539afda6" title="Technical field used for irq safe spinlocks.">lock_flags</a>);</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga8d6885be2677819158e0d956f0cca5b2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void tcmi_slot_move </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/d0c/group__tcmi__slot__class.html#d9/dbb/structtcmi__slot">tcmi_slot</a> *&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct list_head *&#160;</td>
          <td class="paramname"><em>head</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>&lt;&lt;private&gt;&gt; Moves a slot into the specified list. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*self</td><td>- pointer to this slot instance </td></tr>
    <tr><td class="paramname">head</td><td>- list where the slot should be moved </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../d3/d94/tcmi__slot_8h_source.html#l00261">261</a> of file <a class="el" href="../../d3/d94/tcmi__slot_8h_source.html">tcmi_slot.h</a>.</p>

<p>References <a class="el" href="../../d0/dc1/proxyfs__server_8c_source.html#l00059">self</a>.</p>

<p>Referenced by <a class="el" href="../../d3/d94/tcmi__slot_8h_source.html#l00290">tcmi_slot_insert()</a>, and <a class="el" href="../../d3/d94/tcmi__slot_8h_source.html#l00306">tcmi_slot_move_unused()</a>.</p>
<div class="fragment"><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;{</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    list_move(&amp;self-&gt;<a class="code" href="../../da/d0c/group__tcmi__slot__class.html#accb7898bbbd733b4440fdb1315c763e1" title="used when linking slots in used or unused lists">slot_list</a>, head);</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="gaf4af537a62f633859494c6f299d4113c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void tcmi_slot_move_tail </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/d0c/group__tcmi__slot__class.html#d9/dbb/structtcmi__slot">tcmi_slot</a> *&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct list_head *&#160;</td>
          <td class="paramname"><em>head</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>&lt;&lt;private&gt;&gt; Moves a slot to the tail of the specified list. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*self</td><td>- pointer to this slot instance </td></tr>
    <tr><td class="paramname">head</td><td>- list where the slot should be moved </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../d3/d94/tcmi__slot_8h_source.html#l00272">272</a> of file <a class="el" href="../../d3/d94/tcmi__slot_8h_source.html">tcmi_slot.h</a>.</p>

<p>References <a class="el" href="../../d0/dc1/proxyfs__server_8c_source.html#l00059">self</a>.</p>
<div class="fragment"><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;{</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    list_move_tail(&amp;self-&gt;<a class="code" href="../../da/d0c/group__tcmi__slot__class.html#accb7898bbbd733b4440fdb1315c763e1" title="used when linking slots in used or unused lists">slot_list</a>, head);</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga2550a3e6624b54e323c73cb1d06e6cd0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void tcmi_slot_move_unused </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/d0c/group__tcmi__slot__class.html#d9/dbb/structtcmi__slot">tcmi_slot</a> *&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>&lt;&lt;public&gt;&gt; Moves a slot among unused_slots. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*self</td><td>- pointer to this slot instance </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../d3/d94/tcmi__slot_8h_source.html#l00306">306</a> of file <a class="el" href="../../d3/d94/tcmi__slot_8h_source.html">tcmi_slot.h</a>.</p>

<p>References <a class="el" href="../../d0/dc1/proxyfs__server_8c_source.html#l00059">self</a>, and <a class="el" href="../../d3/d94/tcmi__slot_8h_source.html#l00261">tcmi_slot_move()</a>.</p>

<p>Referenced by <a class="el" href="../../d3/d94/tcmi__slot_8h_source.html#l00321">__tcmi_slot_remove()</a>, <a class="el" href="../../d2/de0/tcmi__ccnman_8c_source.html#l00302">tcmi_ccnman_listen()</a>, and <a class="el" href="../../df/db0/tcmi__man_8h_source.html#l00187">tcmi_man_release_migmanslot()</a>.</p>
<div class="fragment"><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;{</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    <a class="code" href="../../da/d0c/group__tcmi__slot__class.html#ga8d6885be2677819158e0d956f0cca5b2" title="&lt;&lt;private&gt;&gt; Moves a slot into the specified list.">tcmi_slot_move</a>(<span class="keyword">self</span>, self-&gt;<a class="code" href="../../da/d0c/group__tcmi__slot__class.html#a9bf3bc399e445a460e2c65e041d09bfd" title="Protects the slotvector from concurrent modification.">unused_slots</a>);</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;}</div>
</div><!-- fragment -->
<p><div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../da/d0c/group__tcmi__slot__class_ga2550a3e6624b54e323c73cb1d06e6cd0_cgraph.png" border="0" usemap="#da/d0c/group__tcmi__slot__class_ga2550a3e6624b54e323c73cb1d06e6cd0_cgraph" alt=""/></div>
<map name="da/d0c/group__tcmi__slot__class_ga2550a3e6624b54e323c73cb1d06e6cd0_cgraph" id="da/d0c/group__tcmi__slot__class_ga2550a3e6624b54e323c73cb1d06e6cd0_cgraph">
<area shape="rect" id="node2" href="../../da/d0c/group__tcmi__slot__class.html#ga8d6885be2677819158e0d956f0cca5b2" title="&lt;&lt;private&gt;&gt; Moves a slot into the specified list." alt="" coords="216,5,328,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga1d6232adcf00094597a66d9f5740d5f8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void tcmi_slot_remove </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/d0c/group__tcmi__slot__class.html#d9/dbb/structtcmi__slot">tcmi_slot</a> *&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d0c/group__tcmi__slot__class.html#ga97f49e924fec185311972baf87d31897">tcmi_slot_node_t</a> *&#160;</td>
          <td class="paramname"><em>node</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>&lt;&lt;public&gt;&gt; Removes a given node from a slot. </p>
<p>No check is performed, whether the node belongs to this slot. After locking the slot, the work is delegated to <a class="el" href="../../da/d0c/group__tcmi__slot__class.html#ga29d8101c5815a6519567c548da4a3c7e" title="&lt;&lt;public&gt;&gt; Removes a given node from a slot.">__tcmi_slot_remove()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*self</td><td>- pointer to this slot instance </td></tr>
    <tr><td class="paramname">*node</td><td>- pointer to the node to be removed </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../d3/d94/tcmi__slot_8h_source.html#l00339">339</a> of file <a class="el" href="../../d3/d94/tcmi__slot_8h_source.html">tcmi_slot.h</a>.</p>

<p>References <a class="el" href="../../d3/d94/tcmi__slot_8h_source.html#l00321">__tcmi_slot_remove()</a>, <a class="el" href="../../d0/dc1/proxyfs__server_8c_source.html#l00059">self</a>, <a class="el" href="../../d3/d94/tcmi__slot_8h_source.html#l00239">tcmi_slot_lock()</a>, and <a class="el" href="../../d3/d94/tcmi__slot_8h_source.html#l00250">tcmi_slot_unlock()</a>.</p>

<p>Referenced by <a class="el" href="../../d6/d82/tcmi__migman_8c_source.html#l00728">tcmi_migman_remove_task()</a>, and <a class="el" href="../../d4/d2c/tcmi__transaction_8c_source.html#l00329">tcmi_transaction_put()</a>.</p>
<div class="fragment"><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;{</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">self</span>) {</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;        <span class="keywordflow">if</span> ( spin_is_locked(self-&gt;<a class="code" href="../../da/d0c/group__tcmi__slot__class.html#a971f70663297ddd49921817000debb59" title="Protects the unused/used_slots lists from concurrent modification.">s_lock</a>) ) {</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;            <a class="code" href="../../da/d0c/group__tcmi__slot__class.html#ga29d8101c5815a6519567c548da4a3c7e" title="&lt;&lt;public&gt;&gt; Removes a given node from a slot.">__tcmi_slot_remove</a>(<span class="keyword">self</span>, node);</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;            <a class="code" href="../../da/d0c/group__tcmi__slot__class.html#ga109d6d783ebf06046f364f970f84da1f" title="&lt;&lt;public&gt;&gt; Locks the slot data.">tcmi_slot_lock</a>(<span class="keyword">self</span>);</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;            <a class="code" href="../../da/d0c/group__tcmi__slot__class.html#ga29d8101c5815a6519567c548da4a3c7e" title="&lt;&lt;public&gt;&gt; Removes a given node from a slot.">__tcmi_slot_remove</a>(<span class="keyword">self</span>, node);</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;            <a class="code" href="../../da/d0c/group__tcmi__slot__class.html#ga5447231fec5f42040c40307eb2e6a13c" title="&lt;&lt;public&gt;&gt; Unlocks the instance data">tcmi_slot_unlock</a>(<span class="keyword">self</span>);       </div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;        }     </div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    }</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;}</div>
</div><!-- fragment -->
<p><div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../da/d0c/group__tcmi__slot__class_ga1d6232adcf00094597a66d9f5740d5f8_cgraph.png" border="0" usemap="#da/d0c/group__tcmi__slot__class_ga1d6232adcf00094597a66d9f5740d5f8_cgraph" alt=""/></div>
<map name="da/d0c/group__tcmi__slot__class_ga1d6232adcf00094597a66d9f5740d5f8_cgraph" id="da/d0c/group__tcmi__slot__class_ga1d6232adcf00094597a66d9f5740d5f8_cgraph">
<area shape="rect" id="node2" href="../../da/d0c/group__tcmi__slot__class.html#ga29d8101c5815a6519567c548da4a3c7e" title="&lt;&lt;public&gt;&gt; Removes a given node from a slot." alt="" coords="177,31,314,57"/><area shape="rect" id="node6" href="../../da/d0c/group__tcmi__slot__class.html#ga109d6d783ebf06046f364f970f84da1f" title="&lt;&lt;public&gt;&gt; Locks the slot data." alt="" coords="192,81,299,108"/><area shape="rect" id="node7" href="../../da/d0c/group__tcmi__slot__class.html#ga5447231fec5f42040c40307eb2e6a13c" title="&lt;&lt;public&gt;&gt; Unlocks the instance data" alt="" coords="185,132,305,159"/><area shape="rect" id="node3" href="../../da/d0c/group__tcmi__slot__class.html#ga6dd63ff2854a9939a5aa094f6543a5d1" title="&lt;&lt;public&gt;&gt; Checks if the slot is empty." alt="" coords="385,5,503,32"/><area shape="rect" id="node4" href="../../da/d0c/group__tcmi__slot__class.html#ga2550a3e6624b54e323c73cb1d06e6cd0" title="&lt;&lt;public&gt;&gt; Moves a slot among unused_slots." alt="" coords="363,56,525,83"/><area shape="rect" id="node5" href="../../da/d0c/group__tcmi__slot__class.html#ga8d6885be2677819158e0d956f0cca5b2" title="&lt;&lt;private&gt;&gt; Moves a slot into the specified list." alt="" coords="573,56,685,83"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga6e3a3aaea710f4174509dc2858041732"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void tcmi_slot_remove_safe </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/d0c/group__tcmi__slot__class.html#d9/dbb/structtcmi__slot">tcmi_slot</a> *&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d0c/group__tcmi__slot__class.html#ga97f49e924fec185311972baf87d31897">tcmi_slot_node_t</a> *&#160;</td>
          <td class="paramname"><em>node</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>&lt;&lt;public&gt;&gt; Removes a given node from a slot. </p>
<p>A check is performed whether the node belongs to this slot. The work is then delegated to <a class="el" href="../../da/d0c/group__tcmi__slot__class.html#ga1d6232adcf00094597a66d9f5740d5f8" title="&lt;&lt;public&gt;&gt; Removes a given node from a slot.">tcmi_slot_remove()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*self</td><td>- pointer to this slot instance </td></tr>
    <tr><td class="paramname">*node</td><td>- pointer to the node to be removed </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../d3/d94/tcmi__slot_8h_source.html#l00361">361</a> of file <a class="el" href="../../d3/d94/tcmi__slot_8h_source.html">tcmi_slot.h</a>.</p>

<p>References <a class="el" href="../../d3/d94/tcmi__slot_8h_source.html#l00321">__tcmi_slot_remove()</a>, <a class="el" href="../../d6/d01/dbg_8h_source.html#l00210">mdbg</a>, <a class="el" href="../../d0/dc1/proxyfs__server_8c_source.html#l00059">self</a>, <a class="el" href="../../d3/d94/tcmi__slot_8h_source.html#l00079">tcmi_slot_for_each</a>, <a class="el" href="../../d3/d94/tcmi__slot_8h_source.html#l00239">tcmi_slot_lock()</a>, and <a class="el" href="../../d3/d94/tcmi__slot_8h_source.html#l00250">tcmi_slot_unlock()</a>.</p>
<div class="fragment"><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;{</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    <span class="keyword">struct </span>hlist_node *slot_node;</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    <span class="keywordtype">int</span> found = 0;</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">self</span>) {</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;        <a class="code" href="../../da/d0c/group__tcmi__slot__class.html#ga109d6d783ebf06046f364f970f84da1f" title="&lt;&lt;public&gt;&gt; Locks the slot data.">tcmi_slot_lock</a>(<span class="keyword">self</span>);</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;        <a class="code" href="../../da/d0c/group__tcmi__slot__class.html#ga344314dfdafec96ad6d8398963749fa4" title="&lt;&lt;public&gt;&gt; Iterates through all nodes in the slot.">tcmi_slot_for_each</a>(slot_node, <span class="keyword">self</span>) {</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;            <span class="keywordflow">if</span> (slot_node == node) {</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;                found = 1;</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;            }</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;        }</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;        <span class="keywordflow">if</span> (found) {</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;            <a class="code" href="../../d6/d01/dbg_8h.html#a881516d8ffc635f7f0e87468340c80dc">mdbg</a>(INFO4, <span class="stringliteral">&quot;Found the node %p in slot %d&quot;</span>, node, self-&gt;<a class="code" href="../../da/d0c/group__tcmi__slot__class.html#a0d3c81604a37e7371825d749f92783d6" title="The slot number.">index</a>);</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;            <a class="code" href="../../da/d0c/group__tcmi__slot__class.html#ga29d8101c5815a6519567c548da4a3c7e" title="&lt;&lt;public&gt;&gt; Removes a given node from a slot.">__tcmi_slot_remove</a>(<span class="keyword">self</span>, node);</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;        }</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;        <a class="code" href="../../da/d0c/group__tcmi__slot__class.html#ga5447231fec5f42040c40307eb2e6a13c" title="&lt;&lt;public&gt;&gt; Unlocks the instance data">tcmi_slot_unlock</a>(<span class="keyword">self</span>);</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    }</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;}</div>
</div><!-- fragment -->
<p><div id="dynsection-6" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../da/d0c/group__tcmi__slot__class_ga6e3a3aaea710f4174509dc2858041732_cgraph.png" border="0" usemap="#da/d0c/group__tcmi__slot__class_ga6e3a3aaea710f4174509dc2858041732_cgraph" alt=""/></div>
<map name="da/d0c/group__tcmi__slot__class_ga6e3a3aaea710f4174509dc2858041732_cgraph" id="da/d0c/group__tcmi__slot__class_ga6e3a3aaea710f4174509dc2858041732_cgraph">
<area shape="rect" id="node2" href="../../da/d0c/group__tcmi__slot__class.html#ga29d8101c5815a6519567c548da4a3c7e" title="&lt;&lt;public&gt;&gt; Removes a given node from a slot." alt="" coords="209,31,346,57"/><area shape="rect" id="node6" href="../../da/d0c/group__tcmi__slot__class.html#ga109d6d783ebf06046f364f970f84da1f" title="&lt;&lt;public&gt;&gt; Locks the slot data." alt="" coords="224,81,331,108"/><area shape="rect" id="node7" href="../../da/d0c/group__tcmi__slot__class.html#ga5447231fec5f42040c40307eb2e6a13c" title="&lt;&lt;public&gt;&gt; Unlocks the instance data" alt="" coords="217,132,337,159"/><area shape="rect" id="node3" href="../../da/d0c/group__tcmi__slot__class.html#ga6dd63ff2854a9939a5aa094f6543a5d1" title="&lt;&lt;public&gt;&gt; Checks if the slot is empty." alt="" coords="417,5,535,32"/><area shape="rect" id="node4" href="../../da/d0c/group__tcmi__slot__class.html#ga2550a3e6624b54e323c73cb1d06e6cd0" title="&lt;&lt;public&gt;&gt; Moves a slot among unused_slots." alt="" coords="395,56,557,83"/><area shape="rect" id="node5" href="../../da/d0c/group__tcmi__slot__class.html#ga8d6885be2677819158e0d956f0cca5b2" title="&lt;&lt;private&gt;&gt; Moves a slot into the specified list." alt="" coords="605,56,717,83"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga5447231fec5f42040c40307eb2e6a13c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void tcmi_slot_unlock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/d0c/group__tcmi__slot__class.html#d9/dbb/structtcmi__slot">tcmi_slot</a> *&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>&lt;&lt;public&gt;&gt; Unlocks the instance data </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*self</td><td>- pointer to this slot instance </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../d3/d94/tcmi__slot_8h_source.html#l00250">250</a> of file <a class="el" href="../../d3/d94/tcmi__slot_8h_source.html">tcmi_slot.h</a>.</p>

<p>References <a class="el" href="../../d0/dc1/proxyfs__server_8c_source.html#l00059">self</a>.</p>

<p>Referenced by <a class="el" href="../../d6/d82/tcmi__migman_8c_source.html#l00208">tcmi_migman_unhash()</a>, <a class="el" href="../../d3/d94/tcmi__slot_8h_source.html#l00290">tcmi_slot_insert()</a>, <a class="el" href="../../d3/d94/tcmi__slot_8h_source.html#l00339">tcmi_slot_remove()</a>, and <a class="el" href="../../d3/d94/tcmi__slot_8h_source.html#l00361">tcmi_slot_remove_safe()</a>.</p>
<div class="fragment"><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;{</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    spin_unlock_irqrestore(self-&gt;<a class="code" href="../../da/d0c/group__tcmi__slot__class.html#a971f70663297ddd49921817000debb59" title="Protects the unused/used_slots lists from concurrent modification.">s_lock</a>, self-&gt;<a class="code" href="../../da/d0c/group__tcmi__slot__class.html#a7695cf676f028a1e262e451c539afda6" title="Technical field used for irq safe spinlocks.">lock_flags</a>);</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Sun May 12 2013 19:06:07 for Clondike by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.3.1 </li>
  </ul>
</div>
</body>
</html>
